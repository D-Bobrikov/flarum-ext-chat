{"version":3,"sources":["webpack://module.exports/webpack/bootstrap","webpack://module.exports/./forum.js","webpack://module.exports/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://module.exports/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://module.exports/./src/forum/components/ChatAvatar.js","webpack://module.exports/./src/forum/components/ChatCreateModal.js","webpack://module.exports/./src/forum/components/ChatEditModal.js","webpack://module.exports/./src/forum/components/ChatEventMessage.js","webpack://module.exports/./src/forum/components/ChatFrame.js","webpack://module.exports/./src/forum/components/ChatMessage.js","webpack://module.exports/./src/forum/components/ChatModal.js","webpack://module.exports/./src/forum/components/ChatPreview.js","webpack://module.exports/./src/forum/components/ChatSearchUser.js","webpack://module.exports/./src/forum/components/ChatViewport.js","webpack://module.exports/./src/forum/components/ChatWelcome.js","webpack://module.exports/./src/forum/components/UsersSearchResults.js","webpack://module.exports/./src/forum/index.js","webpack://module.exports/./src/forum/models/Chat.js","webpack://module.exports/./src/forum/models/Message.js","webpack://module.exports/./src/forum/resources.js","webpack://module.exports/./src/forum/states/ChatState.js","webpack://module.exports/./src/forum/store.js","webpack://module.exports/external \"flarum.core.compat['Component']\"","webpack://module.exports/external \"flarum.core.compat['Model']\"","webpack://module.exports/external \"flarum.core.compat['components/Button']\"","webpack://module.exports/external \"flarum.core.compat['components/Dropdown']\"","webpack://module.exports/external \"flarum.core.compat['components/HeaderPrimary']\"","webpack://module.exports/external \"flarum.core.compat['components/Link']\"","webpack://module.exports/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://module.exports/external \"flarum.core.compat['components/Modal']\"","webpack://module.exports/external \"flarum.core.compat['components/Search']\"","webpack://module.exports/external \"flarum.core.compat['components/Separator']\"","webpack://module.exports/external \"flarum.core.compat['extend']\"","webpack://module.exports/external \"flarum.core.compat['helpers/avatar']\"","webpack://module.exports/external \"flarum.core.compat['helpers/fullTime']\"","webpack://module.exports/external \"flarum.core.compat['helpers/highlight']\"","webpack://module.exports/external \"flarum.core.compat['helpers/icon']\"","webpack://module.exports/external \"flarum.core.compat['helpers/username']\"","webpack://module.exports/external \"flarum.core.compat['models/Group']\"","webpack://module.exports/external \"flarum.core.compat['models/User']\"","webpack://module.exports/external \"flarum.core.compat['utils/ItemList']\"","webpack://module.exports/external \"flarum.core.compat['utils/Stream']\"","webpack://module.exports/external \"flarum.core.compat['utils/SubtreeRetainer']\"","webpack://module.exports/external \"flarum.core.compat['utils/classList']\"","webpack://module.exports/external \"flarum.core.compat['utils/computed']\"","webpack://module.exports/external \"flarum.core.compat['utils/evented']\"","webpack://module.exports/external \"flarum.core.compat['utils/extractText']\"","webpack://module.exports/external \"flarum.core.compat['utils/humanTime']\""],"names":["ChatAvatar","oninit","vnode","model","attrs","componentAvatarPM","classList","avatar","image","avatarUrl","color","textColor","icon","firstLetter","title","toUpperCase","componentAvatarChannel","view","type","string","i","length","isLetter","c","toLowerCase","Component","ChatCreateModal","isChannel","app","translator","trans","onsubmit","store","createRecord","save","getInput","relationships","users","getSelectedUsers","then","ChatState","addChat","onChatChanged","m","redraw","hide","componentFormInputColor","componentFormColor","desc","stream","placeholder","componentFormInputIcon","componentFormIcon","a","componentFormChat","usersSelected","componentFormInput","componentFormUsersSelect","componentFormChannel","isCanCreateChat","alertText","isCanCreateChannel","content","getPermissions","create","channel","bind","ChatModal","ChatEditModal","Stream","deleteChatTitleInput","deleteState","initialUsers","filter","mdl","chat_pivot","id","removed_at","setSelectedUsers","edited","isLocalModerator","isModer","session","user","isLocalLeaved","includes","added","map","Model","getIdentifier","e","removed","Object","keys","k","role","isCreator","creator","groups","some","g","Group","ADMINISTRATOR_ID","userMentionClassname","editable","moder","userMentionDropdownOnclick","button","splice","indexOf","componentUserMentionDropdown","userMentionContent","displayName","isChatPM","userMentionOnClick","$","target","find","trigger","componentFormInputTitle","componentChatInfo","componentUsersMentions","componentFormPM","componentForm","copmonentFormButtons","buttons","push","isCanEditChannel","isCanEditChat","onleave","componentDeleteChat","ondelete","isValidTitleCopy","deleteChat","ChatEventMessage","message","split","every","parsedContent","JSON","parse","componentUserMention","route","componentUserMentionsByIds","ids","getById","componentEventText","chat","creatorname","chatname","usernames","username","componentOld","componentNew","column","old","editorname","add","remove","invitednames","kickednames","extractText","fullTime","created_at","humanTime","ChatMessage","ChatFrame","window","getFrameState","Notification","requestPermission","setInterval","document","addEventListener","chatMoveListener","pusher","alert","apiFetchChats","getChat","querySelector","getChatFrame","getChatHeader","getChatWrapper","getChatViewport","getChatsListPanel","getChatsList","toggleChat","classes","className","showing","contains","saveFrameState","toggleChatsList","chatLists","toggleSound","preventDefault","stopPropagation","toggleNotifications","right","x","y","componentsChats","modal","show","chatHeaderOnMouseDown","getCurrentChat","componentCurViewport","tooltip","dom","el","path","chatMoveStart","event","chatMoving","chatMoveEnd","mouseMoveEvent","chatMoveProcess","moveLast","clientX","clientY","body","removeEventListener","parseInt","style","offsetHeight","chatWrapper","move","wrapperHeight","nextPos","innerWidth","offsetWidth","innerHeight","height","maxHeight","scrollHeight","scrollTop","labels","initLabels","subtree","SubtreeRetainer","freshness","isDeletedForever","isTimedOut","isEditing","isNeedToFlash","modelEvent","name","args","evented","onbeforeupdate","needsRebuild","label","condition","component","editDropDown","editDropDownTimedOut","is_censored","onContentWrapperCreated","onContentWrapperUpdated","hidden","deleted_by","editing","deleted","isVisible","labelBind","edited_at","ago","items","ItemList","edit","moderate","totalHidden","toArray","oncreate","messageWrapper","renderMessage","element","flashItem","oldContent","renderChatMessage","search","neonchat","input","onremove","isChatExists","isExistsPMChat","componentAlert","componentUsersSelect","u","options","css","backgroundColor","Modal","ChatPreview","position","componentPreview","unreaded","onupdate","componentMessageTime","lastMessage","last_message","time","Date","now","getTime","toLocaleTimeString","slice","componentTextPreview","componentTextEmpty","componentPreviewChannel","formatTextPreview","text","startsWith","formatResult","senderName","sender","censored","ChatSearchUser","sourceItems","state","forum","attribute","UsersSearchSource","currentSearch","getInitialSearch","getValue","setValue","current","searching","sources","open","hasFocus","active","loading","loadingSources","value","clear","source","Search","ChatViewport","getViewportState","messageCharLimit","inputPlaceholder","post","on","onChatMessageClicked","wrapperOnCreate","wrapperOnUpdate","wrapperOnScroll","wrapperOnMouseWheel","componentLoader","scroll","all","componentsChatMessages","concat","writingPreview","componentChatMessage","previewModel","inputPressEnter","inputProcess","rows","messageEditing","messageEditEnd","inputPressButton","reachedLimit","display","messageLength","isFastScrollAvailable","componentScroller","fastScroll","watch","getChatInput","oldReached","fastMessagesFetch","Math","max","scrollToBottom","chatmessages","apiFetchChatMessages","r","timedRedraw","pushAttributes","getChatMessages","apiReadChat","autoScroll","autoScrollTimeout","clearTimeout","setTimeout","checkUnreaded","oldScroll","lastFastScrollStatus","wrapper","list","readed_at","isReaded","msg","offsetTop","currentHeight","needToScroll","topMessage","first_message","toISOString","bottomMessage","scrollToAnchor","anchor","Message","stop","animate","inputClear","inputSyncWithPreview","inputValue","trim","lineHeight","getComputedStyle","getPropertyValue","inputPreviewStart","inputPreviewEnd","keyCode","shiftKey","messageSend","pushData","attributes","eventName","messageEdit","messageResend","insertMention","loadingSend","messagePost","insertChatMessage","editChatMessage","chatInput","focus","self","postChatMessage","messagesDraw","messagesFetched","query","timeout","callback","redrawTimeout","ChatWelcome","getChats","UsersSearchResults","props","results","q","page","limit","isUserSelected","userClick","usersList","substr","resultsFind","arr","lastIndexOf","sort","b","localeCompare","resultsSelected","values","LoadingIndicator","size","children","highlight","undefined","moduleInited","initializers","extend","HeaderPrimary","prototype","pivot","attr","transform","hasOne","relationship","data","init","extendGlobalStore","chats","Chat","User","chat_id","removed_by","transformDate","joined_at","_title","_color","hasMany","pm_user","computed","updated","getPMUser","pickTextColorBasedOnBgColorSimple","bgColor","lightColor","darkColor","charAt","substring","is_readed","ip_address","base64AudioNotificationRef","base64AudioNotification","base64PlaceholderAvatarImage","refAudio","Audio","src","resources","volume","audio","curChat","totalHiddenCount","neonchatState","localStorage","getItem","frameState","beingShown","beingShownChatsList","isMuted","notify","isActive","selectedChat","permissions","vision","viewportState","listenSocketChannels","initViewportState","queries","socket","main","handleSocketEvent","console","log","response","pushPayload","actions","invoker","hideChatMessage","restoreChatMessage","deleteChatMessage","editChat","range","eventmsg_range","withFlash","disableLoader","roles_updated_for","alerts","key","setItem","stringify","getChatsSortedByLastUpdate","outside","test","readingTimeout","timestamp","reading","setCurrentChat","user1","user2","colorizeOddChatMessages","odd","get","reverse","each","hasClass","removeClass","addClass","sync","comporatorAscButZerosDesc","viewport","messageNotify","isChatMessageExists","insertEventChatMessage","chatModel","innerText","s9e","TextFormatter","preview","executeScriptsTimeout","executedScripts","scriptURL","scriptTag","createElement","head","appendChild","notifyTry","messageIsMention","notifySend","notifySound","silent","sound","currentTime","play","$item","one","models"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\r\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import Component from 'flarum/Component';\r\nimport classList from 'flarum/utils/classList';\r\n\r\nexport default class ChatAvatar extends Component\r\n{\r\n\toninit(vnode)\r\n\t{\r\n\t\tsuper.oninit(vnode);\r\n\r\n\t\tthis.model = this.attrs.model;\r\n\t}\r\n\r\n\tcomponentAvatarPM()\r\n\t{\r\n\t\treturn (\r\n\t\t\t<div \r\n\t\t\t\tclassName={classList({avatar: true, image: this.model.avatarUrl()})}\r\n\t\t\t\tstyle={{'background-color': this.model.color(), color: this.model.textColor(), 'background-image': this.model.avatarUrl() ? `url(${this.model.avatarUrl()})` : null}}\r\n\t\t\t>\r\n\t\t\t\t{this.model.icon() ? \r\n\t\t\t\t\t<i class={this.model.icon()}></i> \r\n\t\t\t\t\t: (this.model.avatarUrl() ? null : this.firstLetter(this.model.title()).toUpperCase())\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tcomponentAvatarChannel()\r\n\t{\r\n\t\treturn (\r\n\t\t\t<div \r\n\t\t\t\tclassName='avatar'\r\n\t\t\t\tstyle={{'background-color': this.model.color(), color: this.model.textColor()}}\r\n\t\t\t>\r\n\t\t\t\t{this.model.icon() ? \r\n\t\t\t\t\t<i class={this.model.icon()}></i> \r\n\t\t\t\t\t: (this.model.avatarUrl() ? null : this.firstLetter(this.model.title()).toUpperCase())\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tview(vnode)\r\n\t{\r\n\t\treturn this.model.type() == 1 ? this.componentAvatarChannel() : this.componentAvatarPM()\r\n\t}\r\n\r\n\tfirstLetter(string)\r\n\t{\r\n\t\tfor(let i = 0; i < string.length; i++)\r\n\t\t{\r\n\t\t\tif(this.isLetter(string[i]))\r\n\t\t\t\treturn string[i];\r\n\t\t}\r\n\t\treturn string[0];\r\n\t}\r\n\r\n\tisLetter(c) \r\n\t{\r\n\t\treturn c.toLowerCase() != c.toUpperCase();\r\n\t}\r\n}","import Button from 'flarum/components/Button';\r\nimport classList from 'flarum/utils/classList';\r\n\r\nimport ChatSearchUser from './ChatSearchUser';\r\nimport ChatModal from './ChatModal';\r\nimport Stream from 'flarum/utils/Stream';\r\n\r\nimport ChatState from '../states/ChatState';\r\n\r\nexport default class ChatCreateModal extends ChatModal\r\n{\r\n\toninit(vnode)\r\n\t{\r\n\t\tsuper.oninit(vnode);\r\n\r\n\t\tthis.isChannel = false;\r\n\t}\r\n\r\n\ttitle() \r\n\t{\r\n\t\treturn app.translator.trans('pushedx-chat.forum.chat.list.add_modal.title');\r\n\t}\r\n\r\n\tonsubmit()\r\n\t{\r\n\t\tapp.store.createRecord('chats').save({\r\n\t\t\ttitle: this.getInput().title(), \r\n\t\t\tisChannel: this.isChannel, \r\n\t\t\ticon: this.getInput().icon(),\r\n\t\t\tcolor: this.getInput().color(),\r\n\t\t\trelationships: {users: this.getSelectedUsers()}\r\n\t\t}).then(\r\n\t\t\tmodel =>\r\n\t\t\t{\r\n\t\t\t\tChatState.addChat(model);\r\n\t\t\t\tChatState.onChatChanged(model);\r\n\t\t\t\tm.redraw();\r\n\t\t\t}\r\n\t\t);\r\n\t\tthis.hide();\r\n\t}\r\n\r\n\tcomponentFormInputColor()\r\n\t{\r\n\t\treturn this.componentFormColor({\r\n\t\t\ttitle: app.translator.trans('pushedx-chat.forum.chat.list.add_modal.form.color'),\r\n\t\t\tdesc: app.translator.trans('pushedx-chat.forum.chat.list.add_modal.form.color.validator'),\r\n\t\t\tstream: this.getInput().color,\r\n\t\t\tplaceholder: app.translator.trans('pushedx-chat.forum.chat.list.add_modal.form.color')\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentFormInputIcon()\r\n\t{\r\n\t\treturn this.componentFormIcon({\r\n\t\t\ttitle: app.translator.trans('pushedx-chat.forum.chat.list.add_modal.form.icon'),\r\n\t\t\tdesc: app.translator.trans('pushedx-chat.forum.chat.list.add_modal.form.icon.validator', {a: <a href=\"https://fontawesome.com/icons?m=free\" tabindex=\"-1\" target=\"blank\"/>}),\r\n\t\t\tstream: this.getInput().icon,\r\n\t\t\tplaceholder: 'fas fa-bolt'\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentFormChat()\r\n\t{\r\n\t\treturn [\r\n\t\t\tthis.usersSelected.length > 1 ? [\r\n\t\t\t\tthis.componentFormInput({\r\n\t\t\t\t\ttitle: app.translator.trans('pushedx-chat.forum.chat.list.add_modal.form.title.chat'),\r\n\t\t\t\t\tdesc: app.translator.trans('pushedx-chat.forum.chat.list.add_modal.form.title.validator'),\r\n\t\t\t\t\tstream: this.getInput().title,\r\n\t\t\t\t\tplaceholder: app.translator.trans('pushedx-chat.forum.chat.list.add_modal.form.title.chat')\r\n\t\t\t\t}),\r\n\t\t\t\tthis.componentFormInputColor(),\r\n\t\t\t\tthis.componentFormInputIcon()\r\n\t\t\t] : null,\r\n\t\t\tthis.componentFormUsersSelect()\r\n\t\t]\r\n\t}\r\n\r\n\tcomponentFormChannel()\r\n\t{\r\n\t\treturn [\r\n\t\t\tthis.componentFormInput({\r\n\t\t\t\ttitle: app.translator.trans('pushedx-chat.forum.chat.list.add_modal.form.title.channel'),\r\n\t\t\t\tdesc: app.translator.trans('pushedx-chat.forum.chat.list.add_modal.form.title.validator'),\r\n\t\t\t\tstream: this.getInput().title,\r\n\t\t\t\tplaceholder: app.translator.trans('pushedx-chat.forum.chat.list.add_modal.form.title.channel')\r\n\t\t\t}),\r\n\t\t\tthis.componentFormInputColor(),\r\n\t\t\tthis.componentFormInputIcon()\r\n\t\t]\r\n\t}\r\n\r\n\tisCanCreateChat()\r\n\t{\r\n\t\tif(this.getSelectedUsers().length > 1 && !this.getInput().title().length) return false;\r\n\t\tif(!this.getSelectedUsers().length) return false;\r\n\t\tif(this.alertText()) return false;\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tisCanCreateChannel()\r\n\t{\r\n\t\treturn this.getInput().title().length;\r\n\t}\r\n\r\n\tcontent() {\r\n\t\treturn (\r\n\t\t\t<div className=\"Modal-body Modal-body--neonchat\">\r\n\t\t\t\t<div class=\"Form-group InputTitle\">\r\n\t\t\t\t\t{ChatState.getPermissions().create.channel ? <div className=\"ChatType\">\r\n\t\t\t\t\t\t<div className={classList({'Tab Tab--left': true, 'Tab--active': !this.isChannel})}\r\n\t\t\t\t\t\t\tonclick={(() => this.isChannel = false).bind(this)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{app.translator.trans('pushedx-chat.forum.chat.list.add_modal.chat')}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={classList({'Tab Tab--right': true, 'Tab--active': this.isChannel})}\r\n\t\t\t\t\t\t\tonclick={(() => this.isChannel = true).bind(this)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{app.translator.trans('pushedx-chat.forum.chat.list.add_modal.channel')}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div> : null}\r\n\t\t\t\t\t{this.isChannel ? this.componentFormChannel() : this.componentFormChat()}\r\n\t\t\t\t\t<div className=\"ButtonsPadding\"></div>\r\n\t\t\t\t\t<Button \r\n\t\t\t\t\t\tclassName='Button Button--primary Button--block'\r\n\t\t\t\t\t\tdisabled={this.isChannel ? !this.isCanCreateChannel() : !this.isCanCreateChat()}\r\n\t\t\t\t\t\tonclick={this.onsubmit.bind(this)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{app.translator.trans('pushedx-chat.forum.chat.list.add_modal.create.chat')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import Button from 'flarum/components/Button';\r\nimport Dropdown from 'flarum/components/Dropdown';\r\nimport classList from 'flarum/utils/classList';\r\nimport Model from 'flarum/Model';\r\nimport Group from 'flarum/models/Group'\r\n\r\nimport ChatModal from './ChatModal';\r\nimport Stream from 'flarum/utils/Stream';\r\n\r\nimport ChatState from '../states/ChatState';\r\n\r\nexport default class ChatEditModal extends ChatModal\r\n{\r\n\toninit(vnode)\r\n\t{\r\n\t\tsuper.oninit(vnode);\r\n\r\n\t\tthis.getInput().title = Stream(this.model.title());\r\n\t\tthis.getInput().color = Stream(this.model.color());\r\n\t\tthis.getInput().icon = Stream(this.model.icon());\r\n\r\n\t\tthis.deleteChatTitleInput = Stream('');\r\n\t\tthis.deleteState = 0;\r\n\r\n\t\tthis.initialUsers = this.model.users().filter(mdl => !mdl.chat_pivot(this.model.id()).removed_at());\r\n\t\tthis.setSelectedUsers(this.model.users().filter(mdl => !mdl.chat_pivot(this.model.id()).removed_at()));\r\n\t\tthis.edited = {};\r\n\r\n\t\tthis.isLocalModerator = this.isModer(app.session.user);\r\n\t\tthis.isLocalLeaved = !this.initialUsers.includes(app.session.user);\r\n\t}\r\n\r\n\ttitle() \r\n\t{\r\n\t\treturn app.translator.trans('pushedx-chat.forum.chat.edit_modal.title');\r\n\t}\r\n\r\n\tonsubmit()\r\n\t{\r\n\t\tlet added = this.getSelectedUsers().map(mdl => !this.initialUsers.includes(mdl) ? Model.getIdentifier(mdl) : null).filter(e => e);\r\n\t\tlet removed = this.initialUsers.map(mdl => !this.getSelectedUsers().includes(mdl) ? Model.getIdentifier(mdl) : null).filter(e => e);\r\n\t\tlet edited = Object.keys(this.edited).map(k => this.edited[k] = {id: k, ...this.edited[k]});\r\n\r\n\t\tthis.model.save({\r\n\t\t\ttitle: this.getInput().title(),\r\n\t\t\tcolor: this.getInput().color(),\r\n\t\t\ticon: this.getInput().icon(),\r\n\t\t\tusers: {added, removed, edited},\r\n\t\t\trelationships: {users: this.getSelectedUsers()}\r\n\t\t});\r\n\r\n\t\tthis.hide();\r\n\t}\r\n\r\n\talertText()\r\n\t{\r\n\t\treturn null;\r\n\t}\r\n\r\n\tisModer(user)\r\n\t{\r\n\t\tif(!user) return false;\r\n\t\tif(this.edited[user.id()]?.role ?? user.chat_pivot(this.model.id()).role()) return true;\r\n\t\tif(this.isCreator(user)) return true;\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tisCreator(user)\r\n\t{\r\n\t\treturn user.chat_pivot(this.model.id()).role() == 2 || (!this.model.creator() && user.groups() && user.groups().some(g => g.id() == Group.ADMINISTRATOR_ID));\r\n\t}\r\n\r\n\tuserMentionClassname(user)\r\n\t{\r\n\t\treturn classList({editable: true, moder: this.isModer(user), creator: this.isCreator(user)});\r\n\t}\r\n\r\n\tuserMentionDropdownOnclick(user, button)\r\n\t{\r\n\t\tswitch(button)\r\n\t\t{\r\n\t\t\tcase 'moder':\r\n\t\t\t{\r\n\t\t\t\tif(this.isModer(user)) this.edited[user.id()] = {role: 0};\r\n\t\t\t\telse this.edited[user.id()] = {role: 1};\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'kick':\r\n\t\t\t{\r\n\t\t\t\tthis.getSelectedUsers().splice(this.getSelectedUsers().indexOf(user), 1);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentUserMentionDropdown(user)\r\n\t{\r\n\t\treturn (\r\n\t\t\t<Dropdown \r\n\t\t\t\tbuttonClassName=\"Button Button--icon Button--flat Button--mention-edit\"\r\n\t\t\t\tmenuClassName=\"Dropdown-menu--top Dropdown-menu--bottom Dropdown-menu--left Dropdown-menu--right\"\r\n\t\t\t\ticon=\"fas fa-chevron-down\"\r\n\t\t\t>\r\n\t\t\t\t<Button \r\n\t\t\t\t\ticon={this.isModer(user) ? 'fas fa-times' : 'fas fa-users-cog'}\r\n\t\t\t\t\tonclick={this.userMentionDropdownOnclick.bind(this, user, 'moder')}\r\n\t\t\t\t\tdisabled={user == app.session.user || !this.isCreator(app.session.user) || this.isCreator(user)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{app.translator.trans('pushedx-chat.forum.chat.moder')}\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button \r\n\t\t\t\t\ticon='fas fa-trash-alt'\r\n\t\t\t\t\tonclick={this.userMentionDropdownOnclick.bind(this, user, 'kick')}\r\n\t\t\t\t\tdisabled={user.chat_pivot(this.model.id()).role() >= this.isLocalModerator && user != app.session.user}\r\n\t\t\t\t>\r\n\t\t\t\t\t{app.translator.trans(`pushedx-chat.forum.chat.${user == app.session.user ? 'leave' : 'kick'}`)}\r\n\t\t\t\t</Button>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\t}\r\n\r\n\tuserMentionContent(user)\r\n\t{\r\n\t\treturn [\r\n\t\t\t'@' + user.displayName(),\r\n\t\t\tthis.isLocalModerator && !ChatState.isChatPM(this.model) ? this.componentUserMentionDropdown(user) : null\r\n\t\t];\r\n\t}\r\n\r\n\tuserMentionOnClick(user, e)\r\n\t{\r\n\t\tthis.$(e.target).find('.Dropdown').trigger('shown.bs.dropdown');\r\n\t}\r\n\r\n\tcomponentFormInputIcon()\r\n\t{\r\n\t\treturn this.componentFormIcon({\r\n\t\t\ttitle: app.translator.trans('pushedx-chat.forum.chat.edit_modal.form.icon'),\r\n\t\t\tdesc: app.translator.trans('pushedx-chat.forum.chat.edit_modal.form.icon.validator', {a: <a href=\"https://fontawesome.com/icons?m=free\" tabindex=\"-1\" target=\"blank\" />}),\r\n\t\t\tstream: this.getInput().icon,\r\n\t\t\tplaceholder: 'fas fa-bolt'\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentFormInputTitle()\r\n\t{\r\n\t\treturn this.componentFormInput({\r\n\t\t\ttitle: app.translator.trans('pushedx-chat.forum.chat.edit_modal.form.title'),\r\n\t\t\tdesc: app.translator.trans('pushedx-chat.forum.chat.edit_modal.form.title.validator'),\r\n\t\t\tstream: this.getInput().title,\r\n\t\t\tplaceholder: app.translator.trans('pushedx-chat.forum.chat.edit_modal.form.title')\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentFormInputColor()\r\n\t{\r\n\t\treturn this.componentFormColor({\r\n\t\t\ttitle: app.translator.trans('pushedx-chat.forum.chat.edit_modal.form.color'),\r\n\t\t\tdesc: app.translator.trans('pushedx-chat.forum.chat.edit_modal.form.color.validator'),\r\n\t\t\tstream: this.getInput().color,\r\n\t\t\tplaceholder: app.translator.trans('pushedx-chat.forum.chat.edit_modal.form.color')\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentChatInfo()\r\n\t{\r\n\t\treturn [\r\n\t\t\t<label><h2>{this.model.title()}</h2></label>,\r\n\t\t\tthis.componentUsersMentions()\r\n\t\t];\r\n\t}\r\n\r\n\tcomponentFormPM()\r\n\t{\r\n\t\treturn this.componentChatInfo();\r\n\t}\r\n\r\n\tcomponentFormChannel()\r\n\t{\r\n\t\treturn this.isLocalModerator ? [\r\n\t\t\tthis.componentFormInputTitle(),\r\n\t\t\tthis.componentFormInputColor(),\r\n\t\t\tthis.componentFormInputIcon(),\r\n\t\t\tthis.componentFormUsersSelect('pushedx-chat.forum.chat.edit_modal.form.users.edit')\r\n\t\t] \r\n\t\t: this.componentChatInfo();\r\n\t}\r\n\r\n\tcomponentFormChat()\r\n\t{\r\n\t\treturn this.isLocalModerator ? [\r\n\t\t\tthis.componentFormInputTitle(),\r\n\t\t\tthis.componentFormInputColor(),\r\n\t\t\tthis.componentFormInputIcon(),\r\n\t\t\tthis.componentFormUsersSelect()\r\n\t\t] \r\n\t\t: this.componentChatInfo();\r\n\t}\r\n\r\n\tcomponentForm()\r\n\t{\r\n\t\tif(this.model.type()) return this.componentFormChannel();\r\n\t\tif(ChatState.isChatPM(this.model)) return this.componentFormPM();\r\n\t\t\r\n\t\treturn this.componentFormChat();\r\n\t}\r\n\r\n\tcopmonentFormButtons()\r\n\t{\r\n\t\tlet buttons = [];\r\n\r\n\t\tif(this.isLocalModerator && !ChatState.isChatPM(this.model))\r\n\t\t\tbuttons.push(\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName='Button Button--primary Button--block ButtonSave'\r\n\t\t\t\t\tonclick={this.onsubmit.bind(this)}\r\n\t\t\t\t\tdisabled={this.model.type() ? !this.isCanEditChannel() : !this.isCanEditChat()}\r\n\t\t\t\t>\r\n\t\t\t\t\t{app.translator.trans('pushedx-chat.forum.chat.edit_modal.save_button')}\r\n\t\t\t\t</Button>\r\n\t\t\t)\r\n\r\n\t\tbuttons.push(\r\n\t\t\t<Button\r\n\t\t\t\tclassName='Button Button--primary Button--block ButtonLeave'\r\n\t\t\t\tonclick={this.onleave.bind(this)}\r\n\t\t\t\tdisabled={this.model.type() ? !this.isCanEditChannel() : !this.isCanEditChat()}\r\n\t\t\t>\r\n\t\t\t\t{app.translator.trans(`pushedx-chat.forum.chat.edit_modal.form.${this.isLocalLeaved ? 'return' : 'leave'}`)}\r\n\t\t\t</Button>\r\n\t\t)\r\n\r\n\t\tif(!ChatState.isChatPM(this.model) && ChatState.getPermissions().create.channel)\r\n\t\t\tbuttons.push(this.componentDeleteChat())\r\n\r\n\t\treturn buttons;\r\n\t}\r\n\r\n\tonleave()\r\n\t{\r\n\t\tif(!this.isLocalLeaved)\r\n\t\t{\r\n\t\t\tthis.model.save({\r\n\t\t\t\tusers: {removed: [Model.getIdentifier(app.session.user)]},\r\n\t\t\t\trelationships: {users: this.getSelectedUsers()}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.getSelectedUsers().push(app.session.user);\r\n\r\n\t\t\tthis.model.save({\r\n\t\t\t\tusers: {added: [Model.getIdentifier(app.session.user)]},\r\n\t\t\t\trelationships: {users: this.getSelectedUsers()}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.hide();\r\n\t}\r\n\r\n\tisCanEditChannel()\r\n\t{\r\n\t\treturn this.getInput().title().length;\r\n\t}\r\n\r\n\tisCanEditChat()\r\n\t{\r\n\t\tif(this.alertText()) return false;\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tcomponentDeleteChat()\r\n\t{\r\n\t\treturn [\r\n\t\t\tthis.deleteState == 1 ? [<br></br>, this.componentFormInput({\r\n\t\t\t\ttitle: app.translator.trans('pushedx-chat.forum.chat.edit_modal.form.delete.title'),\r\n\t\t\t\tdesc: app.translator.trans('pushedx-chat.forum.chat.edit_modal.form.delete.desc'),\r\n\t\t\t\tplaceholder: app.translator.trans('pushedx-chat.forum.chat.edit_modal.form.delete.placeholder'),\r\n\t\t\t\tstream: this.deleteChatTitleInput\r\n\t\t\t})] : null,\r\n\t\t\t<Button\r\n\t\t\t\tclassName='Button Button--primary Button--block ButtonDelete'\r\n\t\t\t\tonclick={this.ondelete.bind(this)}\r\n\t\t\t\tdisabled={this.deleteState == 1 && !this.isValidTitleCopy()}\r\n\t\t\t>\r\n\t\t\t\t{app.translator.trans('pushedx-chat.forum.chat.edit_modal.form.delete.button')}\r\n\t\t\t</Button>\r\n\t\t];\r\n\t}\r\n\r\n\tisValidTitleCopy()\r\n\t{\r\n\t\treturn this.deleteChatTitleInput() == this.model.title();\r\n\t}\r\n\r\n\tondelete()\r\n\t{\r\n\t\tswitch(this.deleteState)\r\n\t\t{\r\n\t\t\tcase 0: \r\n\t\t\t{\r\n\t\t\t\tthis.deleteState = 1;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 1:\r\n\t\t\t{\r\n\t\t\t\tif(this.isValidTitleCopy())\r\n\t\t\t\t{\r\n\t\t\t\t\tChatState.deleteChat(this.model);\r\n\t\t\t\t\tthis.model.delete();\r\n\r\n\t\t\t\t\tthis.hide();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcontent() {\r\n\t\treturn (\r\n\t\t\t<div className=\"Modal-body Modal-body--neonchat\">\r\n\t\t\t\t<div class=\"Form-group InputTitle\">\r\n\t\t\t\t\t{this.componentForm()}\r\n\t\t\t\t\t<div className=\"ButtonsPadding\"></div>\r\n\t\t\t\t\t{this.copmonentFormButtons()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import ChatMessage from './ChatMessage';\r\nimport Link from 'flarum/components/Link';\r\nimport extractText from 'flarum/utils/extractText';\r\nimport humanTime from 'flarum/utils/humanTime';\r\nimport fullTime from 'flarum/helpers/fullTime';\r\n\r\nexport default class ChatEventMessage extends ChatMessage\r\n{\r\n\toninit(vnode)\r\n\t{\r\n\t\tsuper.oninit(vnode);\r\n\r\n\t\tif(this.model.message().split('').every(c => c == '*')) this.parsedContent = {id: 'chatCensored'}\r\n\t\telse this.parsedContent = JSON.parse(this.model.message());\r\n\t}\r\n\r\n\tcomponentUserMention(user)\r\n\t{\r\n\t\treturn (\r\n\t\t\t<Link href={app.route.user(user)}>\r\n\t\t\t\t<span className='UserMention'>{user.displayName()}</span>\r\n\t\t\t</Link>\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentUserMentionsByIds(ids)\r\n\t{\r\n\t\treturn ids.map(id => this.componentUserMention(app.store.getById('users', id)));\r\n\t}\r\n\r\n\tcomponentEventText()\r\n\t{\r\n\t\tswitch(this.parsedContent.id)\r\n\t\t{\r\n\t\t\tcase 'chatCensored':\r\n\t\t\t{\r\n\t\t\t\treturn <div className='censored' title={app.translator.trans('pushedx-chat.forum.chat.message.censored')}>{this.model.message()}</div>\r\n\t\t\t}\r\n\t\t\tcase 'chatCreated':\r\n\t\t\t{\r\n\t\t\t\tif(!this.model.chat()) return;\r\n\t\t\t\t\r\n\t\t\t\tif(this.model.chat().type() == 1)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn app.translator.trans(`pushedx-chat.forum.chat.message.events.channel.created`, {\r\n\t\t\t\t\t\tcreatorname: this.componentUserMention(this.model.user()), \r\n\t\t\t\t\t\tchatname: <b className='chat-title'>{this.model.chat().title()}</b>,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\treturn app.translator.trans(`pushedx-chat.forum.chat.message.events.chat.created`, {\r\n\t\t\t\t\t\tcreatorname: this.componentUserMention(this.model.user()), \r\n\t\t\t\t\t\tchatname: <b className='chat-title'>{this.model.chat().title()}</b>,\r\n\t\t\t\t\t\tusernames: this.componentUserMentionsByIds(this.parsedContent.users),\r\n\t\t\t\t\t\tusername: this.parsedContent.users.length ? this.componentUserMention(app.store.getById('users', this.parsedContent.users[0])) : null\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcase 'chatEdited':\r\n\t\t\t{\r\n\t\t\t\tlet componentOld, componentNew;\r\n\t\t\t\tswitch(this.parsedContent.column)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'title':\r\n\t\t\t\t\t\tcomponentOld = <b className='chat-title'>{this.parsedContent.old}</b>;\r\n\t\t\t\t\t\tcomponentNew = <b className='chat-title'>{this.parsedContent.new}</b>;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'color':\r\n\t\t\t\t\t\tcomponentOld = <i className='fas fa-circle' style={{color: this.parsedContent.old}}></i>;\r\n\t\t\t\t\t\tcomponentNew = <i className='fas fa-circle' style={{color: this.parsedContent.new}}></i>;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'icon':\r\n\t\t\t\t\t\tcomponentOld = this.parsedContent.old ? <i className={this.parsedContent.old}></i> : <b>[nothing]</b>;\r\n\t\t\t\t\t\tcomponentNew = <i className={this.parsedContent.new}></i>;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\treturn app.translator.trans(`pushedx-chat.forum.chat.message.events.${this.parsedContent.column}.edited`, {\r\n\t\t\t\t\teditorname: this.componentUserMention(this.model.user()),\r\n\t\t\t\t\told: componentOld,\r\n\t\t\t\t\tnew: componentNew\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tcase 'chatAddRemoveUser':\r\n\t\t\t{\r\n\t\t\t\tif(this.parsedContent.add.length && this.parsedContent.remove.length)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn app.translator.trans('pushedx-chat.forum.chat.message.events.users.invited_kicked', {\r\n\t\t\t\t\t\teditorname: this.componentUserMention(this.model.user()),\r\n\t\t\t\t\t\tinvitednames: this.componentUserMentionsByIds(this.parsedContent.add),\r\n\t\t\t\t\t\tkickednames: this.componentUserMentionsByIds(this.parsedContent.remove)\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse if(this.parsedContent.add.length)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(this.parsedContent.add[0] == this.model.user().id())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn app.translator.trans('pushedx-chat.forum.chat.message.events.self.entered', {\r\n\t\t\t\t\t\t\tusername: this.componentUserMention(this.model.user())\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn app.translator.trans('pushedx-chat.forum.chat.message.events.users.invited', {\r\n\t\t\t\t\t\t\teditorname: this.componentUserMention(this.model.user()),\r\n\t\t\t\t\t\t\tusernames: this.componentUserMentionsByIds(this.parsedContent.add)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(this.parsedContent.remove.length)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(this.parsedContent.remove[0] == this.model.user().id())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn app.translator.trans('pushedx-chat.forum.chat.message.events.self.leaved', {\r\n\t\t\t\t\t\t\tusername: this.componentUserMention(this.model.user())\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn app.translator.trans('pushedx-chat.forum.chat.message.events.users.kicked', {\r\n\t\t\t\t\t\t\teditorname: this.componentUserMention(this.model.user()),\r\n\t\t\t\t\t\t\tusernames: this.componentUserMentionsByIds(this.parsedContent.remove)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcontent()\r\n\t{\r\n\t\treturn (\r\n\t\t\t<div className='event'>\r\n\t\t\t\t{this.componentEventText()}\r\n\t\t\t\t<a className='timestamp' title={extractText(fullTime(this.model.created_at()))}>{this.humanTime = humanTime(this.model.created_at())}</a>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import Component from 'flarum/Component';\r\nimport ChatWelcome from './ChatWelcome';\r\n\r\nimport ChatCreateModal from './ChatCreateModal';\r\nimport ChatEditModal from './ChatEditModal';\r\n\r\nimport ChatState from '../states/ChatState';\r\n\r\nexport default class ChatFrame extends Component\r\n{\r\n    oninit(vnode)\r\n    {\r\n        super.oninit(vnode);\r\n\r\n        if(('Notification' in window) && ChatState.getFrameState('notify')) Notification.requestPermission();\r\n\t\tsetInterval(() => m.redraw(), 30000);\r\n\r\n        document.addEventListener('mousedown', this.chatMoveListener.bind(this, 'mousedown'));\r\n        document.addEventListener('mouseup', this.chatMoveListener.bind(this, 'mouseup'));\r\n\r\n        if(!app.pusher)\r\n        {\r\n            alert('Please enable Pusher/WebSocket to use Neon Chat!');\r\n            return;\r\n        }\r\n\r\n        ChatState.apiFetchChats();\r\n    }\r\n\r\n    getChat()\r\n    {\r\n        return document.querySelector('.neonchat');\r\n    }\r\n\r\n    getChatFrame()\r\n    {\r\n        return document.querySelector('.neonchat #chat');\r\n    }\r\n\r\n    getChatHeader()\r\n    {\r\n        return document.querySelector('.neonchat #chat-header');\r\n    }\r\n    \r\n    getChatWrapper()\r\n    {\r\n        return document.querySelector('.neonchat .wrapper');\r\n    }\r\n\r\n    getChatViewport()\r\n    {\r\n        return document.querySelector('.neonchat #chat-viewport');\r\n    }\r\n\r\n    getChatsListPanel()\r\n    {\r\n        return document.querySelector('.neonchat #chats-list');\r\n    }\r\n\r\n    getChatsList()\r\n    {\r\n        return document.querySelector('.neonchat #chats-list .list');\r\n    }\r\n\r\n    toggleChat(e)\r\n    {\r\n        var chat = this.getChat();\r\n        var classes = chat.className;\r\n        var showing = false;\r\n\r\n        if(chat.classList.contains('hidden'))\r\n        {\r\n            chat.classList.remove('hidden')\r\n            showing = true;\r\n        }\r\n        else chat.classList.add('hidden')\r\n\r\n        chat.className = classes;\r\n\r\n        ChatState.saveFrameState('beingShown', showing);\r\n    }\r\n\r\n    toggleChatsList(e)\r\n    {\r\n        var chatLists = this.getChatsListPanel();\r\n        var showing = true;\r\n\r\n        if(chatLists.classList.contains('toggled'))\r\n        {\r\n            chatLists.classList.remove('toggled')\r\n            showing = false;\r\n        }\r\n        else chatLists.classList.add('toggled')\r\n\r\n        ChatState.saveFrameState('beingShownChatsList', showing); \r\n    }\r\n\r\n    toggleSound(e)\r\n    {\r\n        ChatState.saveFrameState('isMuted', !ChatState.getFrameState('isMuted')); \r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    }\r\n\r\n    toggleNotifications(e)\r\n    {\r\n        ChatState.saveFrameState('notify', !ChatState.getFrameState('notify'));\r\n        if(('Notification' in window) && ChatState.getFrameState('notify')) Notification.requestPermission();\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    }\r\n\r\n    view(vnode)\r\n    {\r\n        return (\r\n            <div className={'neonchat left container ' + (ChatState.getFrameState('beingShown') ? '' : 'hidden')} style={{right: ChatState.getFrameState('transform').x + 'px'}}>\r\n                <div tabindex='0' className='frame' id='chat'>\r\n                    <div id='chats-list' className={(ChatState.getFrameState('beingShownChatsList') ? 'toggled' : '')}>\r\n                        <div className='header'>\r\n                            <div className='input-wrapper'>\r\n                                <textarea\r\n                                    id = 'chat-find'\r\n                                    placeholder = {app.translator.trans('pushedx-chat.forum.chat.list.placeholder')}\r\n                                />\r\n                            </div>\r\n                            <div \r\n                                className='icon icon-toggle' \r\n                                onclick={this.toggleChatsList.bind(this)}\r\n                                data-title={app.translator.trans('pushedx-chat.forum.chat.list.' + (ChatState.getFrameState('beingShownChatsList') ? 'unpin' : 'pin'))}\r\n                            >\r\n                                <i className=\"fas fa-paperclip\"></i>\r\n                            </div>\r\n                        </div>\r\n                        <div className='list' style={{'max-height': ChatState.getFrameState('transform').y + 'px'}}>\r\n                            {ChatState.componentsChats()}\r\n                            {app.session.user && ChatState.getPermissions().create.chat ? <div class=\"panel-add\" onclick={() => app.modal.show(ChatCreateModal)}></div> : null}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div id='chat-panel'>\r\n                        <div id='chat-header' ondragstart={() => false} onmousedown={this.chatHeaderOnMouseDown.bind(this)}>\r\n                            <h2>{ChatState.getCurrentChat() ? [\r\n                                ChatState.getCurrentChat().icon() ? \r\n                                    <i \r\n                                        class={ChatState.getCurrentChat().icon()} \r\n                                        style={{color: ChatState.getCurrentChat().color(), 'margin-right': '3px'}}\r\n                                    ></i> \r\n                                    : null,\r\n                                ChatState.getCurrentChat().title() \r\n                            ]: app.translator.trans('pushedx-chat.forum.toolbar.title')}</h2>\r\n                            {!ChatState.getCurrentChat() || !app.session.user ? null : <div \r\n                                className='icon'\r\n                                data-title={app.translator.trans('pushedx-chat.forum.toolbar.chat.settings')}\r\n\r\n                                onclick={() => app.modal.show(ChatEditModal, {model: ChatState.getCurrentChat()})}\r\n                            >\r\n                                <i className='fas fa-cog'></i>\r\n                            </div>}\r\n                            <div className='window-buttons'>\r\n                                <div \r\n                                    className='icon' \r\n                                    onclick={this.toggleSound.bind(this)}\r\n                                    data-title={app.translator.trans('pushedx-chat.forum.toolbar.' + (ChatState.getFrameState('isMuted')? 'enable_sounds' : 'disable_sounds'))}\r\n                                >\r\n                                    <i className={ChatState.getFrameState('isMuted') ? 'fas fa-volume-mute' : 'fas fa-volume-up'}></i>\r\n                                </div>\r\n                                <div \r\n                                    className='icon' \r\n                                    onclick={this.toggleNotifications.bind(this)}\r\n                                    data-title={app.translator.trans('pushedx-chat.forum.toolbar.' + (ChatState.getFrameState('notify') ? 'disable_notifications' : 'enable_notifications'))}\r\n                                >\r\n                                    <i className={ChatState.getFrameState('notify') ? 'fas fa-bell' : 'fas fa-bell-slash'}></i>\r\n                                </div>\r\n                                <div \r\n                                    className='icon' \r\n                                    onclick={this.toggleChat.bind(this)}\r\n                                    data-title={app.translator.trans('pushedx-chat.forum.toolbar.' + (ChatState.getFrameState('beingShown') ? 'minimize' : 'maximize'))}\r\n                                >\r\n                                    <i className={ChatState.getFrameState('beingShown') ? 'fas fa-window-minimize' : 'fas fa-window-maximize'}></i>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div id='chat-viewport'>\r\n                            {ChatState.componentCurViewport() ?? <ChatWelcome />}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    tooltip(vnode)\r\n    {\r\n        $(vnode.dom).tooltip('fixTitle');\r\n    }\r\n\r\n    chatHeaderOnMouseDown(e)\r\n    {\r\n        for(let i = 0, el; i < e.path.length; i++) \r\n        {\r\n            el = e.path[i];\r\n            if(el.classList && el.classList.contains('icon')) \r\n                return;\r\n        }\r\n\r\n        if(!this.chatMoveStart(e))\r\n        {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n    }\r\n\r\n    chatMoveListener(event, e)\r\n    {\r\n        switch(event)\r\n        {\r\n            case 'mouseup': \r\n            {\r\n                if(this.chatMoving) this.chatMoveEnd(e);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    chatMoveStart(e)\r\n    {\r\n        this.chatMoving = true;\r\n        this.mouseMoveEvent = this.chatMoveProcess.bind(this);\r\n        this.moveLast = {x: e.clientX, y: e.clientY};\r\n\r\n        document.addEventListener('mousemove', this.mouseMoveEvent);\r\n        document.body.classList.add('moving');\r\n\r\n        return false;\r\n    }\r\n\r\n    chatMoveEnd(e)\r\n    {\r\n        this.chatMoving = false;\r\n        document.removeEventListener('mousemove', this.mouseMoveEvent);\r\n        document.body.classList.remove('moving');\r\n\r\n        ChatState.saveFrameState('transform', {x: parseInt(this.getChat().style.right), y: this.getChatWrapper().offsetHeight})\r\n    }\r\n\r\n    chatMoveProcess(e)\r\n    {\r\n        let chat = this.getChat();\r\n        let chatWrapper = this.getChatWrapper();\r\n\r\n        let move = {x: e.clientX - this.moveLast.x, y: e.clientY - this.moveLast.y}\r\n        let right = parseInt(chat.style.right) || 0;\r\n        let wrapperHeight = chatWrapper.offsetHeight;\r\n        let nextPos = {x: right - move.x, y: wrapperHeight - move.y}; \r\n\r\n        if((nextPos.x < (window.innerWidth - this.getChatFrame().offsetWidth) && move.x < 0) || (nextPos.x > 0 && move.x > 0))\r\n            chat.style.right = nextPos.x + 'px';\r\n    \r\n        if(0 < nextPos.y && nextPos.y < (window.innerHeight - 100))\r\n        {\r\n            chatWrapper.style.height = nextPos.y + 'px';\r\n            this.getChatsList().style.maxHeight = this.getChatViewport().scrollHeight + 'px';\r\n            chatWrapper.scrollTop += move.y;\r\n        }\r\n\r\n        this.moveLast = {x: e.clientX, y: e.clientY};\r\n    }\r\n}","import Component from 'flarum/Component';\r\nimport avatar from 'flarum/helpers/avatar';\r\nimport username from 'flarum/helpers/username';\r\nimport fullTime from 'flarum/helpers/fullTime';\r\nimport classList from 'flarum/utils/classList';\r\nimport humanTime from 'flarum/utils/humanTime';\r\nimport extractText from 'flarum/utils/extractText';\r\nimport ItemList from 'flarum/utils/ItemList';\r\nimport SubtreeRetainer from 'flarum/utils/SubtreeRetainer';\r\n\r\nimport Dropdown from 'flarum/components/Dropdown';\r\nimport Button from 'flarum/components/Button';\r\nimport Separator from 'flarum/components/Separator';\r\nimport Link from 'flarum/components/Link';\r\n\r\nimport ChatState from '../states/ChatState';\r\n\r\nexport default class ChatMessage extends Component\r\n{\r\n\toninit(vnode)\r\n\t{\r\n\t\tsuper.oninit(vnode);\r\n\r\n\t\tthis.labels = [];\r\n\t\tthis.model = this.attrs.model;\r\n\t\tif(!this.model.content) this.model.content = this.model.message();\r\n\r\n\t\tthis.initLabels();\r\n\r\n\t\tthis.subtree = new SubtreeRetainer(\r\n\t\t\t() => this.model.freshness,\r\n\t\t\t() => this.model.user().freshness,\r\n\t\t\t() => ChatState.getCurrentChat(),\r\n\r\n\t\t\t// Reactive attrs\r\n\t\t\t() => this.model.content,\r\n\t\t\t() => this.model.isDeletedForever,\r\n\t\t\t() => this.model.isTimedOut,\r\n\t\t\t() => this.model.isEditing,\r\n\t\t\t() => this.model.isNeedToFlash\r\n\t\t);\r\n\t}\r\n\r\n\tmodelEvent(name, ...args)\r\n\t{\r\n\t\tChatState.evented.trigger('onClickMessage', name, this.model, args)\r\n\t}\r\n\r\n\tonbeforeupdate(vnode) \r\n\t{\r\n\t\tsuper.onbeforeupdate(vnode);\r\n\t\tthis.model = this.attrs.model;\r\n\r\n\t\treturn this.subtree.needsRebuild();\r\n\t}\r\n\r\n\tcontent()\r\n\t{\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.model.user() ? \r\n\t\t\t\t\t<Link className='avatar-wrapper' href={app.route.user(this.model.user())}>\r\n\t\t\t\t\t\t<span>{avatar(this.model.user(), {className: 'avatar'})}</span>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<div className='avatar-wrapper'>\r\n\t\t\t\t\t\t<span>{avatar(this.model.user(), {className: 'avatar'})}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t<div className='message-block'>\r\n\t\t\t\t\t<div className='toolbar'>\r\n\t\t\t\t\t\t<a className='name' onclick={this.modelEvent.bind(this, 'insertMention')}>\r\n\t\t\t\t\t\t\t{extractText(username(this.model.user())) + ': '}\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<div className='labels'>\r\n\t\t\t\t\t\t\t{this.labels.map(label => label.condition() ? label.component() : null)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='right'>\r\n\t\t\t\t\t\t\t{this.model.id() ? [\r\n\t\t\t\t\t\t\t\tthis.model.isDeletedForever ? null : this.editDropDown(),\r\n\t\t\t\t\t\t\t\t<a className='timestamp' title={extractText(fullTime(this.model.created_at()))}>{this.humanTime = humanTime(this.model.created_at())}</a>\r\n\t\t\t\t\t\t\t] \r\n\t\t\t\t\t\t\t: this.model.isTimedOut ? this.editDropDownTimedOut() : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='message'>\r\n\t\t\t\t\t\t{this.model.is_censored() ?\r\n\t\t\t\t\t\t\t<div className='censored' title={app.translator.trans('pushedx-chat.forum.chat.message.censored')}>\r\n\t\t\t\t\t\t\t\t{this.model.content}\r\n\t\t\t\t\t\t\t</div> : <div oncreate={this.onContentWrapperCreated.bind(this)} onupdate={this.onContentWrapperUpdated.bind(this)}></div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tview(vnode)\r\n\t{\r\n\t\treturn (\r\n\t\t\t<div \r\n\t\t\t\tclassName={classList({\r\n\t\t\t\t\t'message-wrapper': true, \r\n\t\t\t\t\thidden: this.model.deleted_by(), \r\n\t\t\t\t\tediting: this.model.isEditing, \r\n\t\t\t\t\tdeleted: !this.isVisible()}\r\n\t\t\t\t\t)}\r\n\t\t\t\tdata-id={this.model.id()}>\r\n\t\t\t\t{this.model ? this.content() : null}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tinitLabels()\r\n\t{\r\n\t\tthis.labelBind(\r\n\t\t\t() => this.model.edited_at(), \r\n\t\t\t() => (\r\n\t\t\t\t<div class='icon' title={extractText(app.translator.trans(\r\n\t\t\t\t\t'core.forum.post.edited_tooltip',\r\n\t\t\t\t\t{user: this.model.user(), ago: humanTime(this.model.edited_at())}\r\n\t\t\t\t))}>\r\n\t\t\t\t\t<i class=\"fas fa-pencil-alt\"></i>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t);\r\n\r\n\t\tthis.labelBind(\r\n\t\t\t() => this.model.deleted_by(), \r\n\t\t\t() => (\r\n\t\t\t\t<div class='icon'>\r\n\t\t\t\t\t<i class=\"fas fa-trash-alt\"></i> <span>\r\n\t\t\t\t\t\t{`(${app.translator.trans('pushedx-chat.forum.chat.message.deleted' + (this.model.isDeletedForever ? '_forever' : ''))}`} {username(this.model.deleted_by())})\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t);\r\n\r\n\t\tthis.labelBind(\r\n\t\t\t() => this.model.isTimedOut, \r\n\t\t\t() => (\r\n\t\t\t\t<div class='icon' style='color: #ff4063'>\r\n\t\t\t\t\t<i class=\"fas fa-exclamation-circle\"></i>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n\r\n\tlabelBind(condition, component)\r\n\t{\r\n\t\tthis.labels.push({condition: condition, component: component})\r\n\t}\r\n\r\n\teditDropDown()\r\n\t{\r\n\t\tconst items = new ItemList()\r\n\r\n\t\tif(ChatState.getPermissions().edit && this.model.user() && this.model.user() == app.session.user)\r\n\t\t{\r\n\t\t\titems.add('dropdownEditStart',\r\n\t\t\t\t<Button \r\n\t\t\t\t\tonclick={this.modelEvent.bind(this, 'dropdownEditStart')} \r\n\t\t\t\t\ticon='fas fa-pencil-alt'\r\n\t\t\t\t\tdisabled={this.model.deleted_by() || this.model.isEditing}\r\n\t\t\t\t>\r\n\t\t\t\t\t{app.translator.trans('core.forum.post_controls.edit_button')}\r\n\t\t\t\t</Button>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\titems.add('separator', <Separator />);\r\n\r\n\t\tif(this.model.chat().role() || (ChatState.getPermissions().delete && this.model.user() == app.session.user))\r\n\t\t{\r\n\t\t\tif(this.model.deleted_by())\r\n\t\t\t{\r\n\t\t\t\titems.add('dropdownRestore',\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonclick={this.modelEvent.bind(this, 'dropdownRestore')} \r\n\t\t\t\t\t\ticon='fas fa-reply'\r\n\t\t\t\t\t\tdisabled={!ChatState.getPermissions().moderate.delete && this.model.deleted_by() != app.session.user}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{app.translator.trans('core.forum.post_controls.restore_button')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\titems.add('dropdownHide',\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonclick={this.modelEvent.bind(this, 'dropdownHide')} \r\n\t\t\t\t\t\ticon='fas fa-trash-alt'\r\n\t\t\t\t\t\tdisabled={this.model.isEditing}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{app.translator.trans('core.forum.post_controls.delete_button')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(this.model.chat().role() && (this.model.deleted_by() || ChatState.totalHidden() >= 3))\r\n\t\t{\r\n\t\t\titems.add('dropdownDelete',\r\n\t\t\t\t<Button \r\n\t\t\t\t\tonclick={this.modelEvent.bind(this, 'dropdownDelete')} \r\n\t\t\t\t\ticon='fas fa-trash-alt'\r\n\t\t\t\t\tdisabled={!ChatState.getPermissions().delete}\r\n\t\t\t\t>\r\n\t\t\t\t\t{app.translator.trans('core.forum.post_controls.delete_forever_button')}\r\n\t\t\t\t</Button>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn Object.keys(items.items).length <= 1 ? null : (\r\n\t\t\t<div className='edit'>\r\n\t\t\t\t<Dropdown \r\n\t\t\t\t\tbuttonClassName=\"Button Button--icon Button--flat\"\r\n\t\t\t\t\tmenuClassName=\"Dropdown-menu Dropdown-menu--top Dropdown-menu--bottom Dropdown-menu--left Dropdown-menu--right\"\r\n\t\t\t\t\ticon=\"fas fa-ellipsis-h\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{items.toArray()}\r\n\t\t\t\t</Dropdown>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n\teditDropDownTimedOut()\r\n\t{\r\n\t\treturn (\r\n\t\t\t<div className='edit'>\r\n\t\t\t\t<Dropdown \r\n\t\t\t\t\tbuttonClassName=\"Button Button--icon Button--flat\"\r\n\t\t\t\t\tmenuClassName=\"Dropdown-menu--top Dropdown-menu--bottom Dropdown-menu--left Dropdown-menu--right\"\r\n\t\t\t\t\ticon=\"fas fa-ellipsis-h\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Button \r\n\t\t\t\t\t\tonclick={this.modelEvent.bind(this, 'dropdownDelete')} \r\n\t\t\t\t\t\ticon='fas fa-trash-alt'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{app.translator.trans('pushedx-chat.forum.chat.message.actions.hide')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button \r\n\t\t\t\t\t\tonclick={this.modelEvent.bind(this, 'dropdownResend')}\r\n\t\t\t\t\t\ticon='fas fa-reply'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{app.translator.trans('pushedx-chat.forum.chat.message.actions.resend')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Dropdown>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\toncreate(vnode)\r\n\t{\r\n\t\tsuper.oncreate(vnode);\r\n\t\tthis.messageWrapper = vnode.dom;\r\n\t}\r\n\r\n\tonContentWrapperUpdated(vnode)\r\n\t{\r\n\t\tthis.renderMessage(vnode)\r\n\t}\r\n\r\n\tonContentWrapperCreated(vnode)\r\n\t{\r\n\t\tthis.renderMessage(vnode)\r\n\t}\r\n\r\n\trenderMessage(vnode)\r\n\t{\r\n\t\tlet element = vnode.dom;\r\n\r\n\t\tif(this.model.isNeedToFlash) \r\n\t\t{\r\n\t\t\tChatState.flashItem($(this.messageWrapper));\r\n\t\t\tthis.model.isNeedToFlash = false;\r\n\t\t}\r\n\t\tif(this.model.content !== this.oldContent)\r\n\t\t{\r\n\t\t\tthis.oldContent = this.model.content;\r\n\t\t\tChatState.renderChatMessage(element, this.model.content);\r\n\t\t}\r\n\t}\r\n\r\n\tisVisible()\r\n\t{\r\n\t\tif(this.model.chat() != ChatState.getCurrentChat())\r\n\t\t\treturn false;\r\n\r\n\t\tif(this.model.isDeletedForever)\r\n\t\t\treturn false;\r\n\r\n\t\tif(this.model.deleted_by() && !(this.model.chat().role() || this.model.user() == app.session.user))\r\n\t\t\treturn false;\r\n\r\n\t\treturn true;\r\n\t}\r\n}","import Modal from 'flarum/components/Modal';\r\nimport ChatSearchUser from './ChatSearchUser';\r\nimport Stream from 'flarum/utils/Stream';\r\nimport classList from 'flarum/utils/classList';\r\n\r\nimport ChatState from '../states/ChatState';\r\n\r\nexport default class ChatModal extends Modal\r\n{\r\n\toninit(vnode)\r\n\t{\r\n\t\tsuper.oninit(vnode);\r\n\r\n\t\tthis.model = this.attrs.model;\r\n\r\n\t\tapp.search.neonchat = {usersSelected: []};\r\n\t\tthis.usersSelected = app.search.neonchat.usersSelected;\r\n\r\n\t\tthis.input = {\r\n\t\t\ttitle: Stream(''), \r\n\t\t\tcolor: Stream(''),\r\n\t\t\ticon: Stream(''),\r\n\t\t};\r\n\t}\r\n\r\n\tonremove(vnode)\r\n\t{\r\n\t\tapp.search.neonchat = null;\r\n\t}\r\n\r\n\tgetInput()\r\n\t{\r\n\t\treturn this.input;\r\n\t}\r\n\r\n\tsetSelectedUsers(users)\r\n\t{\r\n\t\tapp.search.neonchat.usersSelected = users;\r\n\t\tthis.usersSelected = app.search.neonchat.usersSelected;\r\n\t}\r\n\r\n\tgetSelectedUsers()\r\n\t{\r\n\t\treturn this.usersSelected;\r\n\t}\r\n\r\n\tclassName() \r\n\t{\r\n\t\treturn 'Modal--small';\r\n\t}\r\n\r\n\tisChatExists()\r\n\t{\r\n\t\treturn this.getSelectedUsers().length == 1 && ChatState.isExistsPMChat(app.session.user, this.getSelectedUsers()[0]);\r\n\t}\r\n\r\n\talertText()\r\n\t{\r\n\t\tif(this.isChatExists()) return app.translator.trans('pushedx-chat.forum.chat.list.add_modal.alerts.exists');\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\tcomponentAlert()\r\n\t{\r\n\t\treturn !this.alertText() ? null : (\r\n\t\t\t<div className=\"Alert\">\r\n\t\t\t\t{this.alertText()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentFormUsersSelect(label = 'pushedx-chat.forum.chat.list.add_modal.form.users')\r\n\t{\r\n\t\treturn [\r\n\t\t\t<label>{app.translator.trans(label)}</label>,\r\n\t\t\tthis.componentUsersSelect()\r\n\t\t];\r\n\t}\r\n\r\n\tuserMentionContent(user)\r\n\t{\r\n\t\treturn '@' + user.displayName();\r\n\t}\r\n\r\n\tuserMentionClassname(user)\r\n\t{\r\n\t\treturn 'deletable';\r\n\t}\r\n\r\n\tuserMentionOnClick(event, user)\r\n\t{\r\n\t\treturn this.getSelectedUsers().splice(this.getSelectedUsers().indexOf(user), 1)\r\n\t}\r\n\r\n\tcomponentUsersMentions()\r\n\t{\r\n\t\treturn (\r\n\t\t\t<div className=\"UsersTags\">\r\n\t\t\t\t{this.getSelectedUsers().map(u => \r\n\t\t\t\t\t<div \r\n\t\t\t\t\t\tclassName={classList(['UserMention', this.userMentionClassname(u)])}\r\n\t\t\t\t\t\tonclick={this.userMentionOnClick.bind(this, u)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{this.userMentionContent(u)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentUsersSelect()\r\n\t{\r\n\t\treturn [\r\n\t\t\tthis.componentAlert(),\r\n\t\t\tthis.componentUsersMentions(),\r\n\t\t\t<div className=\"UsersSearch\">\r\n\t\t\t\t<ChatSearchUser state={app.search} />\r\n\t\t\t</div>\r\n\t\t]\r\n\t}\r\n\r\n\tcomponentFormIcon(options)\r\n\t{\r\n\t\treturn [\r\n\t\t\toptions.title ? <label>{options.title}</label> : null,\r\n\t\t\t<div>\r\n\t\t\t\t{options.desc ? <label>{options.desc}</label> : null}\r\n\t\t\t\t<div className='Icon-Input'>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\tclass=\"FormControl\" \r\n\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\tbidi={options.stream} \r\n\t\t\t\t\t\tplaceholder={options.placeholder}\r\n\t\t\t\t\t\tonupdate={vnode => $('.Chat-FullColor').css({color: this.input.color(), backgroundColor: this.input.color()})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<icon className='Chat-FullColor'>\r\n\t\t\t\t\t\t<i className={this.input.icon()?.length ? this.input.icon() : 'fas fa-bolt'} />\r\n\t\t\t\t\t</icon>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t];\r\n\t}\r\n\r\n\tcomponentFormColor(options)\r\n\t{\r\n\t\treturn [\r\n\t\t\toptions.title ? <label>{options.title}</label> : null,\r\n\t\t\t<div>\r\n\t\t\t\t{options.desc ? <label>{options.desc}</label> : null}\r\n\t\t\t\t<div className='Color-Input'>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\tclass=\"FormControl\" \r\n\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\tbidi={options.stream} \r\n\t\t\t\t\t\tplaceholder={options.placeholder}\r\n\t\t\t\t\t\tonupdate={vnode => $('.Chat-FullColor').css({color: this.input.color(), backgroundColor: this.input.color()})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<color className='Chat-FullColor'/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t];\r\n\t}\r\n\r\n\tcomponentFormInput(options)\r\n\t{\r\n\t\treturn [\r\n\t\t\toptions.title ? <label>{options.title}</label> : null,\r\n\t\t\t<div>\r\n\t\t\t\t{options.desc ? <label>{options.desc}</label> : null}\r\n\t\t\t\t<input \r\n\t\t\t\t\tclass=\"FormControl\" \r\n\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\tbidi={options.stream} \r\n\t\t\t\t\tplaceholder={options.placeholder} \r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t];\r\n\t}\r\n}","import humanTime from 'flarum/utils/humanTime';\r\nimport Component from 'flarum/Component';\r\nimport classList from 'flarum/utils/classList';\r\nimport extractText from 'flarum/utils/extractText';\r\nimport SubtreeRetainer from 'flarum/utils/SubtreeRetainer';\r\n\r\nimport ChatState from '../states/ChatState';\r\nimport ChatAvatar from './ChatAvatar';\r\n\r\nexport default class ChatPreview extends Component\r\n{\r\n\toninit(vnode)\r\n\t{\r\n\t\tsuper.oninit(vnode);\r\n\t\t\r\n\t\tthis.model = this.attrs.model;\r\n\r\n\t\tthis.subtree = new SubtreeRetainer(\r\n\t\t\t() => this.model.freshness,\r\n\t\t\t() => ChatState.getCurrentChat(),\r\n\r\n\t\t\t// Reactive attrs\r\n\t\t\t() => this.model.isNeedToFlash\r\n\t\t);\r\n\t}\r\n\r\n\tonbeforeupdate(vnode) \r\n\t{\r\n\t\tsuper.onbeforeupdate(vnode);\r\n\t\tthis.model = this.attrs.model;\r\n\r\n\t\treturn this.subtree.needsRebuild();\r\n\t}\r\n\r\n\tview(vnode)\r\n\t{\r\n\t\treturn (\r\n\t\t\t<div style={{position: 'relative'}}>\r\n\t\t\t\t<div className={classList({'panel-preview' : true, 'active': ChatState.getCurrentChat() == this.model})}>\r\n\t\t\t\t\t{this.componentPreview()}\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.model.unreaded() ? <div className='unreaded'>{this.model.unreaded()}</div> : null}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\toncreate(vnode)\r\n\t{\r\n\t\tif(this.model.isNeedToFlash)\r\n\t\t{\r\n\t\t\tChatState.flashItem($(vnode.dom));\r\n\t\t\tthis.model.isNeedToFlash = false;\r\n\t\t}\r\n\t}\r\n\r\n\tonupdate(vnode)\r\n\t{\r\n\t\tif(this.model.isNeedToFlash)\r\n\t\t{\r\n\t\t\tChatState.flashItem($(vnode.dom));\r\n\t\t\tthis.model.isNeedToFlash = false;\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentMessageTime()\r\n\t{\r\n\t\tlet lastMessage = this.model.last_message();\r\n\t\tlet time = new Date(lastMessage.created_at());\r\n\t\tif(Date.now() - time.getTime() < 60 * 60 * 12 * 1000)\r\n\t\t\treturn time.toLocaleTimeString().slice(0, 5);\r\n\t\t\r\n\t\treturn humanTime(lastMessage.created_at());\r\n\t}\r\n\r\n\tcomponentPreview()\r\n\t{\r\n\t\treturn ([\r\n\t\t\t<ChatAvatar model={this.model} />,\r\n\t\t\t<div style=\"display: flex; flex-direction: column\">\r\n\t\t\t\t<div className='title' title={this.model.title()}>\r\n\t\t\t\t\t{this.model.icon() ? <i class={this.model.icon()} style={{color: this.model.color()}}></i> : null}\r\n\t\t\t\t\t{this.model.title()}\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.model.last_message() ? this.componentTextPreview() : this.componentTextEmpty()}\r\n\t\t\t</div>,\r\n\t\t\tthis.model.last_message() ? \r\n\t\t\t\t<div className='timestamp' title={extractText(this.model.last_message().created_at())}>{this.humanTime = this.componentMessageTime()}</div>\r\n\t\t\t\t: null\r\n\t\t])\r\n\t}\r\n\r\n\tcomponentPreviewChannel()\r\n\t{\r\n\t\treturn ([\r\n\t\t\t<ChatAvatar model={this.model} />,\r\n\t\t\t<div style=\"display: flex; flex-direction: column\">\r\n\t\t\t\t<div className='title' title={this.model.title()}>{this.model.title()}</div>\r\n\t\t\t\t{this.componentTextPreview()}\r\n\t\t\t</div>,\r\n\t\t\t<div className='timestamp' title={extractText(this.model.last_message().created_at())}>{this.humanTime = this.componentMessageTime()}</div>\r\n\t\t])\r\n\t}\r\n\r\n\tformatTextPreview(text)\r\n\t{\r\n\t\tlet type;\r\n\t\tif(text.startsWith('```'))\r\n\t\t{\r\n\t\t\ttext = app.translator.trans('pushedx-chat.forum.chat.message.type.code');\r\n\t\t\ttype = 'media';\r\n\t\t}\r\n\t\telse if(text.startsWith('http://') || text.startsWith('https://'))\r\n\t\t{\r\n\t\t\ttext = app.translator.trans('pushedx-chat.forum.chat.message.type.url');\r\n\t\t\ttype = 'media';\r\n\t\t}\r\n\t\treturn {text, type};\r\n\t}\r\n\r\n\tcomponentTextPreview()\r\n\t{\r\n\t\tlet lastMessage = this.model.last_message();\r\n\t\tif(lastMessage.type() != 0)\r\n\t\t{\r\n\t\t\treturn (\r\n\t\t\t\t<div className='message'>\r\n\t\t\t\t\t<span className='media'>{app.translator.trans('pushedx-chat.forum.chat.message.type.event')}</span>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tlet formatResult = this.formatTextPreview(lastMessage.message());\r\n\t\tlet senderName, users = this.model.users(), sender = lastMessage.user();\r\n\t\tif(app.session.user)\r\n\t\t{\r\n\t\t\tif(app.session.user == sender) senderName = `${app.translator.trans('pushedx-chat.forum.chat.message.you')}: `\r\n\t\t\telse if(users.length > 2 || this.model.type()) \r\n\t\t\t\tsenderName = sender.displayName() + ': ';\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classList({message: true, censored: lastMessage.is_censored()})}\r\n\t\t\t\ttitle={lastMessage.is_censored() ? app.translator.trans('pushedx-chat.forum.chat.message.censored') : null}>\r\n\t\t\t\t<span className='sender'>{senderName}</span>\r\n\t\t\t\t<span className={formatResult.type}>{formatResult.text}</span>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tcomponentTextEmpty()\r\n\t{\r\n\t\treturn (\r\n\t\t\t<div className='message'>\r\n\t\t\t\t<span className='empty'>{app.translator.trans('pushedx-chat.forum.chat.list.preview.empty')}</span>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","import Search from 'flarum/components/Search';\r\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\r\nimport ItemList from 'flarum/utils/ItemList';\r\nimport classList from 'flarum/utils/classList';\r\nimport icon from 'flarum/helpers/icon';\r\nimport UsersSearchSource from './UsersSearchResults';\r\n\r\nexport default class ChatSearchUser extends Search\r\n{\r\n\toninit(vnode) \r\n\t{\r\n\t\tsuper.oninit(vnode);\r\n\t}\r\n\r\n\tsourceItems() \r\n\t{\r\n\t\tconst items = new ItemList();\r\n\t\tthis.state = this.attrs.state ?? {};\r\n\t\tif (app.forum.attribute('canViewUserList')) items.add('users', new UsersSearchSource({state: app.search.neonchat}));\r\n\t\r\n\t\treturn items;\r\n\t}\r\n\r\n\tview(vnode) \r\n\t{\r\n\t\tconst currentSearch = this.state.getInitialSearch();\r\n\t\r\n\t\tif (!this.state.getValue().length) {\r\n\t\t\tthis.state.setValue(currentSearch || '');\r\n\t\t}\r\n\r\n\t\tapp.current.searching = () => this.state.getValue();\r\n\t\r\n\t\tif (!this.sources) {\r\n\t\t\tthis.sources = this.sourceItems().toArray();\r\n\t\t}\r\n\t\r\n\t\tif (!this.sources.length) return <div></div>;\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className={'Search ' + classList({\r\n\t\t\t\topen: this.hasFocus,\r\n\t\t\t\tactive: !!currentSearch,\r\n\t\t\t\tloading: !!this.loadingSources\r\n\t\t\t})}>\r\n\t\t\t\t<div className=\"Search-input SearchInput\">\r\n\t\t\t\t\t<input className=\"FormControl\"\r\n\t\t\t\t\t\ttype=\"search\"\r\n\t\t\t\t\t\tplaceholder={app.translator.trans('pushedx-chat.forum.chat.list.add_modal.search.placeholder')}\r\n\t\t\t\t\t\tvalue={this.state.getValue()}\r\n\t\t\t\t\t\toninput={e => this.state.setValue(e.target.value)}\r\n\t\t\t\t\t\tonfocus={() => this.hasFocus = true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.loadingSources\r\n\t\t\t\t\t? <LoadingIndicator size='tiny' className='Button Button--icon Button--link' />\r\n\t\t\t\t\t: currentSearch\r\n\t\t\t\t\t? <button className=\"Search-clear Button Button--icon Button--link\" onclick={this.clear.bind(this)}>{icon('fas fa-times-circle')}</button>\r\n\t\t\t\t\t: ''}\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.state.getValue() && this.hasFocus ?\r\n\t\t\t\t\t<ul className=\"Dropdown-menu Dropdown--Users\">\r\n\t\t\t\t\t\t{this.sources.map(source => source.view(this.state.getValue()))}\r\n\t\t\t\t\t</ul> \r\n\t\t\t\t: null}\r\n\t\t\t</div>\r\n\t\t);\r\n\t  }\r\n}","import Component from 'flarum/Component';\r\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\r\n\r\nimport Message from '../models/Message';\r\nimport ChatState from '../states/ChatState';\r\n\r\nexport default class ChatViewport extends Component\r\n{\r\n\toninit(vnode)\r\n\t{\r\n        super.oninit(vnode);\r\n\r\n        this.model = this.attrs.model;\r\n        this.state = ChatState.getViewportState(this.model);\r\n\r\n        this.messageCharLimit = app.forum.attribute('pushedx-chat.settings.charlimit') ?? 512;\r\n        if(!app.session.user) this.inputPlaceholder = app.translator.trans('pushedx-chat.forum.errors.unauthenticated');\r\n        else if(!ChatState.getPermissions().post) this.inputPlaceholder = app.translator.trans('pushedx-chat.forum.errors.chatdenied');\r\n        else if(this.model.removed_at()) this.inputPlaceholder = app.translator.trans('pushedx-chat.forum.errors.removed');\r\n        else this.inputPlaceholder = app.translator.trans('pushedx-chat.forum.chat.placeholder');\r\n\r\n        ChatState.evented.on('onChatChanged', this.onChatChanged.bind(this))\r\n        ChatState.evented.on('onClickMessage', this.onChatMessageClicked.bind(this))\r\n    }\r\n\r\n    onbeforeupdate(vnode)\r\n    {\r\n        super.onbeforeupdate(vnode);\r\n        \r\n        this.model = this.attrs.model;\r\n        this.state = ChatState.getViewportState(this.model);\r\n\r\n        if(!app.session.user) this.inputPlaceholder = app.translator.trans('pushedx-chat.forum.errors.unauthenticated');\r\n        else if(!ChatState.getPermissions().post) this.inputPlaceholder = app.translator.trans('pushedx-chat.forum.errors.chatdenied');\r\n        else if(this.model.removed_at()) this.inputPlaceholder = app.translator.trans('pushedx-chat.forum.errors.removed');\r\n        else this.inputPlaceholder = app.translator.trans('pushedx-chat.forum.chat.placeholder');\r\n    }\r\n\r\n    onupdate(vnode)\r\n    {\r\n        //ChatState.colorizeOddChatMessages();\r\n    }\r\n  \r\n\tview(vnode)\r\n\t{\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className='wrapper' \r\n                    oncreate={this.wrapperOnCreate.bind(this)} \r\n                    onupdate={this.wrapperOnUpdate.bind(this)}\r\n                    onscroll={this.wrapperOnScroll.bind(this)}\r\n                    onmousewheel={this.wrapperOnMouseWheel.bind(this)}\r\n\t\t\t\t\tstyle={{height: ChatState.getFrameState('transform').y + 'px'}}\r\n\t\t\t\t>\r\n                    {this.componentLoader(this.state.scroll.loading.all)}\r\n\t\t\t\t\t{ChatState.componentsChatMessages().concat(this.state.input.writingPreview ? ChatState.componentChatMessage(this.state.input.previewModel) : [])}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='input-wrapper'>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tid = 'chat-input'\r\n\t\t\t\t\t\tmaxlength = {this.messageCharLimit}\r\n\t\t\t\t\t\tdisabled = {!ChatState.getPermissions().post || this.model.removed_at()}\r\n\t\t\t\t\t\tplaceholder = {this.inputPlaceholder}\r\n\t\t\t\t\t\tonkeypress = {this.inputPressEnter.bind(this)}\r\n\t\t\t\t\t\toninput = {this.inputProcess.bind(this)}\r\n                        onpaste = {this.inputProcess.bind(this)}\r\n\r\n\t\t\t\t\t\trows = {this.state.input.rows}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.state.messageEditing ?\r\n\t\t\t\t\t\t<div className='icon edit' onclick={this.messageEditEnd.bind(this)}>\r\n\t\t\t\t\t\t\t<i class=\"fas fa-times\"></i>\r\n\t\t\t\t\t\t</div>    \r\n\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<div className='icon send' onclick={this.inputPressButton.bind(this)}>\r\n\t\t\t\t\t\t<i class=\"fas fa-angle-double-right\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id='chat-limitter' \r\n\t\t\t\t\t\tclassName={this.reachedLimit() ? 'reaching-limit' : ''}\r\n\t\t\t\t\t\tstyle={{display: !ChatState.getPermissions().post ? 'none' : ''}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{(this.messageCharLimit - (this.state.input.messageLength || 0)) + '/' + this.messageCharLimit}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n                {this.isFastScrollAvailable() ? this.componentScroller() : null}\r\n\t\t\t</div>\r\n\t\t)\r\n    }\r\n\r\n    componentScroller()\r\n    {\r\n        return (\r\n            <div className='scroller' onclick={this.fastScroll.bind(this)}>\r\n                <i class=\"fas fa-angle-down\"></i>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n    componentLoader(watch)\r\n    {\r\n        return watch ? (\r\n            <msgloader className='message-wrapper--loading'>\r\n                <LoadingIndicator className='loading-old Button-icon' />\r\n            </msgloader> \r\n        ): null\r\n    }\r\n\r\n    getChat()\r\n    {\r\n        return document.querySelector('.neonchat');\r\n    }\r\n\r\n    getChatHeader()\r\n    {\r\n        return document.querySelector('.neonchat #chat-header');\r\n    }\r\n    \r\n    getChatInput()\r\n    {\r\n        return document.querySelector('.neonchat #chat-input');\r\n    }\r\n\r\n    getChatsList()\r\n    {\r\n        return document.querySelector('.neonchat #chats-list');\r\n    }\r\n    \r\n    getChatWrapper()\r\n    {\r\n        return document.querySelector('.neonchat .wrapper');\r\n    }\r\n\r\n    reachedLimit()\r\n    {\r\n        this.oldReached = (this.messageCharLimit - (this.state.input.messageLength || 0)) < 100;\r\n        return this.oldReached;\r\n    }\r\n\r\n    isFastScrollAvailable()\r\n    {\r\n        let chatWrapper = this.getChatWrapper();\r\n        return (\r\n            this.model.unreaded() >= 30 || \r\n            (chatWrapper && chatWrapper.scrollHeight > 2000 && chatWrapper.scrollTop < chatWrapper.scrollHeight - 2000)\r\n        );\r\n    }\r\n\r\n    fastScroll()\r\n    {\r\n        if(this.model.unreaded() >= 30) this.fastMessagesFetch.bind(this)\r\n        else\r\n        {\r\n            let chatWrapper = this.getChatWrapper();\r\n            chatWrapper.scrollTop = Math.max(chatWrapper.scrollTop, chatWrapper.scrollHeight - 3000);\r\n            this.scrollToBottom();\r\n        }\r\n    }\r\n\r\n    fastMessagesFetch(e)\r\n    {\r\n        e.redraw = false;\r\n        ChatState.chatmessages = [];\r\n\r\n        ChatState.apiFetchChatMessages(this.model).then(\r\n            r => \r\n            {\r\n                this.scrollToBottom();\r\n                this.timedRedraw(300);\r\n\r\n                this.model.pushAttributes({unreaded: 0});\r\n                let message = ChatState.getChatMessages(mdl => mdl.chat() == this.model).slice(-1)[0];\r\n                ChatState.apiReadChat(this.model, message);\r\n            }\r\n        );\r\n    }\r\n\r\n    wrapperOnCreate(vnode)\r\n    {\r\n        super.oncreate(vnode);\r\n        this.wrapperOnUpdate(vnode);\r\n    }\r\n\r\n    wrapperOnUpdate(vnode)\r\n    {\r\n        let el = vnode.dom;\r\n        if(this.model && this.state.scroll.autoScroll) \r\n        {\r\n            if(this.autoScrollTimeout) clearTimeout(this.autoScrollTimeout);\r\n            this.autoScrollTimeout = setTimeout(this.scrollToBottom.bind(this), 100);\r\n        }\r\n        if(el.scrollTop <= 0) el.scrollTop = 1;\r\n        this.checkUnreaded();\r\n    }\r\n\r\n    wrapperOnScroll(e)\r\n    {\r\n        e.redraw = false;\r\n        let el = e.target;\r\n\r\n        this.state.scroll.autoScroll = (el.scrollTop + el.offsetHeight >= el.scrollHeight - 10);\r\n        this.state.scroll.oldScroll = el.scrollTop;\r\n\r\n        if(el.scrollTop <= 0) el.scrollTop += 1;\r\n        else if(el.scrollTop + el.offsetHeight >= el.scrollHeight) el.scrollTop -= 1;\r\n\r\n        this.checkUnreaded();\r\n\r\n        if(this.lastFastScrollStatus != this.isFastScrollAvailable()) \r\n        {\r\n            this.lastFastScrollStatus = this.isFastScrollAvailable();\r\n            m.redraw();\r\n        }\r\n    }\r\n\r\n    checkUnreaded()\r\n    {\r\n        let wrapper = this.getChatWrapper();\r\n        if(wrapper && this.model.unreaded())\r\n        {\r\n            let list = ChatState.getChatMessages(mdl => \r\n                mdl.chat() == this.model && mdl.created_at() >= this.model.readed_at() && !mdl.isReaded\r\n            );\r\n\r\n            for(const message of list)\r\n            {\r\n                let msg = document.querySelector(`.message-wrapper[data-id=\"${message.id()}\"`);\r\n                if(msg && wrapper.scrollTop + wrapper.offsetHeight >= msg.offsetTop)\r\n                {\r\n                    message.isReaded = true;\r\n\r\n                    if(this.state.scroll.autoScroll && ChatState.getCurrentChat() == this.model)\r\n                    {\r\n                        ChatState.apiReadChat(this.model, new Date());\r\n                        this.model.pushAttributes({unreaded: 0});\r\n                    }\r\n                    else\r\n                    {\r\n                        ChatState.apiReadChat(this.model, message);\r\n                        this.model.pushAttributes({unreaded: this.model.unreaded() - 1});\r\n                    }\r\n                    \r\n                    m.redraw();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    wrapperOnMouseWheel(e)\r\n    {\r\n        e.redraw = false;\r\n\r\n        let el = this.element;\r\n        let currentHeight = el.scrollHeight;\r\n        \r\n        if(this.state.scroll.autoScroll) this.state.scroll.needToScroll = false;\r\n        if(this.state.scroll.needToScroll) this.scrollToBottom();\r\n\r\n        if(!this.state.messageEditing && this.state.scroll.oldScroll >= 0)\r\n        {\r\n            if(el.scrollTop <= 500)\r\n            {\r\n                let topMessage = ChatState.getChatMessages(model => model.chat() == this.model)[0];\r\n                if(topMessage && topMessage != this.model.first_message()) ChatState.apiFetchChatMessages(this.model, topMessage.created_at().toISOString());\r\n            }\r\n            else if(el.scrollTop + el.offsetHeight >= currentHeight - 500)\r\n            {\r\n                let bottomMessage = ChatState.getChatMessages(model => model.chat() == this.model).slice(-1)[0];\r\n                if(bottomMessage && bottomMessage != this.model.last_message()) ChatState.apiFetchChatMessages(this.model, bottomMessage.created_at().toISOString()); \r\n            }\r\n        }\r\n    }\r\n    \r\n    scrollToAnchor(anchor)\r\n    {\r\n        let scroll = () => {\r\n            let element;\r\n            if(anchor instanceof Message) element = $(`.message-wrapper[data-id=\"${anchor.id()}\"`)[0];\r\n            else element = anchor;\r\n\r\n            let chatWrapper = this.getChatWrapper();\r\n            if(chatWrapper && element) $(chatWrapper).stop().animate({scrollTop: element.offsetTop - element.offsetHeight}, 500)\r\n            else setTimeout(scroll, 100);\r\n        };\r\n        scroll();\r\n    }\r\n\r\n    scrollToBottom()\r\n    {\r\n        let chatWrapper = this.getChatWrapper();\r\n        if(chatWrapper)\r\n        {\r\n            if(chatWrapper.scrollTop + chatWrapper.offsetHeight >= chatWrapper.scrollHeight - 1) return;\r\n\r\n            $(chatWrapper).stop().animate({scrollTop: chatWrapper.scrollHeight}, 500);\r\n            if(!this.state.scroll.autoScroll) this.state.scroll.needToScroll = true;\r\n        }\r\n\t}\r\n\r\n\tinputClear()\r\n\t{\r\n\t\tinput.value = '';\r\n\t}\r\n\r\n\tinputSyncWithPreview()\r\n\t{\r\n\t\tlet input = this.getChatInput();\r\n        if(this.state.input.content)\r\n        {\r\n            input.value = this.state.input.content;\r\n            this.inputProcess();\r\n        }\r\n        else input.value = '';\r\n\t}\r\n\t\r\n    inputProcess(e)\r\n    {\r\n        if(e) e.redraw = false;\r\n\r\n        let input = this.getChatInput();\r\n        let inputValue = input.value.trim();\r\n        this.state.input.messageLength = inputValue.length;\r\n        this.state.input.content = inputValue;\r\n\r\n        /*\r\n        if(!input.baseScrollHeight)\r\n        {\r\n            input.baseScrollHeight = input.scrollHeight;\r\n            input.lineHeight = parseInt(window.getComputedStyle(input).getPropertyValue('line-height'));\r\n        }\r\n\r\n        input.rows = 1;\r\n        let rows = Math.ceil((input.scrollHeight - input.baseScrollHeight) / input.lineHeight) + 1;\r\n        this.state.input.rows = rows;\r\n        input.rows = rows;\r\n        */\r\n\r\n        if(!input.lineHeight) input.lineHeight = parseInt(window.getComputedStyle(input).getPropertyValue('line-height'));\r\n        input.rows = 1;\r\n        input.rows = input.scrollHeight / input.lineHeight;\r\n\r\n        if(this.state.input.messageLength)\r\n        {\r\n            if(!this.state.input.writingPreview && !this.state.messageEditing)\r\n                this.inputPreviewStart(inputValue);\r\n        }\r\n        else\r\n        {\r\n            if(this.state.input.writingPreview && !inputValue.length)\r\n                this.inputPreviewEnd();\r\n        }\r\n\r\n        if(this.state.messageEditing) this.state.messageEditing.content = inputValue\r\n        else if(this.state.input.writingPreview) this.state.input.previewModel.content = inputValue\r\n        this.timedRedraw(100, () => this.state.scroll.autoScroll && !this.state.messageEditing ? this.scrollToBottom() : null);\r\n    }\r\n\r\n    inputPressEnter(e)\r\n    {\r\n        e.redraw = false;\r\n        if(e.keyCode == 13 && !e.shiftKey)\r\n        {\r\n            this.messageSend(this.getChatInput().value);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    inputPressButton() \r\n    {\r\n        this.messageSend(this.getChatInput().value);\r\n    }\r\n\r\n    inputClear()\r\n    {\r\n        this.state.input.messageLength = 0;\r\n        this.state.input.rows = 1;\r\n        this.state.input.content = '';\r\n        \r\n        let input = this.getChatInput();\r\n        input.value = '';\r\n        input.rows = 1;\r\n    }\r\n\r\n    inputPreviewStart(content)\r\n    {\r\n        if(!this.state.input.writingPreview) \r\n        {\r\n            this.state.input.writingPreview = true;\r\n            \r\n            this.state.input.previewModel = app.store.createRecord('chatmessages');\r\n            this.state.input.previewModel.pushData({id: 0, attributes: {message: ' ', created_at: 0}, relationships: {user: app.session.user, chat: this.model}});\r\n            Object.assign(this.state.input.previewModel, {isEditing: true, isNeedToFlash: true, content})\r\n        }\r\n        else this.state.input.previewModel.isNeedToFlash = true;\r\n\r\n        m.redraw();\r\n    }\r\n\r\n    inputPreviewEnd()\r\n    {\r\n        this.state.input.writingPreview = false;\r\n\r\n        m.redraw();\r\n    }\r\n\r\n\tonChatMessageClicked(eventName, model)\r\n\t{\r\n\t\tswitch(eventName)\r\n\t\t{\r\n\t\t\tcase 'dropdownEditStart':\r\n\t\t\t{\r\n\t\t\t\tthis.messageEdit(model, true);\r\n\t\t\t\tbreak;\r\n            }\r\n            case 'dropdownResend':\r\n            {\r\n                this.messageResend(model);\r\n                break;\r\n            }\r\n            case 'insertMention':\r\n            {\r\n                this.insertMention(model);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    messageSend(text)\r\n    {\r\n        if(text.trim().length > 0 && !this.state.loadingSend)\r\n        {\r\n            if(this.state.input.writingPreview) \r\n            {\r\n                this.state.input.writingPreview = false;\r\n                \r\n                this.messagePost(this.state.input.previewModel);\r\n                ChatState.insertChatMessage(Object.assign(this.state.input.previewModel, {}));\r\n    \r\n                this.inputClear();\r\n            }\r\n            else if(this.state.messageEditing)\r\n            {\r\n                let model = this.state.messageEditing;\r\n                if(model.content.trim() !== model.oldContent.trim()) \r\n                {\r\n                    model.oldContent = model.content;\r\n                    ChatState.editChatMessage(model, true, model.content);\r\n                }\r\n                this.messageEditEnd();\r\n                this.inputClear();\r\n            }\r\n        }\r\n    }\r\n\r\n    messageEdit(model)\r\n    {\r\n        let chatInput = this.getChatInput();\r\n        if(this.state.input.writingPreview) this.inputPreviewEnd();\r\n        \r\n        model.isEditing = true;\r\n        model.oldContent = model.message();\r\n\r\n        this.state.messageEditing = model;\r\n        chatInput.value = model.oldContent;\r\n        chatInput.focus();\r\n        this.inputProcess();\r\n\r\n        m.redraw();\r\n    }\r\n\r\n    messageEditEnd()\r\n    {\r\n        let message = this.state.messageEditing;\r\n\t\tif(message)\r\n\t\t{\r\n            message.isEditing = false;\r\n            message.content = message.oldContent;\r\n\t\t\tthis.inputClear();\r\n\t\t\tm.redraw();\r\n\r\n            this.state.messageEditing = null;\r\n\t\t}\r\n    }\r\n\r\n    messageResend(model)\r\n    {\r\n        this.messagePost(model);\r\n    }\r\n    \r\n    messagePost(model)\r\n    {\r\n        let self = this;\r\n        self.state.loadingSend = true;\r\n        m.redraw();\r\n\r\n        return ChatState.postChatMessage(model)\r\n        .then(\r\n            r => {\r\n                self.state.loadingSend = false;\r\n\r\n                m.redraw();\r\n            },\r\n            r => {\r\n                self.state.loadingSend = false;\r\n\r\n                m.redraw();\r\n            }\r\n        );\r\n    }\r\n\r\n    onChatChanged(model)\r\n    {\r\n        if(this.model) this.messagesDraw();\r\n    }\r\n\r\n\tmessagesDraw()\r\n\t{\r\n        if(!this.state.messagesFetched) \r\n        {\r\n            let query;\r\n            if(this.model.unreaded()) \r\n            {\r\n                query = (this.model.readed_at()?.toISOString() ?? new Date(0).toISOString());\r\n                this.state.scroll.autoScroll = false;\r\n            }\r\n\r\n            this.state.scroll.loading.all = true;\r\n            ChatState.apiFetchChatMessages(this.model, query).then(() => {\r\n                this.state.scroll.loading.all = false;\r\n\r\n                if(this.model.unreaded())\r\n                {\r\n                    let anchor = ChatState.getChatMessages(mdl => mdl.chat() == this.model && mdl.created_at() > this.model.readed_at())[0];\r\n                    this.scrollToAnchor(anchor);\r\n                }\r\n\r\n                m.redraw();\r\n            });\r\n\r\n            this.state.messagesFetched = true;\r\n            m.redraw();\r\n        }\r\n        this.inputSyncWithPreview();\r\n\r\n        this.getChatWrapper().scrollTop = this.state.scroll.oldScroll;\r\n\t}\r\n\t\r\n\ttimedRedraw(timeout, callback)\r\n\t{\r\n        if(!this.redrawTimeout)\r\n        {\r\n\t\t    this.redrawTimeout = setTimeout(() => {\r\n                m.redraw();\r\n                if(callback) callback();\r\n                this.redrawTimeout = null;\r\n            }, timeout);\r\n        }\r\n\t}\r\n\r\n    insertMention(model)\r\n    {\r\n        let user = model.user();\r\n        if(!app.session.user) return;\r\n\r\n        var input = this.getChatInput();\r\n        input.value += ` @${user.username() } `;\r\n\t\tinput.focus();\r\n\t\t\r\n\t\tthis.inputProcess();\r\n    }\r\n}","import Component from 'flarum/Component';\r\nimport ChatState from '../states/ChatState';\r\n\r\nexport default class ChatWelcome extends Component\r\n{\r\n\tview(vnode)\r\n\t{\r\n\t\treturn (                \r\n\t\t\t<div>\r\n\t\t\t\t<div className='wrapper' style={{height: ChatState.getFrameState('transform').y + 40 + 'px'}}>\r\n\t\t\t\t\t{ChatState.getChats().length ? <div className='welcome'>\r\n\t\t\t\t\t\t<h1>{app.translator.trans('pushedx-chat.forum.chat.welcome.header')}</h1>\r\n\t\t\t\t\t\t<span>{app.translator.trans('pushedx-chat.forum.chat.welcome')}</span>\r\n\t\t\t\t\t</div> : null}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import avatar from 'flarum/helpers/avatar';\r\nimport username from 'flarum/helpers/username';\r\nimport highlight from 'flarum/helpers/highlight';\r\n\r\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\r\n\r\nexport default class UsersSearchResults \r\n{\r\n\tconstructor(props) \r\n\t{\r\n\t\tthis.results = {};\r\n\t\tthis.searching = false;\r\n\r\n\t\tif(!props.state.usersSelected) props.state.usersSelected = [];\r\n\t\tthis.usersSelected = props.state.usersSelected;\r\n\t}\r\n\r\n\tsearch(query) \r\n\t{\r\n\t\tthis.searching = true;\r\n\r\n\t\treturn app.store\r\n\t\t.find('users', {\r\n\t\t\tfilter: { q: query },\r\n\t\t\tpage: { limit: 5 },\r\n\t\t})\r\n\t\t.then((results) => {\r\n\t\t\tthis.results[query] = results;\r\n\t\t\tthis.searching = false;\r\n\t\t\tm.redraw();\r\n\t\t});\r\n\t}\r\n\r\n\tisUserSelected(user)\r\n\t{\r\n\t\treturn this.usersSelected.some(u => user.id() == u.id());\r\n\t}\r\n\r\n\tuserClick(user)\r\n\t{\r\n\t\tif(!this.isUserSelected(user)) this.usersSelected.push(user)\r\n\t\telse this.usersSelected.splice(this.usersSelected.indexOf(user), 1)\r\n\t}\r\n\r\n\tview(query) \r\n\t{\r\n\t\tquery = query.toLowerCase();\r\n\r\n\t\tconst usersList = (this.results[query] || [])\r\n\t\t.concat(\r\n\t\t\tapp.store\r\n\t\t\t.all('users')\r\n\t\t\t.filter(user => [user.username(), user.displayName()].some((value) => value.toLowerCase().substr(0, query.length) === query))\r\n\t\t)\r\n\t\t\r\n\t\tconst resultsFind = usersList\r\n\t\t.filter((e, i, arr) => arr.lastIndexOf(e) === i)\r\n\t\t.sort((a, b) => a.displayName().localeCompare(b.displayName()));\r\n\r\n\t\tconst resultsSelected = Object.values(this.usersSelected).slice(-5);\r\n\r\n\t\tif (!resultsFind.length)\r\n\t\t{\r\n\t\t\tif(!this.searching) return <li className=\"SearchFailed\">{app.translator.trans('pushedx-chat.forum.chat.list.add_modal.search.failed')}</li>\r\n\t\t\telse LoadingIndicator.component({size: 'tiny', className: 'Button Button--icon Button--link'});\r\n\t\t}\r\n\r\n\t\treturn [\r\n\t\t\t<li className=\"Dropdown-header\">{app.translator.trans('core.forum.search.users_heading')}</li>,\r\n\t\t\tresultsFind.map((user) => {\r\n\t\t\t\tconst name = username(user);\r\n\t\t\t\tconst id = user.id();\r\n\t\t\t\tconst children = [highlight(name.text, query)];\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t<li \r\n\t\t\t\t\tclassName=\"UserSearchResult UserSearchResult\" \r\n\t\t\t\t\tdata-index={'users' + id}\r\n\t\t\t\t\tonclick={this.userClick.bind(this, user)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span class={(this.isUserSelected(user) ? 'selected' : null)}>\r\n\t\t\t\t\t\t{avatar(user)}\r\n\t\t\t\t\t\t{{ ...name, text: undefined, children }}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</li>\r\n\t\t\t\t);\r\n\t\t\t}),\r\n\t\t\tresultsSelected.length ? \r\n\t\t\t\t<li className=\"Dropdown-header\">{app.translator.trans('pushedx-chat.forum.chat.list.add_modal.search.invited')}</li>\r\n\t\t\t\t: null,\r\n\t\t\tresultsSelected.map((user) => {\r\n\t\t\t\tconst name = username(user);\r\n\t\t\t\tconst children = [highlight(name.text, query)];\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<li \r\n\t\t\t\t\t\tclassName=\"UserSearchResult UserSearchResult\" \r\n\t\t\t\t\t\tdata-index={'users' + user.id()}\r\n\t\t\t\t\t\tonclick={this.userClick.bind(this, user)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span class='selected'>\r\n\t\t\t\t\t\t\t{avatar(user)}\r\n\t\t\t\t\t\t\t{{ ...name, text: undefined, children }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)\r\n\t\t\t}),\r\n\t\t];\r\n\t}\r\n}","import {extend} from 'flarum/extend';\r\nimport HeaderPrimary from 'flarum/components/HeaderPrimary';\r\nimport ChatFrame from './components/ChatFrame';\r\n\r\nimport extendGlobalStore from './store';\r\nimport Chat from './models/Chat';\r\nimport Message from './models/Message';\r\nimport User from 'flarum/models/User';\r\nimport Model from 'flarum/Model';\r\nimport ChatState from './states/ChatState';\r\n\r\nvar moduleInited = false;\r\n\r\napp.initializers.add('pushedx-chat', app =>\r\n{    \r\n    extend(HeaderPrimary.prototype, 'items', function(items) \r\n    {\r\n        if(!app.forum.attribute('pushedx-chat.permissions.enabled')) return;\r\n\r\n        if(!moduleInited)\r\n        {\r\n            moduleInited = true\r\n\r\n            ChatState.init();\r\n            extendGlobalStore({\r\n                chats: Chat,\r\n                chatmessages: Message\r\n            });\r\n\r\n            function pivot(name, id, attr, transform)\r\n            {\r\n                pivot.hasOne = function(name, id, attr)\r\n                {\r\n                    return function () {\r\n                        const relationship = this.data.attributes[name] \r\n                        && this.data.attributes[name][id]\r\n                            && this.data.attributes[name][id][attr];\r\n                        if(relationship)\r\n                            return app.store.getById(relationship.data.type, relationship.data.id);\r\n                    }\r\n                }\r\n\r\n                return function () {\r\n                    const value = this.data.attributes[name] \r\n                        && this.data.attributes[name][id]\r\n                        && this.data.attributes[name][id][attr];\r\n                    return transform ? transform(value) : value;\r\n                }\r\n            }\r\n\r\n            Object.assign(User.prototype, \r\n            {\r\n                chat_pivot(chat_id)\r\n                {\r\n                    return {\r\n                        role: pivot('chat_pivot', chat_id, 'role').bind(this),\r\n                        removed_by: pivot('chat_pivot', chat_id, 'removed_by').bind(this),\r\n                        readed_at: pivot('chat_pivot', chat_id, 'readed_at', Model.transformDate).bind(this),\r\n                        removed_at: pivot('chat_pivot', chat_id, 'removed_at', Model.transformDate).bind(this),\r\n                        joined_at: pivot('chat_pivot', chat_id, 'joined_at', Model.transformDate).bind(this),\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        items.add('pushedx-chat-frame', <ChatFrame />);\r\n    });\r\n});\r\n","import Model from 'flarum/Model';\r\nimport computed from 'flarum/utils/computed';\r\n\r\nexport default class Chat extends Model {}\r\n\r\nObject.assign(Chat.prototype, \r\n{\r\n\t_title: Model.attribute('title'),\r\n\t_color: Model.attribute('color'),\r\n\ttype: Model.attribute('type'),\r\n\tcreated_at: Model.attribute('created_at', Model.transformDate),\r\n\tcreator: Model.hasOne('creator'),\r\n\tusers: Model.hasMany('users'),\r\n\tfirst_message: Model.hasOne('first_message'),\r\n\tlast_message: Model.hasOne('last_message'),\r\n\ticon: Model.attribute('icon'),\r\n\r\n\trole: Model.attribute('role'),\r\n\tunreaded: Model.attribute('unreaded'),\r\n\treaded_at: Model.attribute('readed_at', Model.transformDate),\r\n\tremoved_at: Model.attribute('removed_at', Model.transformDate),\r\n\tjoined_at: Model.attribute('joined_at', Model.transformDate),\r\n\tremoved_by: Model.hasOne('removed_by'),\r\n\r\n\tpm_user: computed('freshness', function (updated) {\r\n\t\treturn this.getPMUser();\r\n\t}),\r\n\r\n\ttitle: computed('pm_user', '_title', function (pm_user, _title) {\r\n\t\treturn pm_user ? pm_user.displayName() : _title;\r\n\t}),\r\n\r\n\tcolor: computed('pm_user', '_color', function (pm_user, _color) {\r\n\t\treturn pm_user ? pm_user.color() : _color;\r\n\t}),\r\n\r\n\tavatarUrl: computed('pm_user', function (pm_user) {\r\n\t\treturn pm_user ? pm_user.avatarUrl() : null;\r\n\t}),\r\n\r\n\ttextColor: computed('color', function (color) {\r\n\t\treturn this.pickTextColorBasedOnBgColorSimple(color, '#FFF', '#000');\r\n\t}),\r\n\r\n\tgetPMUser()\r\n\t{\r\n\t\tlet users = this.users();\r\n\t\tif(app.session.user && this.type() == 0 && users.length && users.length < 3)\r\n\t\t{\r\n\t\t\tfor(const user of users)\r\n\t\t\t{\r\n\t\t\t\tif(user && user != app.session.user)\r\n\t\t\t\t\treturn user;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\r\n\tpickTextColorBasedOnBgColorSimple(bgColor, lightColor, darkColor) \r\n\t{\r\n\t\tvar color = (bgColor.charAt(0) === '#') ? bgColor.substring(1, 7) : bgColor;\r\n\t\tvar r = parseInt(color.substring(0, 2), 16);\r\n\t\tvar g = parseInt(color.substring(2, 4), 16);\r\n\t\tvar b = parseInt(color.substring(4, 6), 16);\r\n\t\treturn (((r * 0.299) + (g * 0.587) + (b * 0.114)) > 186) ? darkColor : lightColor;\r\n\t}\r\n});","import Model from 'flarum/Model';\r\n\r\nexport default class Message extends Model {}\r\n\r\nObject.assign(Message.prototype, \r\n{\r\n\tmessage: Model.attribute('message'),\r\n\tuser: Model.hasOne('user'),\r\n\tdeleted_by: Model.hasOne('deleted_by'),\r\n\tchat: Model.hasOne('chat'),\r\n\tcreated_at: Model.attribute('created_at', Model.transformDate),\r\n\tedited_at: Model.attribute('edited_at', Model.transformDate),\r\n\ttype: Model.attribute('type'),\r\n\tis_readed: Model.attribute('is_readed'),\r\n\tip_address: Model.attribute('ip_address'),\r\n\tis_censored: Model.attribute('is_censored')\r\n});","export const base64AudioNotificationRef = \"data:audio/ogg;base64,T2dnUwACAAAAAAAAAACNPTY9AAAAANRDUSEBHgF2b3JiaXMAAAAAAkSsAAAAAAAAAHcBAAAAAAC4AU9nZ1MAAAAAAAAAAAAAjT02PQEAAAD0BNkhED3//////////////////+IDdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAoBBbS63F3AlqHGLScswkdE5iEKqxCCJHtbfKMaUcxZ4aiJRREnuqKGOKScwxtNApJ63WUjqFFKSYUwoVUg5aIDRkhQAQmgHgcBxAsixAsjQAAAAAAAAAkDQN0DwPsDwPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8EQR8EQRAAAAAAAAACzPAzzRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADA0TRA8zxA8zwAAAAAAAAAsDwP8EQR8DwRAAAAAAAAADTPAzxRBDxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAMDgONA2aBs8DOJYFz4PnQRQBjmXB8+B5EEUAAAAAAAAAAAAANM+DqkJV4aoAzfNgqlBVqC4AAAAAAAAAAAAAludBVaGqcF2A5XkwVZgqVBUAAAAAAAAAAAAATxShulBduCrAM0W4KlwVqgsAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAMCiKZQHLsixgWZYFNM2yAJYG0DyA5wFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABkWxLE0TRZqmaZomijRN0zRNFHmepnmeaULTPM80IYqeZ5oQRc8zTZimKKoqEEVVFQAAUOAAABBgg6bE4gCFhqwEAEICAAyOYlmeJ4qiKIqmqao0TdM8TxRF0TRV1VVpmqZ5niiKommqquryPE0TRdMURdNUVdeFpomiaZqiaaqq68LzRNE0TVNVVdV14XmiaJqmqaqu67oQRVE0TdNUVdd1XSCKpmmaquq6sgxE0TRVVVVdV5aBKJqmqqqq68oyME3TVFXXlV1ZBpimqrquLMsyQFVd13VlWbYBquq6rivLsg1wXdeVZVm2bQCuK8uybNsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEEkImJZWUSqogpFJSKRWEVFIqJaOSUmopVRBSKSmVCkIqpZVUAADYgQMA2IGFUGjISgAgDwCAIEYpxhhjDDKmFGPOOQeVUoox55yTjDHGmHPOSSkZY8w556SUjDnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzjknpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmqZpnieKliRpmud5niiapmZJmuZ5nieKpsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVVWyLIqmaZqq6rowTdNUVdd1ZZimaaqq67oubNtUVdV1ZRm2rZqqKruyDFxXdWXXtoHruq7s2rYAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg4xCCCGFEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAJCx1lprrbXWQEcppZRSSqlwjFJKKaWUUkoppZRSSimllEpKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSgUALlU4AOg+2LA6wknRWGChISsBgFQAAMAYpZhyTkIpFUKMOSYhpRYrhBhzTkpKMRbPOQehlNZaLJ5zDkIprcVYVOqclJRaiq2oFDIpKaXWYhDClJRaa6W1IIQqqcSWWmtBCF1TaimW2IIQtraSUowxBuGDj7GVWGoMPvggWysx1VoAAGaDAwBEgg2rI5wUjQUWGrISAAgJACCMUYoxxhhzzjnnJGOMMeaccxBCCKFkjDHnnHMOQgghlM4555xzEEIIIYRSSseccw5CCCGEUFLqnHMQQgihhBBKKp1zDkIIIYRSSkmlcxBCCKGEUEJJJaXUOQghhBBCKSmllEIIIYQSQiglpZRSCCGEEEIooaSUUgohhFJCCKWUlFJKKYUQSgillJJSSSmlEkoJIYRSUkkppRRCCCWUUkoqKaWUSgmhhFJKKaWklFJKIZRQQikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAlLJSSiitVUAipRik2kJHmYMUc4kscwxazaViDikGrYbKMaUYtBYyCJlSTEoJJXVMKSctxZhK55ykmHONpXMQAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABgAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBE9nZ1MAAIAxAAAAAAAAjT02PQIAAAAET1QwOjI7MDg3OTnQLy0qNDU6O8UvLSkzNTc3za8zO+AsMjU2Nzo/OdQ8Pjk6PENCQDo1Nzg5NTc4RkY/Ojrc0jH624ant3SM/rbh+dYKAskAAACKUdDreIzNZJKea+kwnQ6DGr6SMyeATqfNdOYwAOzSKZx/EB67dArnH4TH1m5B3BoBqc22tIAFgA+v3w16TV1BBD9u0IIippMZtFkCzalgCpgmIbM5SwEA9NLW+hvDy17aWn9jeLmqtUyAQABdf9AXwIJehY6QaSaQGr6ZYyfDCDeOxnGG+FgB9FJhd2InPO+lwu7ETnh+aqIUEDxB0gIWoLiiBtwgkkSTbNJUvHrkb/iaNTNbAZhmj2bNnmurAgYU06n0Y8rwsphOpR9Thpe3FlUiBBgAAABUVVyZOW3HZHhevlKn0+mMSdWEDjFknKqEokMyY2YBXOGyfgYMw7MrXNbPgGF4dkUtyGxBAwAAKK6KMaZjtMNknGaSJjfZsmYV0JKsOSNSCTDOHIZ2mDkFXGVv4oxMwtOr7E2ckUl4+gFWHCkRAgAAQAH8PhzHh4PHwQU8rQ5ExTmOU1KgXB1njAH0r0NmTqYAEkoW4KlPAHhf4yL/zNBdCm1V/jN9fShZgKc+AeB9jYv8M0N3KbRV+c/09X4AAAs2lEjWy3oYYlkOQIgHAAAAAAAAEohsGPD4go4fL178ChhqWu3uVg8Xq+Fus9rd1Khpmk46o0kIIYRIs+QmMxTay5dVT5mmkHGYGhrvAqLRaDRrbrJmpEnfBTRNh5kzxgDgPRqNNCNrtpxZ0gDQ5ucVpGnQpJNpMnMoKQDaxsmYpmmapplX3t7f39/f36HnfzVDzdtA02E6GYdxaFBm5+cVAHTnkz3qMl93PtmjLvN9AOKvkyMAACBLAOZXwOszTE8Bq20CiKzRjGwiN2kAnngBbOd3XOpy6HZ+x6Uuh36AlfRt1ggAAMga4HPxCAM8Ph/YPCygpnPSEAyZCdAUbOcPrlKJ6Xb+4CqVmO4IYCUtGQAAAAAlpJlw/chm2FVV8EU/PnTCjBMAdOWfdCl43HXln3QpeNzdKBoRuU4fIvEAoOqquEFeNxjwaKYKTTJyKaLmO0Prvhje57VOAHzl/vMMaOJX7t/PgCbeKOoQA/vEA4Abo4qRmaFjkmHSGRkmhmHSZBBi2tbYWLVmGhARUx8BdOW6de7EhUdXrlvnTlx4fIDUWi0AmAQIAIoSIuh1/R5hNrsJFnGPjp1MyDCQyduh8RpomjXX3Gb6AHxlOecc+PMPj68s55wDf/7hcaNWgJ0QtTLaCSCwQEAAcGOMiAvGxY1Rn/yuAEA+YDKMFR2AzFzSbBk28klmllmP+XUNm/zH01R4oJWKICf0SWaWWY/5dQ2b/MfTVHiglYogJ+STWWZVqVQqNTaIxnpNIYSAJcOyDWDayIQ2gAGwAmIAQgYZAAAAAAAYI2Jc1VFUjRpVEXcVVVwxJpM5ri/oCQblDcox+XC9yJUBSiIS2dJcI1WtEtVoENmTpgrVzpwR/v7+6tkCkDJ0ZgPQ0gDM/DQA3gQgafNNh3FoSIfpkJflKgDGiQ4NAGZm/levXr169erVq2NmZubVq1fHzAiM6QuonaeN6QuonYftVDYELFYhAXSlAAAAUMcYQQ2fK0BmOIREcoMA8ahAM9ZVB3zp01iV933plV6V+16APgAXAABABZDjZo6cQOTM2ZYGSY7sKntGEoAPk5khDEzhvV81eegU3vtVk4eeqVKHzAIAACpqVCEychspkM5o+mi4NGF8/e4BfOXLjM7H/Fe+zOh8zO/MsjETgy4jYAFgXI0RBMfrQwCZGbkky/9tOzPGM6Try9dqfqcBhGkL8sRtDNMW5InbuFO9LGCCdCYBLABcVVzB9RuAk0SENFuG/DUiMzI04MULTdAmWbLIrgKE6RF0YiY8wvQIOjETHqd6rQBMA4oWEABwQADkc3xuMM2eS9s0HerPzBcZGdly5MiSJYF+/R8BhOeM+smEOzxn1E8m3Ot6kKSJG2S9AAQA+R0LggGIGpXbZs2aSwZohUZOaTRy5potDdB39iQFAtpJ5rOHhGdOSyl/bYT6R00L5Vny1knms4eEZ05LKX9thPpHTQvlWfLmg0gyyNBQ1IumigxFrS5hyZ4CUaknAGaAesig10OGIaQAqMEAAAAAAICqGBF3Y8QNuBFj3FEjRhQUwLgoCCCTyfX4g56AK8whGrJHGo2GaDS3AdBoGmmacRgnGaOQb+88zwOqCo5v/levjhF4X75HI83ImiNnBiAOmDmUjNGhxONBA3pmhnr58uXLl3pVzZeBAtB0mGYaHaYzZs6YDqVpmqbv7wB2Oebz/5jUe3LXROdj+qm4tIyDAS7HXP4fk7pPtqb/zsf0U9m0LIIB/AEAKtHQCJqUEpbeU5AaGwQAU1APGUy7TUoYAAAdAAAAAAAAAEAWalRdxbgxatRRVQ0SprqIgIAAQdC1oD/ogIBYIoKxBVeHp6NtmylbRESIiJg6M3uLtmipqjTJNQPIHxoIAACPjkL2AESarGt1IhoEmJqmHRsAEBaNHTniVTyAaJojewIAfOcV3Ar0O6/g5ulqM+sRElRK4ApeAAAAAJgqatEkVGOMjX45XxkSEO3FqtspHHrY6kMNfOXjfHK0G+/wO1mtslImtHw5SFZ43BMAAAAAmo0xXdt+H7nB98aGa3D51tOpf7ktfr99KYv7//T/8T8SCVYH/0e/F3Kh/+sOemU3ahGJBKsD/4uUJzFpcb47UOz/BVDCNwAAAIBUP9xkGxGgSut1QAa2IgXBAAAAAAAAAAAAQAghIuoQExAJgCVCiLZC5hElMo+/XfOrUiRsgMlkY9NbaP3vFFCjhyk6swFbRIUWEx298mRofb8JBohsWyicbVp17KbTs9vJzO1pvoKqnUKPhcT5JQ9oer66fvqe25tmkYJrcPHZn7svq/PF+1/fNRfZPm4HvGy+0Y1ujJ6+8N3ntiVsgJj1dsWbr1/NRfWT39o0BXqGzn0nu8YoAHTlFb8VT1c+55vYnfLVpwFSShoAAACAWowdMecY5SnUxvSy8f0sGYB3i+sCTN2df6VadY/+HpudaxlnRCcMYHj84QoAAAAAhjPR3u0WsBMFOeUYAfjptv/j86/v5AZs4SPe3Gbhc72J2RnrrZrQ6S4FEN7HBAAAAIDP8ZCLLzA+Owsbux//Btg/eY/j29HYr2c9C3Tl497DXTY+8zVi69NnhRcAlF8Z1wAAAABQSAtRWuLmSc1ediIoW+uBy/s8uq94Oe7HWxOHBVzhHd6Qi74vo8s7nU7LZLQA1NP+0PeuAQAAAGjVapW1+KhaRe8v2f2ivOff4nhPff+tH1b/LA9s45M9xq7xl4Wzne7nZnHPZf1XBEDtP6t7BxAAAMAcLCnJXGPYjT0Upn2dKk/kF4o+vu3eA3t/doUCbN/T/LZT9yuipGACO+N+9k76uuKrLpsHAAi+vwAAAAA4c11FvxlejmxPT+304fDrFOCeO8cu9cvtxe3z17YBdONLX4ndwn8gSuYCdypOC7Q7n2j39/VdnwIQuAAAAABI94kqtcHrP76SOs0GDQBkjc/rq37MaLcDUsjtG32njVyC67n1arc1wmM3DY2fmS/pI82p0DlVfCp8vOH0BwB4NPf6gciikiFIBR6TqkNvIGYBtEENABoAAAAAAAAAAACklFJa9Z60r8A5KUxRVSDQEqCtrsKYWYQ9AADgyEir9l7dNtjj+D3aLdL47vKTTnrm/Hwxw1HyAEDO//LpAj5bVdWsBgaRTt89+f7znZgD4u7sf/G3uWgoPNGgN6/ec+7idX/x8ffgA4DyTiFKT95e/vWaxZvbL57sQFNpru8GoNA0HT6G25C//qVpCgBc3T8jtnydtl9clZ2ent94L1jXeYt9AAAAANr/vVQOYWilXdv9n/fccFNn97/x+uQ0uLYbXPt4gUi+SgBc38Wy7wzvnu65384xfgH6K/DWQAAAgNMEgJR/SBb0Cs2HHuzzF+ZjY1PNjrPP/sU3Xl52trj23HMfj7gGAUzdn0TJvNA3fS93dY4v+wBK+i0QAABAGbC1yKhJi641n/t7kxLMf7d65N7/94uPZXe7/RVAP/17BFzfXwMl80I+up75e7Z8XvE+yF3kBJ+1+kAAAEBktvPhJoyGw+tk1GkBfP4v9z/9Vu3YXfRxgLT/HwFk4UW37xzvp+/5n87y807Tn14LL1Kf79P+DKzAXwMBAAB8HzXxNbi2NXUAis7q3wP7FlEAzFhhxx/ucwhU26sWnR/fJdmdv9cDG/DOeP7L+wqoWedtVvQA+AEAAAA41eNRaM74y9O3npEjXS5yWxkO3XmAeVOxy/H//6f/a7sFRN3LrZ2P1ye7x/ey8O/Ow+SDe+JYX1bk5XvWnQ1AIAC4lax+tFSHnWRrEhNgadzTmc+udCDy3/lwgeee++obAicAZF/rWSu7m7obedfY7AP8aNddAAQAAOxbILIzf3dxCYZzcXkBHWfvG2wUZPvNz/du+43f+/1/sbvY0PjOxqcDAWThy+9KZs117fc03nb67WdlQlNJ6QMAAACQ+/Sgm1Zt1bbz8PloMH/j///0683Ac/GHi3j0r/Stvw5U3S/OyqXNdqPvGpOd8faXOzaexVLKim5UAAAAAMjElhLo4iNvAthZBAMzzmQywSvRTx8bADzV87+dozTbzb9np+6MxU/vrXgLFcIVlAAUALX/weRDc+W7zM8xGfMA4XHx7rlOSC74UXC9kB1kX+s5Kztdqrt+L1tmO83+4KcBNW0fIBAAmq55E88oOhfReexVrufD1u1z61wDPj8Kkuf+iuJoAFxf67Eqt5m6m36nMn0B2j5AIAC4uwEdH7dZdGBNMdf949t0L19NuRu3zR/chz09jGPXgvZjDYzgAFzdC8wTxXPd7nvJTHb6l+fP0X9MhgAAgPYw5Bpote8qurBbc31W730H2+3vjqFH7hjI95AANNmX1Nttsz38e5J2Z//ucIqugaCL14EEAADwN8pv549po2WOitkiwnqh57vb5BSA7zdAfeObATzZdv/ETi7Z+3wvRs8ef31nlaYbAAAA295Gd3z+n+7P9j4meN82H8vO4dQX//RShenvBTD+/asBXF8XmBObXK6bfa9J8wK01/LijwYkAACAeH8w6m5fLmXrHX1o9xT/bfzfb/qLf5hpzP/67mV77f3pXsQJ6N8fAF//9vLNAETZ/vNLfDHaHvitUrMPoK70dzF5G7QAAID9GpCMLh+GkXsQ088X6if64cjAeOEs1wzi82zj498Z7u6f5sD3HQC//8C93wNE22bzDxOWTG/yvS3Lzot8WV03vxOkrPQfTmp8DwAA4IVr3HtfXuTbvq89hPv8zCMALJtmbjqUP3ypnz7ivgFU2zbvHzY+142+l3ZZbf/pxdXmiu2LAVFuAQAA9f50U9ffUi6gwMe79d8vdvzt5+8Avr8B8PL9Q78LVN2T9k/KJ7vV9xwY2dn++/EvQaczgjYvJAAAwPv1+iX+eDiyxz2EbNccCFfwKQ/eAfwcAO698dUbAE9nZ1MAAIBmAAAAAAAAjT02PQMAAADTiI/HMzg/PDU0Pz4/O/8QODw4QENBQ/kyND06Ojk9ODM0NjE4NOPeLi0vMDc239nN2yssLSswMVTdI+aTfbJbfM/msrP9D8++GAy+iaAFBAAAvG+P8teb/6OMb8Y4sRMvervgG/f/OgA/ApLf//RrNNet5hHidF3B2+ju9Oa3i5trPoNo3Q8JAADwrWynht0c7o4u2uTwV7h7wBWrxb0vcO0vf+65a1UA3Pv/f68AXN29vEW2mR59ZbwXoFlBUwBQADiPALcv7c/mL+o5m8+/X/O79t6fzX7eOwXmf3mfkylrkfz1byTMdqlwTNsNvEvT6XqmXc+d/tH8ZhMDqM+eXgoAADDWmylH1ljj+g3r2qnzl/4m4OOS/uXz5xsTQgY823VfeRplT7KGvNN/T/6nc7UA6r9KIAAAAB10LMWwu5e6PtizI5GbfwQ2PrZHht9ecCoAJNvtv/T3VM84v8TaB+C8Ia72Z38dl2MAAAAA0Psj9OV74U+zSC3C+5S9FVfdsTTE5u1ze+Xyr5uF35Pfge8CHNW7/LoXZd8Zvgy/Vzx8u4gzrchVPisAKP/X0VcBAAAAMPB0fOMfivSaeV+4uYNkNmrd+J98v6cIG0ApriJM3aVe4W7annd0jn4f4HbeihTKOwAETVkCAAAAkJ8FOJzSX6NEGI30vctob466n0UETHeDKLyi25V+HPDHtwBE1yXfZbmoe4azc9xegBX+EkDwWQAAAAA4Fw/szxGeB+Bh5QbTuzF5i9sLfK/5+E+jJ++MT4sHPnlhAdJH5Qd/ni/LCu2U75AoSq1IRNrglebO98O0pt+63wzuv2ilQvAG9g0AAABgGWyiG+hlM4kFqfj+++8xAQCGYRAGAAAAaA3DsG0PmW5Oh30sADR6fDr2fjI0mWxPsPv/Nt+ZX3n/Oxi7Hf43BR5Ld2ncasnhva96do5FDE4+FSwqZu9HV8zP5od8GXwZPDbxuvfXHnt9/EbcudtbVafNh15/LoDq8PnNeHcfAGQLuRr2PD2eOf5D5rPlYuM9Dsj58Gbyk4/xr9eFKEAdY6Gb524fWJymD7k79/m6yM0izcW7SwNRwDzf4nme53nGtm3H53meZ2zbtm0LAJrnd9KIJmmUutiP/0UBADgUaAAIZAA02Z2/p5BNUz3Ce+08vrwAqfkc4gMEAoDx0wbK8EdOhG4F76u4FePAQ/lHOcT2kp9j8OhzH4fUyRTVVXzvikB5qit6751lfR6ufv+CNVL7nxBfgSg1wbrz8N/HWNb5xrVtj4dR+nPd1s8lH49yq9LRGS8FCjzTg75pttpewO8cX14A4vgZBYC4arFHWJF3wu2BrrnaaI2evfGzXU8Lsut7XfCeAvrz83eFeB9kRNkz7wU292zP+HeWX16AdkVXib8RAACwb0A7rNHePABme2GL3/FDrhmklqZ93K/77NoHnz/ePB2/bfHpTVvFATTXd/SJXU32ib8kAtnpr9ff7naZl7MsO7n+Xgd/AwQAAJhgz/GdsLu3JVB2wxpLqQBgPPyb+Yzbb9x7/s3+3tP8pgA81QvXl+HTVO/xvTV+2dmLn/7SsnlQu6KzK/wNEAAAoHfOL++evHtWl2sWwd5hBQBzLv7B43v72M1/757h9c/lFTzXD+p88Auqtif5noXrajUvvBgsYbzOasEPV3y428E+ABogAABgZ7/bLMe/OX8RgPfWgX/9XwDXAODYHhRy7vxMUAASaMW5cfvtqxLTZ1ZIf3FhlUjPcPZZ+aH/vb1NKdf/bHt0WwURjG8AAAAAS2+T49nQJCaC6gAsAABhGAQBAAAASCmlVPZtfBFY+tEiLDWd+2NXGpZmZpA5qtWhnPs6J08VthduyAhbHxqjmre6unLjE4XXin75f9ffn57Ov3f88benG49dPpBfbvT6GR3MN+fXrboMARDx4OQTzfi32+3WAZBnO+tseVweM69uSG60Z+w048vwTFMAOg237/Pj/+++Lrp7dBsavtL5+QUvWA0AZru9th0QvfjxJOnFj3/s2jbdptFoNACAHvvGX//9Y6MhABrQAMBwAAdE3QtclTeNrjt8rzb7AK8KcTQAARQAVv0B1D/Z/qwDT3O0wkDK7V+r01AE73OYxKlmB1TZq3J2frw82wO+Jz57Aayrrw6IAKsAcJpa6DDKG4GPB1Z+hb+Icmk+vnzS0u9HcPmVwQE81yu4Oh9/P9eT/JlmL4D+oT+5pE98BeJ9h790D/Zj09Ie753MJ7+IxeeZyz88vo2YNfrsrW8U6amyd3dkPFnrOJ3jn+l63O91cPcBfqdZiLtoKJDxNMHyzIrfexV5Q/AmGXqs9r5Uh/jAhb/E25u8UBa6dUlWAETby1yd45dne9S3AdkH2OIDJMTdj0AAkI8d9LjRvP90PzIaHaTzB/Xpy06NaRegx/bhT/rhhzZVqAM82ws8neGfZXrU9yTvar3S/68LGE/662tLHC7EBygAwpD/heoTcjf5Aa2VTWXQj3j9XS9+IAxKAzQ019O+BzYkTfbk30KzF8D9WH/4vd0StBpq+8IAQAHAfEAI1zCv/Xl1RxEyrurLcAPwlRDr/6LZYbcQcaYBLNUVvadkCqa5nubXk70AYviKP2hBxN3XAFAA2Lc6TLVWc57RebFvYvH4nTW1aQoJ3HDjynNZ0gFM2wO+l4FLdD3jt4zZ6b5eBc4BBG6roVzrPVEA8OKlWbCL/WbIMwTgbGKwjekPUH2aUwA0162+18amyZ75T8xO0380J/gOgBJ3nzQUAHtIV0tC5KSr2cYwcRyxB7C5fIlH82j2qYgCJNW131ujBNNbfNOTnVc/0POPE/AJACXuJkCBypPl4uA9q26MyWX/RR0Aydf2mnqb9FJdCWoaTNsDvJc0ebIn+x4jO6P5SzPAdwBM3P0oAPIZW9aOrquhrx/rNHV+4QKy+k644fh2BzzXA73XgJmuK/9lVutL76ssYc38+xSCiLu6oQAo1147CSkPb1Yk0jp1I28GXxGPp9faYDB/kR0UTNvjfi/pZrme/NvIZbUOH6iCaP21CiTuPiAQkP5r5SyQu8kJxbl8MWtABePZlyyI1JSGAJpHVTb439I+FdJiXEdvDYUTpo8KB/+VdFsl/lIeO9TYCgWCwDcAAACAJnsKy2X7v4trb4GNcCzRs8BBYRyGYRiEQRgAAAAAJMhVjyweQCZQ0X36vez6gwKAIKnuZmbntT01KJwz85In+th+vnK7vWlZbfQJF920qm8NGtmr0BJhpBvj/rA/3Pdxz+zjODSNnC5fRJ/nl/dMhgBQp/NlvgINMhWWFZCPz3/66drpt40jdYDrj++d3/8//n0DTYfzAKAATI1GIx2bmOUCp1b1CgBahuNkSJIAIJABMNCgAQpknAEAtieFA79+M3Ndep3yGYleBag7HPKeFOa/JX8pLem3Q73D7/z365ZE9gcAuMov/+ZjiCjmZGIElsqisOx/edkTsAl1iQ14j7BgiEEoAIODQRgAAAAA5C7TkzKt5skaCSljZnUCVORd/28LgB2rGdNUVQCgpYdBpVLDHROWG+27veZ9cts00FRDi8y+DREkSrS2ygaj2nb03O8mjkZ7jToaAIDb8PNkbwAQAdh44vEP8eVv/tWTx5vePwEAOAGotsNxEKBVgGZkdlVXT509koAA4IAMEAAT4NAMBgAyBwYAFNUb9p5R7aW3y3sW9IyHtUaIS4HmMGQjWSdjI8EvFxd+f/wVnEIeUXf70aFTBRzXO/aWvEn1OW+mPdfH7+roowIghrpF5UpxfAE7Lv7s+Pf5jRA0waQXcjBOABzT53YzaDF9iJtBz/Wv00my9lWgk8MvTecQbz0qAvf/fSNcm/8voKqG3K2/nq8GJNfjvxnbVE/6Z5EPkAJQgbQrUL/lrdkG6R1ncPyD8D7/3G38/Y+fN7mKtrrdh/NxDNOXZVXaJtM3PJnN+vbsCm9dBKAokLP7Ip52i9XdjePjdWBBTPxflJ8GoyKm1JSp10dNrx0dBSzV97E6sUmm7212juv6tFgtxI8D//IJAKwAcC4/i4XqEMgh8lstAMu7xPVvCkwmM6cUaYV1A5onrcPWb9t2MX///4d6Bx+3D5g+T+pzp4Rn2+21xPU//P6LBOwTpvdBZJRFGcfD0+Efd1zHgv/fvGRkc0Zi6fU6bEHx0UeW7iMAABhiXQD4IAgAAIB4oV3D9Yy1upt/9rkO/DKmGCSTi2J7wml748v33vxpLlrp9gWccIpoDdOksTdbmozGUqI0TWoUjfTQ9YcJAKcfDjY4wgON0/agbzzsG1ENDgDH20//8PJzVws8AADgAlcu/1EAoKlO0mZkyZo1yTKemSUys8omKgAAAQQ6oFw4cruGwUEJABkIgAOeJ3WDH5Jed+u8fsIJ//6DmX0ErJgn9UMfkm93y1z/ByfU/h+3Yl9gCj4AwNsver74ARtOCmAEXnob6H/zIPQmRGzIcOKCYwUDMgAAUkAYhAEAAAAFkIDGehlSHoeMkmowNIHSjwEmysGdHDq1mU+8/SH+TsJqC4AW9f37Jzt79hB42XTl8MaEP5ufkcy0LQAxuPHPzwpoIF7Hq9/90/0ohwAdXk3/3Qfv/+v/+eXv/ZAWAD7X7/8LALh8v5Pr9Qr8Btg1IE0DOkwn4ywAMmMyziwAeqpABkAA/iblhv1T8qfqVRbz9+1uxiBHoRwnRcP+k/wiXq2eYLob8+rRgD5ADyB+TG9qA3EySbD0nhYAQJY5WygAAgFWfl+HzgIQhgEdIAzDAAAAAPBzmbR0bHO9amPQu2BEiCD3HQBAawcavgEAQAuaT78ZvkYb23UyF9JIRFQM9x6G0Sh9SxJ5gDA8MD2vDwH8UvjVV2N7UAQAEAPasRmOk2GfpdKSYDVON6MMARhJkj6zdicWwD+4AvxvEACAQWlgOACarF6TNSMFCKADwDngABYnJcJ/Sj6DdB3BGFOvAi8QgD2p4P79rY30GlFoM8KDflHB+ELvPeIQBwfPZh8AAJSyDfhmAXq9NEFBBvt9YAGEh8NBEAAAQMKXcVjHzklasHXi5jFABwDhQ9/lQ9EzEgDAhN6bzx3zb7f/df1435mpQqq/syN1emOzUV9+/p+//j9MftbPuYMQGelApZF53ZQyBAD707Lzeo7ooovlIJfzd9joUmhUjDLWbo6lCwCmgvndjNN2OR0O27TTNFIElfiXSlMAQAkOCDQgDQk5k8G0axwgA9ADcAAKDvzSVfa3bjI97qsG2TNe//0jEgIpkMdxT/pcbOJhwhh/3R5PaJbp1e3lGQIE07X/Zl2mJ3E6o55xqxjYgF4AqED3NtaqHHkTpoBBxeIhdQGTd6v+1KlBARzTPb5ln2N6kkcN6j5ACkAF0twgOTVqHGpMHjG9D2Dt6JhpihSH2Kn+9PRAAxTTA58tWkxXcimZnu5SBiYgAKix/x/F9FM5+wGo9IVr46unsXVuxcwiCAcU0xXdythjerxXb0/Ff78G1hYACqTe35Q4DG34Q+U85JdJxt7IcnFNcP64pbGrUAD00ju8GXtM9/wz72lyx4ed0QJUID2SPy6HhDcPsSjjp7E3/cdnq0aBnCqdnV9WGyUAT2dnUwAAQLYAAAAAAACNPTY9BAAAAJ/xU+IXLzQ5zs3Bv83OzODYyNnKzMW8x7G0wcgM073ejF2mK/6WNFfUxspIAYAC6Z7WoP//itdX7rbTpTb2Xv7em2lJZSduY9+dKhzTk/8Zppce/GaT9dN7pDYBAFCgzmf5brdY/XU/WnvLTLiu+uYZtfhE9rtDPgMtD6fJdhT80qPfUrBsiukZn1LwuJzl917eE32F6yAAUKA23A3tXY+rbyWwPGX2gbdr7Bgc3E3VvQzeKrVylAP6JqWZP5LPoF7795++9bogawd50qR8f/uorvnbX+4IHw6x9sI3AAAAgGUTGDbxeNDr4uEPgvAwCAAAAACYRU7tBBsgEwBAh7AAG1azz3kdV2ACmbNdVO5ctnC58O8xf7ff44VmY79k2GtvHmzRPjiUce5qu3OVX/uAEFWNlekFerdbfMrt6xkNDIDY8NHwga+fHHfjYQVQjW483GhxurbvxFcDCA3g4IX5bX32hUQaZucVaHBOHKBwOYMDAGcAMhDgAMQASDg4QoYGAYAADt4mlUO/fm+Sfkx4wnCxoUKCDCRPmvK/JH5WPM7Hb5zhP3CUnNhweABaGeVrI8g9EmkEHs8msGyin1AVJBliKUAQAHSAYRAAAAAAXJlguGMrw/IwZtVXh5a7boFXYIAdVgIAACNsm0QjVrlusrYdXqVROgJJkmXCIvZT4y0gKIOM69L2eXG6aagV0FYSVoun7eG+XZLZKzUyWYIe7hflBpCg47gZa5tgEFOBxO7nNHP2vXce952ZRFtJtKUBIhjAASojS7YsIRoAGUABgQaeJzWZP7/bxTo/jN9nhHdlvFRKkHKe1A38/j5L9DtebEbclcAqBlL2ALTDfbUjJqWE0cLPBuDJswAATUwKZKAXYCAMg1JgGAQBAABArQhCGJVsQ7t1bkX6XUmSK6bQBMBEOLrEAAAwGw90BBSZAABgZxwsmJ7NWsjb+yzb7SCZRwB8mtZx+/jOEhQA0hlsrwFYPHuHzCzfHKw3lwXQAAbb9m5bEgHA6p57h0OkGA8FDAoIQEAAQDNOpsMYIHATgIID/iZlud8S/q6uvbrDdlfGmW1x7D1N9o/kx81jX0YVfvNxIdGTDwCwnnHjzw6olcCyBRosCtZXGgRgMGhsSPAwDMIwCIIAAAAACBGNJE0xek9XQTS2pFQQAADWjfcBirLW7AqA/ECs/8O5CwFkHFcDrvvT+KbpBihAnkc/5lrp4JkLAIC4uPEhc3N5O3vjBQDArdf527utt93C7vsJAJDlegWgBCD63es+5en9EwIg0AAwQM64g0AGmgMcACgQgAAe94yD3wLlRvWY8V30/xi8suNPb1I48FfyF9prw5tbrzphgQfg8an6e0BzrGA0cJKNwGNiUbCbz60J6A06DZBkEAwHQRgGYQAAADDiuEW44zysrm1qhZbntKQYEHUGhsXJR9kBAADgqhsBQMS3FAFAD3vg9af+7Q0azK7jIQCN3cWPD77z2lY0BZhhw+75Jx7v7ngBADC8tr32brt9Lg9PAjiKXy4AXgEAcJVx7f2r5W+714d/RgkKgAFQgOPkAAUuAAYMuANAaYABAwQAnictmW8Jb6se9y/fdYcfW3GdhcRJ+8BL6hm0/caPdqr357hYI3gAz2bi8KdzkLEoYOlZFLQz80YABh0mIYilwIPwQRAGAADIAXERd/Y+jnnIYfRyIZKT/hQPgDakKAqgjdvnnl7/iiVltjqmwXHxCxPfnwqAwZ/K5wPU8fj5+GEs5hULAKCMRp78T4xfd+24uc8ImM9ffaVzs3y9v7slrm/OE7AvYVYBaDr8/W8/369/+wkUQBoAHDQEyOAH/GRoJhAAQJtpECANKEADCACeJ43ZH38ktOsTH7kjvPOogzNx0j7wlroGsczfjb+ZklNlsBjwAHzPt4dr5LGCZAQ+w+Ap4NlJAPQGDeRlOBwOB2EAAAAARJvw5cLzYrNGXEtAwKzfG29iNIQBUOrtEwGA1LMcABR7r1/kG43OAIjG6Ge6faKaAkABMV+88PBPx+PZKBygIdqzvpxua+O55AQAAN0+97df/p0v5qvlav2RRZx/dh748wEAeLe108o1arh8D6gqIIR+ABAa5AMOAlRAwQGgXM64QxA4AAP+Ju2DLynPoP18h398u7cwGe0gTtoHXlJuqfr28P61U/evHFcfFg/AmzHz773ESW+xSgW+0MmiGPqv/joigN7kpQk/+EEAAAAAIpWRmHPpSXX3Sccc9PTWQp0Z7nsuADkvF+eAvGOHf1sZUPTXxeu9n/86flz0ZNsA0NO//8W1+ACI0/Fuc7s741/Mhpv5DKDRJo/3Pnbow4+v33yyLwBAHel0tZfn7vFt52H3pDsWOwtuHywErgmU4JtD9Vrjk8/ZtRsAGgYgAIoDHNAAOJaQcYSMAmSWAFuAGY5sAKA1AD4nXfIPqXdSr/Obf/+2nJqrdcDcUyp/JJ9Sj/1SLm1DxlHhvJMnQOGbAAAOarAR+AYWBfm9b2MJ6NTJc5BYCIMgDMIwCIIAAACAmSLi72ocYN8scACpQ34RZCsEyAAAIH/afBQGOGm1dQAgTfLq922H0uOrHF3oQB8X3xxBXg/69N6rwgKgvXz07Fh2J39xAiA/ePbcw3/9euzlbxx6A0Af36Xz2pvn4+9/2+147LYQ0Om5CzABnO6apHsvv/vJu/unT1UAIBsw0JzhwCicGCAoBCADZBDAAP4mdblvgfSSukb3O2xxlZXKHaNOWtVPafdUn89PfrZ7j5jJiA8A8M2b7u/TS3jzfEkyAhcbgA9YFOLj+/+4E9ALiUwYhoMfhAEAAAAAABbXHyRYV0KI4cCMJhsYAkARrbUEAADwcdwkAgUPv48JPuC+ew88cMOjg/sW3YiAIK5953UXBzAARGUdxqWdz2sLAJCanpyZdevWtXdtAcDT9vnTgB5QBIAN8apv3X3lG/wZIAD4MmBwQAaCg6yAZCBkUGiAAiaj0ABwHieV9i8pu6t1LHa39SraQrK8SUvwIemV6vH8/f/abg9nVg98AYDt6V8BACxpT0FG9Q8A0gaNoCQwDILwwyAIAAAAAILubi7GY4ADQKUNt1XmB8BMX8q4pJ3k4Oa2gSa6ubwg9/4x7kdjGIZ54/f3YHbkuvT9xk4Bzg/5czEiAdDCbicv9321nz+fO3clAPO52auvPt9e+J297rnnvgEAuqvH9167O/c2y79cLRKLhTnG4yuPJm7ABAbkEcff//9+v3EiAKAIQHYIBgcCBBw4aACgQA5A4AACcB4njcGXxNXUa//S7q33laIoEied7Oe/W/Vxfjnf7c48kOIJoAUAYBlYFPj8XzdAp6yy8fBheBgGAAAAMDNkhuPrJcQNWA4AeHOwy1IAkskJYq7qQDqe6Cc+tRCicW7SoYxqKcesCNL0Ef/tMAC49p/kt4MCoIGNvce93/b14vtZVWYHgEP+TL7ImDEYAH1c2o01f6CZJzVti+m5n3ueaHY70GcBgIM5+vnnb39/aWoG4AEaOAHY9CBDBoGADSAZiIIDDUBIQQAyOADeJk3hx2836nE+/b23e6eoooBok5bs+/ereuxf7td213esPiwegH741HyP8eMOYmkEgp5FQfz9lbET6E1iDlJwGAaDIAgCAACAxciUu3nk0WLMVmNdweTNP1CeuiAEzxYpgNiLnDifAHjm0cu9fxs92lHHRAOA3n3K5dIAEC4XD3z8Yy+vTkKzAcL9fMaHY5zeuH/f9nLZAoDt/o7y2Hr9sf28VaBidt9AcwB0PJLxyWdeBmcBDOTAHACM7gIggNRbAwKgAI0MhwAoQAMeJ90zN8kL7etpft5b3JZXMZXESZfwKfmU+Lh/19p097BnMuIB6GW+8xt7448rkmUTGCwK+h+/d7ECskaYBVwfjAZhEIQBAACACoRh1VxzLC9sAF1IqRgAgFTuRABYud62DQAsHbP828wiWhElS0FNsWohAIB+ddrbAUxGXL+4mPf3ya+PlycN4BxcGTV3+vUyyowWYLI0gAYIHbvpz/chv/ZxICDihxYEATgyR0YBF8Dw6zQA+DEAbQySSdcIYCQADQARAD4nXYK7tGeq1345H9sdXqZ+Weaka/iQ8h213B9O3O5M4YEyPgCAWSr/dVzSp9cbYemwge1YQ6cdUJNkSIODcBiGYQAAAABAoUmgmWHYiDdshMMwt4P1cnfuQxkCAADEt1enoy5eXhy2dnlvpmbytfd9ItA++vCFBkCTv/Yv7gH48vpJAM4W+H48C8AJMK1JASDzdvuy1wIbgLlQyVe36eFllADQB5ABxWFAgQyZyQ+gXBrRBgCZdlYAQAgAHiedMk8p51XLycqy3b/cFUtlTrqHdynnUcuYTrf1/1iZSzwA/e6z165gmqDU4VkAACGIdEIpDA8GQRgGAAAAgDBmwoif/zPXKiQj31YRB8YjgKHj64w3L9NDUqKjtXvkIf/pr4s8QH9duwcgBbvtwX73lAAAElf+SZQkkgWgrq/ro712To/9/bzdMgSaipUwycFLhyXE9mo3+n5jPsiX1wWAFsxn82gk4xf+luyaGgA03iBAACF/AK61ADhaBjgQDOpwDYAABv4mjcGXhPcurvmpmJoKUuKkLfMh+e7i2p+OqVdtMR6ASJcnHRZLYAkWhe7Wn90AvcxxCAQfwoMAAAAAyEyAOcNedP2/IjJEsqAA31ecTQBo7AzPrdqMIaCHDiyptF33OksFEJffebUWBKCIi8M3ows0R3MUdrcv/9/myy1ECRWUXH+mntmLnlLY7pUGaBFD8xrA/gJHIIMfAMHhBAHzIR0ABQUCgBCnAOATAhlwgAMyKB4nHa2X5P2o9f5UbPdOsJQ46WQ9JT+7Ws6Hp617gwA8AG1u/DWhBskIBMGiIN771bIFZJ3iZMAwCB8GAQAAAACQsGEs3l+zIDmepBQgnjIAk5lzIIBSMPuhANV5L3zzcAAFQPqv22hGAFhYhPXPV8+LVToPCEJs7+L7mcXseNTsKThLiMv/z9GA2fY8EFHqrdvqz2SS1LalhvWxAYYhRtsFt4KGQzAAKSAbABMgwGUMDYADBF4nvdgXaSu060alnJS7lsKDA3XSm72VvELV+3cp7Sh511IglvEA6Y9e/bZATgpgSfEUWF79nABZL4EIhUFExuEwCAAAACC4gjXifJf6E5LuXkRNAgj75QYAmJvNsq0sWx1GqOWEGWgc7NehAEjuXpdLcBB63f56+XneWggViB7Lxuevr+25u71n4AcA+Lv0OPhhVo9tgSIAemqYnUw81gAH8Ma9zxKIAiwIwDvpWwDgIGAAPv9xAA0y0mhkgAwZEABeJ70oV2lT1XU+FUdvEWnUSZ/WIeVRbTioOelf85gITwCfBQAwAgU6beIsUA0kQjSM0HQYhAEAAAAMW7CI2A7LDAgAyZEDYOVk5vcLQBqI/UMzwJiVXmX7ySpijmpSobjnIMXL56i2DQDkL29wKmUCHGC+OH/760++KxBQkqwso3T0ahaz2ePPj38LhQaIQVxwVpf/f3X56Y1BJhcBV4Huj4ZWW1T7AhQALgNAXxo4eASA/iICcAQAGgAgfwlwgGRwZEcGQUAAHE9nZ1MAAEAKAQAAAAAAjT02PQUAAABE6BLPFbm+ucfOwMLIwsW+x8zK0tTAx8zKyl4nPe2b1PtW9sPutp9/CJ6Ik572VfLaVZzV87HTvjJJsjAegCaWX/1wII8FMFo4gbQNzIGEkAsoDAbDh2EAAAAAAIhamKevcTfTBTFDUOWImQ0UAIi1egNwmA5uPFYVAEyUGff2Z6StAAA9PqYXXQTAlOaTTzqSxWoYWVhrCZweVpLp0ge3+0l3jbdaLX0/LpP/vwDX6woAaBAF/bFpNMpg8AEBwAN4ewcDw+AcDTI+OFACHA4UgCwAPiediafk09WyH9rYyVfBKAgxJ935m6Q9VDc/zXun7a0lwBPASQAApcqiwK/mCUCWydk4woODgzAIAAAAABhJ83MveQkSAKjzficCQCht2MspwZf8ycySoC4HvHV+z/2z3OZSGpIn4yBc4HPLCAB5/S+rQAFEZexkfdok1ZJAiRpMx0FFAbJ+/oKVijUpZpDv9Y7Az3EATQEyvjyTYqlCHhAADnLIJQCArAAUGijMKg0cIgSaAnA0AGiQyQAEAD4nPcibpLNUfF6mnfr+BxzmpAdxkzybWu9fpu2AZDwADwg/fO8J68UREUqdngLL/znrAIHxBAM5CA+GgzAMAAAAAGDq/J7/WaYc5NgbRT9AOUvGDwB5G4e//G31goCNHAPIx+gdPvE+AJD/64Mv2yw0gBOuwDGCBhxm8KWVkyx6OddcAaRyQI/Q58XuCMBOpa4jKrECAFhWm6NpAJoD+i8ACIz2+wAi+geQAQOnkEFACeQaAA7IQAMyHie9qluJU1Wdn9rYqfY+40GCOemTPCUtlV53MNJ0HR+XeAC+Td8uHFivnlZhGIGbTKaBNy9yCbCliUnsB+GDIAAAAACEARSuGntWJH0jyOl6ONioNp8FYFjWPHEE0K/WTxsA9OaNrxb7OExoFADDe++vAKD/T+uWYwoTTrYrWXVh29Wyq2NeTW71QhBpbrKUrLp+02ULQL4BIMT+8x8tAVRWMO88eZn7Uxg20PwBQ8tgADIQeLPEDddG/CkANqo4AAzacAIAGT4n3ZIXSWup/vwy7NR3lwGYk965U/IqtT5/N+2kq5zAA3ie2Drzy2SJeMDolt5TwNvPAFShkrg0OA2DIAAAAAAYIOx69rOWz5UO8kZ/YHcFEDOmDwDdxuD0YW3NiBDarHkIy3/8/gMA5Jf7Rjg4cAJz59f8LVk0gK5+84NK7e73tOskM747uXC9XlNs+2C3zh7snnXrptFkYz4SJRBt4cj1/LsCF1A97ftlT6v1z6a6JbmFhR1oGECBgKByjwWv2msMXC0AZAcKAA0SQCEDHie9kbuk00x//zKc5O6NeTAnvSu7pNNMf1bDSXv/Mgc+AECe8Oz7NnLEmjYjcAK9p4DmFwCCjakiAgfJgMMwAAAAAACCipDx8tJBRtZqlAblWgWgiC0PAVTmiQMqAMRcci77NpGUOQXA7eQhDyAUDlinoQqAanO0AIOlNEtD/HZVS1siq5kkjUYs3qzezuoqgLFDIXTqTwD9V/bQ0L5/jcZAYFYHOitxhArApWIADmgmwwFiAJpSgMYBpwoQXAMAXie9E6fU1dT6/LBtdxc+UCe98ae0fapuXqbtrhwjcAEtXWo3LL1NfA2oAhOQR4fwIAwCAAAAAIbYrDY72j1JK6Hz75k33ecAlHMllwAAPw6Sf03CtagohmeNgDh3aEsAOG7PQgBw2G5VFn+66OLXC9dN7ZfPmZI3z/yZcl4fILtfQEjYd716pt8rDZf1SUDE+uPjB9LAoq6hjOofjRQ2QAC4lH0L0GIIsK+MBSADW8VhzXgDGrAlo2A4HBgaYhoQQAA+J32Tk8QZpj5Xw059Vz4P5qR37pA8u+rOhxKnpnLwALTD9T/tiOlYl6TF2cQHEDInhefCCwqCMAgAAAAAAEC8DN453//DfWLeohfArq18igGAzUMx+vdfXs1mFCwveITYLT9vvGsrQC/b73/FD1wBpgZPDvj52zglTdu45o83+/D40u6o3q3SaXC/PzNosJ6gGrD4ty8ASN/rr1/Odd78gQDovwRtFYCPNkKAONow8AYALQogyb8AAPjftAChgAQfuIPggAA0AD4n3ZJbSWsZm7eT0qsMJJmTPohV0glT9y9PJ9XYNngAfhZ/m0vCdLmEEbjpsBHfBIOaCo7CcDoMgjAAAAAAwIjR1XOSVxu3SqSfrZ6w1FMMAMNQBwMinPXfsCsDIs35ost7L9/g9iRQAHT7ZRPgWmh3ffVbI4Z0WiTMawqLphff22WXXFwhgTFZLxfn+9NTtPs20AqUFojPy/8LQDQtGYAk79gFcCdArJoA3NoDoMUDkSoA0CsTDICrAGCcIQAoDeAAPie9kKfkfZp+fyjtJN//DKGYOuk31yVPjP2b4qR6LxsEHoDZ/em1K6IoEZSqTTwImsAggkjBgSCOwmEYBAAAAACgfHF43Lat7CC9W6CnAKjXSHp1ThPAdpPDvff3NbtowuzAHCy99ccPAsD28uINORAAwJkDb76R2P0RKQB6mBgamgLLbrteryDZD2fB9LmkqXwDAHb5d4FGo0e1aHunzxYI978Vbc4AwrzFMJMA9QMA9OMmzAPAdxrANaAcOAjQACDTADI+J72hXeIsszxf3k7q3opBnfSNZkm7m27/csJJ26swY4y+Y2DJNuIsYBWClD43CMIwAACZ1RytdyNWvRvDYwRgEWefHAEAANUs558i8o+329VfFnHNYBgiJF+NB/Btn+oQAOTPRZ+PGiQ6iwCHJAJrhkqpaul+6b9/s+n6eVMzAJCAe/9VaCYK0UT1D20hIENoCmC9ByxmV80DbrvrMTykKTiAQX/abgq8fX0KACim2To7wgKINkCBbBxAA2gAPid9k4vEXZWf333NVH/6mEKd9AVXiS2MfbmdVHtLHHQHAHC4gGwjzgi8ICKKhYM5OAgCAAAQdyAA2ym241mdqgAMAPKzhjWLAACAWswGOf4ols9uCIG5nocD1DSsEneTNmFQEyeGAmgu/77ggP6wCbiuZvmYzuB0cGffHNIOyzawFZ/fXn4+wDUfWfQuA+bud90O5Ga6HjHX9N9nrT8pv/Vm6MAQaYo+vjymDOkmvLJmFTCeAuM2B04vAVQ+aWzgGiggAAYMAF4n/UKT5CVM3Z+Kneq9nHOok77hKum4yu/esFO9a+EDHoA34/m3BxgHCEu2ERdIC1bB5YKxwyAMAAAAAMR08uvptmxtCnFZreEOYmTTVDIAiKbv/vK6lPl8pmHv9wlon3gMIPy8vD2/aBkqbAtbCXG7vD3PfyVtvHuiKp4dFCYc/0Or8nnawvV6mXfyATRAJNhu2HR+7AE+aRMKQg60EVz3iFuo5JuotCljeUBLky0AA++0z25kA4BGkeR3jP1oiwEQBQzGgUIDAqAoAD4nfZCHpKPKXDztVLsyGOqkH3CRtFzF72rbaXthBVzAtw6wNRbbRhwAgZEE6ehwGAQAAAAAQFbsMJk/TfYGzwzaged2oloHQHk8sGcYwGCXueuDz76MHRm01cE6l9Cw/v8UANp/9peV4CSpxeGcspyTFNW93J1MXRYKuE6OdjcHVSdZtoDf6P1zuTxuAFPZdRY8k1QibsVAzx9AWtVirxWTNP1+H2/h9zjAK8n24ycehwYAnyqYXrtZgO1XNO7pavEADgcWBzgMHABeJ32CWfKZroxVcqe+6wGCOekn6BJOdXGumjvVe8sAeAA6xI0fJuK4JpiqjfgIvBBC0NMQwjAIwwAAAAAAmpp/TaScPxQlqyVJIgDF9uuYVowAjITshw2Ww2jA/s8B2nz9yyM7AHyy3O323xYFKoD7a3i+5gzfhmbeueYfZS4/qpLQ+65orogIZzRH4/25pFtR2abrJNnvz9bNBoCTE/bL3+UzgJ6FBo7thmoKdVqIMwkqENhWxwENoNWkOAet+aTC8OkAhrYJPYoBMpCPnHEocABeJ/2ko6QK192fojttryIGddIfWiVPdcvzN8mdujB4ADYdf4d4SCRL2iZ+UIUQgjtCaBgGAAAAAAAjlWm60uZtWFp1Yz7hTo6VTVkCMbDddP/7Bx0SKtievYMm813u0wJAP8alpwwLELBw7vF+bj43KeZFhct1Pkly2H621XTfswTWyg5Q+ZV/zVTX7j0T0L3qOl/fqsj12eaUmK3OIubfWwWf/DybFhFpqkmbF9DxyMKtdJqvCQAhVbeBR4FEiOnhB7ivAYDHdlAHQAAINAP0gAOADF4n/aZNysLV87vkdjfnBeakbzxKOMPV89Dcyb2KObiA8WDR1WBJGwQnBOlwmIZhGAAAAAAARHiZ3vby88m10aaxdZquTc3iUDy5zGagNhaw/NgCIFcNAD3u51tACaI/PqwgD5A2K1CgR/lpgcsH9H3sZLoub5iSeX5CL73O9GEG5BO0LrnkQd4oMv21RZvnuuW6hUCl/7bPlBoDg9RfdH7IBj6dSk5evN5Kmp2BY5bR5s0CcDAnALgDAg4yCAYAAT4n/aKThIWyP7DT9syZTJ30Ey4Sf1fxfmGnGlefQXcAAIutkoTgMe4QhodhGAAA+hxoAYCYt1dTfrJo0S2X6kpCR+zryddedaLzeDDsrsxG24GNwdohCDF2OADQvsRJJRoW59PZSxCzDSk64Adv6QYs2GZqP5o0e56y/zYEuHEtmlyW/So/P7igUNlW+1wvIZvZNkuBrrfUWiDN9w9oS58oQNPkX7TF6NuNlOisQuobdgEFLuURAQhw4IeQiYIDhQw0IIOAAwA+J/1F439JV58fYnum/ek7hTrpH1wldmPiWUQndS9+oFua+SVg9NySJa1XBUkgJD+CwzAMAMCb7SWkybPLJDkAZTd1bqUOPXSc+FZ60hPV4wv3Qbj6xduBArhtX5fXItZuibi78J18joC8dbe82EIDvcj7ZvX3Y7r8QS3/5kaVa9RScVWn6eoK82++0aS5fxFJ1eUC+uzbvlXwAxsA1gQfIewD/UDD/iFtARpuB6AQQ4oEaPtQwJMiL64Cmk/hY+IAoI2hgUAFcAAG4AA+J/1gs4RNGGMxndRdiQ7mpJ+wSfioC2PFnTosuIDxIAuL1Ub8oAqS4BCK5MFhAAAAAAAQElNO4RkslsBBaKsyKzBA1hwaCyDsdOFyLOu5jWFVyUse3Ati+qIkAFC/AQiIytzbVaKsNLaffxLKdUc/JqkUNedPg+naPxXBKoqlYsTm/CfCtBOIliWU69XF8/wmtSHKWRG+vXZSt2hqFUqBhvh8jvuNQHCn3BIaGJRNE/A7IW1KCRbThITN/qSQVwAHxrEFDJkDDEADXif9YLOkW5h8P0wn9V0vHOakn3iUtDD2ajia5eACVpeihR0FYKskwebZxyIKw0EQAAAAAICEjeW+60teoYieHphZe0i4xahdP2YkFSXI4Z4HSGfnpQDo+xWgwgpksttu5y4osLn67cwypMKerQys1ul7ybw25AJJVmwTmND7+kcLpUnb8ZsKnbnnNmx5wgf6AyUVZjdcSfZWDDGoh3qP5nuibcTvt8QwUHhsCH7rTQDINwHesgJloNkARB2qexeAQAc4CJChAaCAA09nZ1MAAEBaAQAAAAAAjT02PQYAAABEehFSFMvZ1tbU0dvK0NPUydDZytTTysbYXif9EU3iNCbcnzgpxaBO+i27xF1NaB84aQuDbrm8+WvLJNrpSlCylYJThUhpOB2EAQAA3jH7PGr+9tFQOwDEdY/wIvFk8quWEtJv7AHsf2BXAPR8Cn5B0G5UUR3Sucu5z+JoxwWO7Z5vE09S7TGo6RIstmn2sevlpIbt4py4yvu1i3OTi+v9aOZL/eJJBPuCCTHLAoLagrOWtPPB07ZELMeSkktWEwlHZ3zwAEBPatkzgPIRbhwCwfcGFyD3di8aXkQGDghgDoMBUAA+J/2Di4TNmnI+LXZKqDAn/WFVwke69nzhFhsMLuD1IU1KS9Z4wRbip2EQBgEAAAAAY0RDxkVfI58HZFamhcp01bE57unsTcPudGukx8l3IFzLmOcBsFvvL7Q6LtvPF+n5lT8eS8jP9a1c9DwWu34WtN9+gfR9PrezLeFiD8+bIuXid0pFpSS+m0L1uiU1SZS/taqS+YL502rvxvwemX1d22n+4Qtq+25NS9vuOKY06f+7+xplZNxVwV/Nan2pQUoJjmEAmBNPs4GYgZJbcqiYPwegQEA5OAAaPif9YUXCJZ3zgVvEUCf9JaqkR7jWVtxim4MH4Mvw9O5AVABLWhWCTWLLaAqiYRAAAAAAAIDR0xzMdFkbyR9c665F4pT9zKdSwSBv+NW4AbEb3f1DADDn4//cM8SEKcjrzKdl+zZPrS36uU3ovXVzpH++4iGeOabb/0vHCjrfW7dFP8WhpFHiJ3/9+TNNFZ5PK19EVZ+qpe3dCL2kaWcr/lBX8mfjG6akbvNe0VQSg1nt+M/PDRkCkEzf0MrQZ1Cywe+wgGuw7IuQhS+gxwZDhgxkwADAAT4nfetZwq6mzFVwxFaQqZN+6knSUVNOwnFXVpAYF/D6joEpVLYgCTb94TAIAgAAAAAYZLywzPjZvoJ4b67Q/Bptce24XbsnM0YdCPKc8YDMk1cxTQCf788HBKjr2hRmpABz0b1wT9ePSny2qcCNYN6OlLV+fHr/XlLsWYii/jf8zfn79TLlcp15v7/XuUi230x6ce1BJrvLc53M1fm4XC5XdGbKxfGph7qjrhwiRX/exlf2WGaH/ue0IzlMtK3MlAVY+cHKQIUGnLRuOJEtgAFVAFwGAgBeJ337LmF31w7FU4iYOenbjP/lbgy4hQoegHuvk/8DxoqVHQUQbDZbFUTF6WEQBgAAAAAA2/lORPSh/e9w0qmtdksJM4s4IgBi/DIprN5+vX3ctMB8d95DEYuaUC0ZP/sfkon5762gwp1ZtrzaIOsTpe+tdKYqu9cY088F90Sot7+9dbG70JnM+3bdXS5YSGy/eQrzhd8pveDin1qx4QLxE7LnpYsSKW7jtG19m2jTKPIrbQoB1uQ4/PhpsdCkKh6AC3oEiO1zwHloAxoADUcGDA1wAD4n/dbt36yZJ+KIrQzmpB9u/E3h0uxxp4QGbwDg/pazavvEEkIIYkGKgfDBMAwAAAAAACBlniQOsdlLNGlufv8+pI6ZB05vbj5/7fVGBNiYndsA4t6f7QCQ7TPfCZVLwQ/kc7lsr/2dfy1eU6vvxDWaVjSS6od5+/0EEESul2otkl4uQHzMl6SmXJ99F81nWVwAgsnNPGn6vd7J5/28SuTZrcvZ/9amlwVoary+mKI1GS2Jos1CkwjWyiCmmE1Ier9L4BAC4N4EAkAAEQAUGigAPif91P2/49KseKaOXQZz0peb/cMw5b4EtwVcwHldsTBVVRVCiA8fhmEAAAAAAEY79c3hRkN/lTCJP3tbDKv5eLvRjH2On37/ynw3NMqfnw+fpxA+//qQkCq1GcTUmm6qDfQ7ix24LlzsR3waSs3bYishj7fnL87bzcyCix49ggDde2gyu5gOY74fodH4qStN7Zvv9aLJJPflO63oTCw+SDHPP0zTjawp3fLsUHIngUjfcHpusl6VDmLIflOWP9/UEmg+lq0fEoWWxOgVHA1HAAQQaOCARiDQgAYAPif9SNOvY8K94KSQUif9SpPEJY0NBzD6JIFSsHmSEOxHaBgEYQAARreeG65yLDA/GM6Ooh0AwqG4gKzHL2t5fPqjpMXlGWKAZfz25GoOABnveiKUhlYPCEmwleW4CE95mxXTmrXbNfknWr32Ysf5POmHlCl/ZtiFzUURy45QocTks0zTq3qRC8T1ls6IPaVm/atelIa/GHYYwnf8m5PYTHTXa9svuc0wiCo9F6kgi+d+DW0oRBhQNHML0E/DQGlrjwwQgKSh4AAwAD4nfcfx96gL88KdAuakLzOJIHRXJsUNuIC2i4EphBA1NpYLB4dBAAAAAABkmOO0KPzPjUaEu53XPnS7k3fF4v6XS0+Wxyu7Q/vmjHMrsf7y8955Xs15cO+XXRtSV18fmw/6rv82WzRcQjrb8Jnck0l3s1a/rim9uDtbEYhN+feIiqfd5uzpsYAdVipNetOef+bcjyZQCX4s+OQvofDDe7Z7slaRDLT6kyTYHe79NBfarzYA0R+rbeNgdk56pk6cgfLJwM+N5JWSAQwHkDMFBAA+J/1M439J44YbqJM+4yz5LWeS3BZwAbsPNoRUslVVsEk8RQfDwyAAAAAAABCe63bGfi4SI+Vby+GwSunq/Lzz7j7+b6m3NtnJL/04vdj0/nAh2z5ffePu5b/q31AmuPx4fC74FAjXd9e+WZ6rDvx0m4sr8duqXCZstJV8rpPsO9E+YLtmAq6dzPXUOfpMZ3UzhKaXHc30xHU2Idguerkv7NC2VfnzCL2A88ak90s3y2GG2zFJNF4gNRkSuoYuFnbSALMe0NLmaMYDFAioA6BBgAwAXif9SKOEu3DhDc/ktZg66WeaJD3CmAuOAtBtu3gxSNd9B0xeCEEkxPCDYRgGAGA3zpX05Rb2xwgAxPHmG2/4+riRbu8lLYI3//78b7us3ccv367vmwLOqR/bi0W8Nxd0S7js02kOyNapgv2Nic9fLpUAXNoIZdryySXzbZ8irldTf82F12nbLn72gte/2HlFlxAwyyfAhZ+ytJcfXMLlhkTkNz8uiTQ0WS5KsbP33h+7rceo5V+n1fzOBviL2f+3sX8/EAUuANBsQCSDwwA4JUAGUABeJ/2Ks6Qb5bywlWFO+lHm7y7NHHAAo+9YKAVbsNmC/dNBEAAAwAlv6gkFLzGVh2wCAO0jXouvrum/2/O9b1uP49VlRgM0+dkhD+DeN+5t+/SK9LL/zeBK6rVe1+vk93Wac4fhFr4Bs5S64w677Fp5zbds8p/4Z1fc1k9Z6lA+tedbz88WiPiwYW/oRlxCPV/+w5/cVdc9+/X6QjFPWGedDCexnfjuqmi/1T6KQoyZBJhX5gJwDswgDbo2HSodImcgAxlnAKYGkAE+J32nWcIXY8MB5qTvsvweVBmwAaObhaYKwWYLEf1hGAYAoH9yqMLkekK4VVwiAIgkl/N6YXfx+aO/an79tXFxeM/8l/nFs5fOL06i2V7Yp/s75Prb5rte6DUKTX3tl7m7rTTRnlIz8331dgdXEX/btF2ZS+h+yRTzne3S2RDhApX27GegUc8WnFfIBrle3I8N2XrF9F6r+me+TvomwI9XxJO2pfuz0vpf8ne/rsMcEwJWcuzZ8GwBCApAxeM8aaGmjX397NkADQQHOI4MNAAOPif9LPP3NmrMB7YCmJN+1fF/jNHgAC6grSESk60JIYi4/zAMAAAAAACoMw7sNMuQ9aeCN2vStoc8Nq+iV/fni40rf3u8F7ufevvFr9d7sz4sf9oQM9flnXpZplOQX78sLi4sFruP81/fPMz/9ICHN+o8ux+NpjPeVug868eP6v63T3JlOrfZd+re+7v3WvPmfTSY0mKaXyGXtmDWpXD6MbigokIhb0j3AAmtpusxtPv5tVw8U3nevmHOoLwgwCxAHGcP+QDCebTS99cM+wzgMqCAQD4ykBUgAF4n/eiThDvGITommJN+1OV7SzX2gg0YfYOBJoQQRCSCpdN0GIQBAMijv7OzI+CZtPaOxfsABIO/ONj1fXdbvl53B/W4WL37MfvVtr7cLjMftv3k8zEr2/mru0c20+6qiL+tcN0DP5Hpov3En+tTvMnmki887ZTJbS4BFdPNpfs7IeFew0z2yMm+Kyq08q0+JBsBLn4iunnsOUKMGv4oyeZGMVvQ1hwFtLPRSLNvUwGa/EAv28QAbVyatAugBSseARoOAGlgyEAABABeJ/0YFwmXUAbJBuqk73WRcLkBbsDoQxooVcEWQn3uYRiEAQBYIWN6oGNu77i4GKEEANy+/BJi++Xwshwfm7fu3vTp7e3Ll7bzrW03P3Tzote7j+fz4sr5xTNLKXqS63d6AvhNVD86Rblx1R14u++TlxrVL2CuzDyqdA7TfMnjvcy+5fd69efirWKzfX5bKW/K9G66+hyvkjm4qFzt7H9SFz713aN5cfbsiFFfG+3ZRWJ1AJWZDIS0X0IpDm8ccV4dwGz6gWKtjJf5E8gZCIQMIHCAAv4mvZf187g5Gw4QJ32Mx3cPpRFswLJUITBB4mKPwiAIAAAAQGf67c8N7/2/m3rCPst1TUXWDemwe44jgx4be1x8cvzhaTro8Yv3mzYNezW7GivnHnsfuXalf5ldwLZvzyVa89Zc+/JkhgZ8uNu088QcpeqeT1PnZfQBfjdfUfg68jP/a+7tqW4QH5YJrpf7q3vxtLvlY0XtR3T6bOolgU7Xth+5aXw9Mn7XBwbO95X8STRJ0GJgQYYQoPFpUErGBVp/vedecXVt3ZGXhQYgACIH7gBeJ/2c138TyoANzEk/xuWzCzXBBlxA6IqFpbFVthBEwz8IAgAAAAAAoGPQtuHxbEKq8KX3yFncekCH7eyPG7O7ym/3Xr61x+bhq1vHe0nkr/NrYLH7cxHnuwvwL0nKzoSNS34nU6V463gufZl+uLE35xe7HVaKVHPVKtbZ9nfoldT1WVCXyoXLOQn+X+sXbnBIyiX37AOKG1Tl2ERXLrsb8jPHZrQMfPv0r7CEsxEqYaHf5h3rGBdw0WrlMz9Pc/mayeAIBAADGRxwPid9zet3ugI2ECd9jcvvRrFiA0YvC02whRBERA8fBmEQAIAh64UNzZ2fE5dqGAMCBps3ydifa8f/2dR5bt78PD5eX6994+LLm0N4LRfqJdXNvTWKfZ/zzPl8QP7kOSTmKBfmscn0Fw+zeU5lttUHe9H0K6xJ2Rd/x3tMZb9s+19ju95opy0z4AQ/UDGinYb8a/g4H4Z1+TcSm9HRSxH/goyN8nnd79+I1iMVAw7MvaXKcAgdWnSKtGgZmIVGAZDBIASAAw4APif92OdPUwMcYE762tdPDwXJNgKjb4aHJ5oQvOAhJ/3hMAwDAFClvfueurn9fAxM7YgeAEQ/McX24pdHP7Y3v3Tx9stfcrhc3vyiX39cfHV8fbvsY5q37W8yv9sZv54yPS3u7K7XnNd26oUwldc/PbYD7UUmIvNlCcFH9nbtF6pXcf1EblPnfNhS6lrVXflertAdxAeNeeVL/ccV7Kuwp3/j3vo7CecFaVMdUBuxFIn3zbU2+mdRFrtwyr8NJnO+vIzDwAjXgVcweYZhB4P4nhoAATgDgAMcT2dnUwAAQLYBAAAAAACNPTY9BwAAAO16gsAXzsnA0ODNvsLJw6mwp6OipqO3pqWtrqc+J32v82e5gegAc9LHvn9XKVbJVhZjdIALpkYikYQQKffgMAAAgFr9IXZMFnlK8RtJABA0Pv0SPXxh+HJn48nG5nWnx4f36192t8+2/OJt9Kc7+7fgHEG8VeftvzdPlC+oKgs+5fIKh9m1t5ytMHTT3O75a4bumoxXF602t4a/aUN/zbSijmzMud5LLjUVYXvmqeAzfToBAOZ+Z1HnXBwgmqz5KzFb3QYhopJfyicF0JypKHYTHIrKyXLVbJ9WLgZo3hYGIMGAIYMDcBwgAD4nfe3rb5aCZAN10ud6/LsrmGHjxuhlYAm2ECTB/oNhGAAAAPe9M0Gp7TH32V7RBAB07cSZgduXbz/sOtoeX8fP7iQR+XuLbQz6fteT8D+ZffGF7vDqFvo1U3+NWcmKa4H8Xq792ktj/fLzs9S3pYFsHxZtNfMn+7zZs25hml7oPv/d9bI3W9NNDmyuU4LeFeV5KduWaP2WcoFeK4/NEUEbE1D/+tO3WPjx6Cz18awE6uBgGs9MIxROWYGviiBFXoL0aABCC2DAAR4nfe/zp4VhxTGCOun7WH/lCtiA0Y9AU4UQRIL0PwgAAJD6TUsf2bhTXfQqdgUAkDuf3fri1nVuqYxfLtYLP1vd90tytfutngsXcNu1y3tYP2XaIZg1PD16qUhb1C8mxYf2nLm+sn3SbbjM2NLKWgFe1+07f2Si+lGh6XZ9fmcJGx8ytxXAlj57CF6ggKc2KdUW4gxtbm3YjpNPleU4otMrH3Ta75gKs5DAE6DyEao2/gWV9msWLgAGoIEBDgDFAT4nfR37p1zBsIE56WtdfysUl2IjhGWpghckNvsfDMIAAAACuNGqxfGXowfm22WnctJm7+0yR4M2tl35EnNX12ajxix67JfBta48YGO27U8fj8IXF8GEXLHpz/x1eoLXx/VSlYkfiRTzU7Gp/eq6e25j9+0i3uJ8e/d7pi52dMl2jUyB3n4JRz/FzTUXO7aprwuz3e9PqIid4q9rEND+on9H2ZMIE23uOZl+oHgfG8cLraVpq6zA7uK+OT46AyATWgnN5lZGATIY4AygADQIAAEeJ33vy7u5AjZQJ/21Hb+ggA1INTwEpUEVJDZb+mM0DIMAAAAK/+58od7AZy++Sq3EAOZYvLn/+nb/7/z5v79/lp+f189ur06zu83TMOnGh+3g6taXGAxdHDDc7IZLrtcyaabVpltz/50vPl+49uLc1AWSTkjv9prrNbLjsqG5SP8idFduYczBCLhebDm5bO+mWKJ/ZNsqxK/Kf9M36wQ2r8jpRZEZIT8PcW4xr11Sdh3CznLrGGBPSlpaV74UC77g/9snLgYYo9cfgI1Ie+/hAvSvAKRqMErMGpwA6AECcD4nfV72N01BciwwJ/3Zzm9UABMw+o9H0IQQGJvN/sNBEAAAoNbeO8s+aPbgaDa6bY8NYGaDjZcf7OPxxu/dxXv11vL8nK4Ptdvb57o8p91cLRB8ROwVucfw+s6TJzOZL7n0ZuH64VZmlG7PNM0CzdfcX1wqQttsm4TX9XrptX0Snayx1e/vrvhzEbIKX723crkC1SvCH0LEmJ6nFFTmf7p9g5jloptpVppQEv1UIhu2R5SxAwMn247vZ0+ej1UXt4piqHcgdEADQHAOADI+J/24rG9UwbCBOenndnmDAjag1FS2IEnD2EeHYQAAAIBCpqtDu3sffZ9u7nN7Vs5t93y1+8Lu+rj4z/X2XO2Xu5X54fO7U3rpNVedVd3twZvozpXmcj9hml/Mba+TuZSWq4r/BlvPyX5Fpt3ncGkq3j0taxV239+ldmA/ZL4DnG/9kC+WWgsb3pChVQrSQ4AHOw5kdKKN/u7fg/8nhJrdqzH6qb0QrTaM9pS8jaYcC6QHJMHEIwANAgDtgAAAPif92s5vVEGzEVEn/d7O34biRduqQWIKVQjBUe70MAwDAAAAAvbl7rRtvyR6U6ML4yR/GbtPEIMojPZcc/Emfhmm2b/hvG6J7NEpTZnz0OTnU1y45rnzY77Y7+bRbU0hcEmANuLz355P5o/Y4xKVXJlj4pY6NiETEbczEnwB9vkTFxpcXGwNLtQpQDBAq5BLFOUbkkqq05Ie4FR+dYoWamzYz1LXsw574CA8fQvTgF6wWUPKNFJjLBeXBRAAnwMHAQBeJ/21nb8ggAnMSd/b9R2hWGxbVVBqQhWCLQj94TAIAAAAAHJ6MFttePp0ZmSZz7qx563z6znP7LI95PHJiuv+Z/H7OXn9Et/2zG/3y7WcXoCmpC6/dfPriz7tz2/nfbzgKrCZXPeo//e2b8u9lVzb79ZeXK/C+6VL0svkx7f2DQB3LrVtr6+tE6kEmMoUzK/GNR9EiYKfsHzi1eTNnergnD1H2By3LfYHkvwLmEeh8yqDTc8msqWNzkSpWteUxdxCcobjwAEYGgBeJ/29Hb+oAjYwJ/29Hd8ggAlgQhVCCMH9wyAIAAAAHFPptv+/q8c+6/Xv95LOJp10dqv7uXbqVfBm/7y4dnsYEpeTX9M8m8xNr/7pnFinj2rmy9V1rzR6yc8sfm252sPFmy26dUe/V0rVpb5yre3i4meXlF3FTzUu/E5Kt6D5uWAD+Eyx8TdHGEQwIb266nml0PMi09vbjDdUs8b0l0qgU7hx7wzA/8el/abPNqMvIVpCaquty8MGQ5GmQYMjQwMFBABeJ/27bV9cARuok/531i8oYAMQQESSZgshOPTDMAjDAADAdTVUEDBGLYtbl+OXlJ1Z0B/P9yzOQbPL4qLy1+1eJjJKun2IInHAs1K/d9OLZOUOV7G5XbdPOm+ODZrIk25XnVNb95p+yzX5zvXamVMX3Vx8gIhPcHUXzVCvd7ZVTb+lwy+Ll5dyefOozHaXqZDzXRVOzuilVwDnC5hGlTwlLI4SONAMAAYCXif9s21fQgEbqJNufrYvqoANQIBgC1UItvjDYRAAAABW5eaFRGUrW+zyQrJ/Sj8Trbw1J/KZMuZ7/tXUyhGXZ7v3AtcfnYXzlwvnuqySIGzRT2s3/TafDSbUvW3IDpkuuptd47uszFmyPZClN/aLCzTR+Uavny9Ww+WmO7iIi5LUqc8qmJf+biU28sv3o634pFP9MdxKhcMXsnGhpXxBYSFZB1pwIVWPoHADwAEGIABeJ/33rF9QwAbmpL+3/Q0K2AAECF6obDab6A/DQQAAAGGcgnDPgkknDtC0mcnsrvzN7qvsjrzlED4jy/TSz2TrRNlBL66VT1o0bWjbfKtpifqQOff8QSqbjdXWbvweff11BUHP36pV8ZVPvK5cL3BBi8otWjEeCusIdhjCRE4VH2XQ5u40cqfl+xF6CqxksN7qgOhvguPfx1dJs9V4tkoacgcQwGEADl4n/e+sX1DABuqkm5/tCwrYAAA5SeMFSYj/IAwAAMBzWISf7PEVA/mzxvW+ouyd/7aDuaetXamyqGzeqNr9XcmEZ8v+zXbrX9OskGKf3zudgovXPrkk74zV4QRSPG9lEe0dKL2aAxLgwzXpoxBmhPYJje4uo69/umbrDRk57Y8uy6mn58kXTW2oBCT3Ug4qtdmZbdsImOIJW1+jAygQAAUIgAI+J/33qG9QwAbqpJuf7YtQwAbAQggSMYn9h8MgAAAA4LBhAiTukDmEY6P7hVEq17i+Ki5+JrHJ9dr+UFcbcy4f8cdufi+ayXWG0+6voOp6bbXw1U/fhNuiWM8VPqKxI1VbKtZu+pWEGT9cvH64JDSIG8M8bRbG3ppu19luo1otgI5tg6cnP2aS4S0DfEyZLC87Qu75TZCqECpKzgANaIDLEABeJ938bF9QwAbqpP+e9YtQwAZATJCEILFJ/yAIAgAAQGsYogAxvwBzuu2Njz8vZj+fe+rH73fv+P9xxdMVvnv2ie0utn8tfqOmqauaL7n6svTKLM1V5e/3EutmBtBrsuKCKuSmJXeB94LJdTa5zbuZSnSzcP30Y4dUAk9k6+td5Nru5tNWaTAn7M4Ra7UGt2J4xSZ2G+yEHH3olwDNtL4MgODA0cAAXif9s+1fXAEbqJP+e9YvUgEbAKtCsAWb0D8IwgAAAICoA8Q0BbwDB98K6rjnZmab1t9LmJdyL2yuFzzRpJSf3+1iSvfLB2yT6/V/umOvnZUXl0EPZ2i6uWaWfTi6F/m6dp+2+PsngGSrvz//k7jKF8IN3Kq+Cr64ofq6plPDNgsmMvfGxBhbrBqDyoWFjHFpzA8XibbWiVinobc8rQMIHMABHF4n/e+sX1DABuqkm5/ti1DABgDIhRBCsLn/IAwAANAyaoKvp6tNt+yanffid2uvFwy2c+s+f6x+Xa8zPp1v97Uu3zZ5L9vfpR82roe13Mmm/Xh+nubnbkyBO9tjd7vG9eLvdMj1xc6O85yo+S626b3s3u30c02334l2Mvspl2lwK91Uo4z198W3XKkP+Z4/qVpjZlufuUhciI4rrWW3hMj51POjL7VFEaO6vw0vCU0I0ABwgKHBAV4n3fxsX1DABuqkm5/ti1DABsBCJRKCxKE/CIIAAADQcsaHZh5bqMLEd3tFPu6EIasg5xf/XGtvofHcvZPPpZHpWpgN/VasGqQ8QpL+tkHmiXzKtlhlXz+f21rQUUKKKduTXJrWv1ko6I3L/Pq27ezxkaIXMSumK2wjOxL07rm1LsMq4m2/h9tstsi9pfQJwglXm/xGTAX++m00sjXn8yoAGQABAgheJ/3vrF9QwAbqpP+e9QsK2ADIJvGCZxNx/yAIAgAAEIAZUKzNUYYup7iOqBwbpa7fa9tLgvv5uf/aXZClzmm6c57vf1ncFdS+deonP7/Kxc+h2zed578LVztI8F+Rw26V2tjPghm5uzz8IAyuFOF1ijIRy7MBM82UhDn2upeKqlv4gH8gUq1tMzZ/5tIOGkyWnH3dM+zinu+27T0NF8gAKA3AASheJ/277V9cQbCBOum/Z/2CAjYAAZCzhSASbPGHwSAIAADwh3WPQJdSD5CZv0iKbJfEacqjQp++v7fMifzE9Srx+tt+0mJOzOvcMpvj+Vz1LI6yjqd07vSm0L2WuBR40862dMvaZjZnTjjDb9gbZb/9O9JXXK9X6lIWoI3G7hur2Rxv3Oe+mefTL+tf/tHa01ZL3s7ndXA96h9DKFu0+nJZX3rAACYagAJCJkAGAF4n3fxsX4QCNlAn3fxsX6QCNgBCThJCCEGKfRAGYQAAACBEQk4iC+0PDrJ0WF+nwLILH5/PPudx9CgX014F+2U6t40pKpc7228gpuvEt9snBeXjeoELOu1Nbi5XYgt7LjYE9/YDyAF/f9OHarZ8JkW3a/mEdqhroUtaGqZBgbBm39eJdqp7o2MRnzQQeZdokN7/xKukTYO3VW1lspItqV6vHD/aVooERxNA8wHgAF4n/fesX6QCNlAn3fxsX4QCNgABkJOIhSAS3B8MgwAAAJBUENyxyXnB8N71R7wXvrbvdf2ZmK/wEC68eIN+ab3Z7tm/ZPfJrdT1hCsBNpjPLSZ7+DFJJvDsp/9vz2PHxE9bu35l+bteU/O0E/p0LkB98hsa7IIOg1XpU1qzsgupG5T067Qfkwt/c8fQctWj7Vu4tAZuhMu4lrTvSb6+HaIAKNAADOAAT2dnUwAE79EBAAAAAACNPTY9CAAAADwsYj0HqaSrqqSqQl4n/e+sX4QCNlAn3fxsX4QCNgBCzgshhGD/B2EAAADgAT18m4idSfePybazVbur9/3OxXZeb3b5mPrY/P5y1aMTrjvqjeTiumPeL7I4Dq3MyYXngAaTZLFdZpS6/vDp/uEvO4tZthu0E/a0nl0CUBOzC7tFkry0EtDjOwTyvSrdGak0mlSqWcXVACTlX3UqV5cr4UxZotBm+LxyBv1kvhkYDEDGADQCAAdeJ938bF9UARuok25+ti9CARsABUkniS0E+w8HYQAAAMhmB/nGVkkAtmcHrD2Lq3ANOSTmYxR5trZ8rtCjyG2oywc6Gu9qsOWSa+Ba6rW3+uR0mvLswRyzQh/7Cb1WZrb9dfSIThePcprFSwW3N5IG0Nqb2pxZIiNj+vvv87PbK03kXJo34OMXg3W5NEsEhrISRbuMN8Teum7PttdLyAYDgAE0A14n/fesX1DABuqkm5/ti1DABiCASAjByhak/yAMAAAAukDnYuRHpaJNqvY9X8wX9n17rqyXC9uUXtZL927b6YLtDOhegXL7qZiTeDPNgZEdU5L5OvuPyzUiHTpJuPNGXC+kd3XGV1Eq2+BKscofzN6AJqErG46m0hZ1ZHrzDVzr9Z1P+audtV003rwQP1A3Bb6YTbW85v8nkvYztU6M5Z4x13xkIMABCAQABF4n/fesX6QCNlAn/fesX4QCNgBCTiR4aSHEfxAGAAAAZ3OQj4o/fd2pXt/O/dpZcSoN6fPubR3pNUym87zYNHjkMoX8cNFZLIjQDbF7wEsWLlzohSx2sUxOIX6v0Vz3agv5xsxbyYSva5e2vlrz5N0l4A1toq1NtzMSWtjd6YmmtDPOtOGbybsQPpob0Yb7UOlJo4LKwC5hcvlFfW46r7roBBQCQIYDyEAAXif996xfUMAG6qT/nfULCtgASCQELwSJ+wdhGAAAADCR1PZnsRUD3xlNtnkjZcf1Kzxt5nm7Jn6ElsmFvzTKpS2u7mufUJv51s9tnrnIgnLGwxau02Wje56Yldq8ig3SSsx4TfueS9ugiy++k8VFAQqPpgHVXepuY4Qze50/C1ci6xjqqVFfCICBXOtfpKhRqMnVpBIig6TeHdGQPhAICiAoAAdeJ/3vrF9QwAbqpP+e9YtQwEYIkEgIXggSoX8QhgEAAAAptGIBZ34M0Xbs7ZIte69MZDu4mXOP6CeEXXpsTyNks3ZJr/MHZ17Ep5F+n3cFuy+aE9kPrQpxZGrSbu8D/Mh+ZVJXFxebkD+7b0NJ+j1n3g/WXJGIimkQC8/LaPy+Fux8iv97mjHbhx46+Avcyrhfhsq3OHoDvpfgLUiLMpqRdc0BhAycAZwDAF4n/e8sX7oAbqBO+t9ZvnQFbAAAYBiAHPIgCIIwAIIAAAAAAAAwcXFAUwxD8vt43LsATC95UKYM8AAEBQAHZAOAAw==\"\r\n\r\nexport const base64AudioNotification = \"data:audio/ogg;base64,T2dnUwACAAAAAAAAAACNnWV4AAAAAFddlwABHgF2b3JiaXMAAAAAAkSsAAAAAAAAAHcBAAAAAAC4AU9nZ1MAAAAAAAAAAAAAjZ1leAEAAABmvMEnED3//////////////////+IDdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAoBBbS63F3AlqHGLScswkdE5iEKqxCCJHtbfKMaUcxZ4aiJRREnuqKGOKScwxtNApJ63WUjqFFKSYUwoVUg5aIDRkhQAQmgHgcBxAsixAsjQAAAAAAAAAkDQN0DwPsDwPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8EQR8EQRAAAAAAAAACzPAzzRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADA0TRA8zxA8zwAAAAAAAAAsDwP8EQR8DwRAAAAAAAAADTPAzxRBDxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAMDgONA2aBs8DOJYFz4PnQRQBjmXB8+B5EEUAAAAAAAAAAAAANM+DqkJV4aoAzfNgqlBVqC4AAAAAAAAAAAAAludBVaGqcF2A5XkwVZgqVBUAAAAAAAAAAAAATxShulBduCrAM0W4KlwVqgsAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAMCiKZQHLsixgWZYFNM2yAJYG0DyA5wFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABkWxLE0TRZqmaZomijRN0zRNFHmepnmeaULTPM80IYqeZ5oQRc8zTZimKKoqEEVVFQAAUOAAABBgg6bE4gCFhqwEAEICAAyOYlmeJ4qiKIqmqao0TdM8TxRF0TRV1VVpmqZ5niiKommqquryPE0TRdMURdNUVdeFpomiaZqiaaqq68LzRNE0TVNVVdV14XmiaJqmqaqu67oQRVE0TdNUVdd1XSCKpmmaquq6sgxE0TRVVVVdV5aBKJqmqqqq68oyME3TVFXXlV1ZBpimqrquLMsyQFVd13VlWbYBquq6rivLsg1wXdeVZVm2bQCuK8uybNsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEEkImJZWUSqogpFJSKRWEVFIqJaOSUmopVRBSKSmVCkIqpZVUAADYgQMA2IGFUGjISgAgDwCAIEYpxhhjDDKmFGPOOQeVUoox55yTjDHGmHPOSSkZY8w556SUjDnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzjknpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmqZpnieKliRpmud5niiapmZJmuZ5nieKpsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVVWyLIqmaZqq6rowTdNUVdd1ZZimaaqq67oubNtUVdV1ZRm2rZqqKruyDFxXdWXXtoHruq7s2rYAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg4xCCCGFEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAJCx1lprrbXWQEcppZRSSqlwjFJKKaWUUkoppZRSSimllEpKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSgUALlU4AOg+2LA6wknRWGChISsBgFQAAMAYpZhyTkIpFUKMOSYhpRYrhBhzTkpKMRbPOQehlNZaLJ5zDkIprcVYVOqclJRaiq2oFDIpKaXWYhDClJRaa6W1IIQqqcSWWmtBCF1TaimW2IIQtraSUowxBuGDj7GVWGoMPvggWysx1VoAAGaDAwBEgg2rI5wUjQUWGrISAAgJACCMUYoxxhhzzjnnJGOMMeaccxBCCKFkjDHnnHMOQgghlM4555xzEEIIIYRSSseccw5CCCGEUFLqnHMQQgihhBBKKp1zDkIIIYRSSkmlcxBCCKGEUEJJJaXUOQghhBBCKSmllEIIIYQSQiglpZRSCCGEEEIooaSUUgohhFJCCKWUlFJKKYUQSgillJJSSSmlEkoJIYRSUkkppRRCCCWUUkoqKaWUSgmhhFJKKaWklFJKIZRQQikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAlLJSSiitVUAipRik2kJHmYMUc4kscwxazaViDikGrYbKMaUYtBYyCJlSTEoJJXVMKSctxZhK55ykmHONpXMQAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABgAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBE9nZ1MAAEBVAAAAAAAAjZ1leAIAAAB/XJFVHCorKi82NDOptMC8u7y0t7K1sLOqr7G5rbGut6us0o2lYoRulW4sFSN0qwRMcIJAALCgzxM0c83vDQg/fp9BaKvwPkMyAwGs0hvK4tut0hvK4ttt+swokN/j97m4lnGcEgGZTAK0TAaMDJPk9MxmGJBqrNINVIXFVukGqsJiqzbgvgIR8AUDyH5haOV0l0mSQxC5NCNXDWHWhSygrNIlsvhkq3SJLD5ZmradQLlmzZqZpZFN+t3QisA3MplUIkuSRLY0e87MFvQcAQTk0g1U83PpBqr527QgIbh+9lZXqwQAASAQcLwemcf1Kmiu1xUDBhg6TseOo5evWiH7y2tp0gAM1X3lGVnkUN1XnpFF7jYUFRAAA4omDUF8AABABMTF4OAu5sWLfn3GC63jOI4mM4SszSUCXOMFbO70Gi9gc6dbP8IABpWGxiJK4t4HAABg3qB55TExoKoQcAAYWjNThkkmmqZTLV8DOlr2Af7s35+Oup+RkqUKRss+wJ/9+9NR9zNSslSBbwAAAACNwaAZlIakwTAAAAAAAAAAICFANMwEgApVm4sDcbqrqa5ubq64CKggoBaHi+eMYQaGpnQ6QyCR1MxMAo3jbGA/YqFLceNm0c28wdMZGXaZ1GMixaMtpZMNEqpECHOvXRGh9f2HywAwx7x5s/omiFKRRpojaY5sMycFMYzGTkYAY9LpRAQAAb45FlnTzPOg7T8jsWCUuDkWWdPM86DtPyOxYJToDwBQDwAU1VKTGZQyGUNswhCWAgAAAAAAAABEYRwAEQFVI2IxLKYCgorhsBhHCTXMSI1jJUPAjGloSxI6Tdxqz4V8juRzS7fe/XqRMXH7/3zCeyukI/RZEjJVepFkMsSYogLMzOWw8rLK8wDwLsCCAECMMwxjsmRNWojMbJE1W9YpIDrUOPgBMrNfvzZX9d/H/R/H6dgCAF4p9kOmbH4tNYvf1vzIJaPkVin2Q6Zsfi01i9/W/Mglo+TmjQCgWokeSE8PAMBgKBgIVygg6SIDYk0KAAAAAAAAGDECKqBGjF/+ICYDw3B8QAWAiYDD1S4iaqgpgBilE2jbrQYw0nG9QTpajnZ1ck1pAXAZukyoGABGTjhrZYWX/6MbcAAwzhyRyYyhBQAA4D1tQgIYz0MAAICs2bJny0lAgwwRJ5RM9wEA0IzDJMNM0wwF6IzIpDECGkOZDkwQAD74tTaptNl6lKPtLbaNUXIb/FqbVNpsPcrR9hbbxii5eckMAJlNTQYDMRCicQUMScEgAwAAAAAAjHF3UEQVkSxpRo6SZMsllxwZEBHNJZecESCGyYwZg3EkOjayIVvHeY0RB2fknW2mc867ub4sJW8nIUJ2aAIwDtFHDFIbJ3CPcyv0JUgrETu2Ylo/nLXund/90SFKQSsxY5iatI0qonkBcFECDhoZFZE9AIgG48QArUopkMkuQO/7NAAAHmpOw+K+jcn4YfxEHPtpG0VDzWlY3LcxGT+Mn4hjP22jqDcIQFQiMYFulA0BAMrQRSkDZTJCyGDCAAAAAABgEEVBQdxoAC8OcnAU9JhQQIwKCIgQaC65zUwBFnu/CzoLLeR6PdLCRojC5EQ0AMy1rZ2EdJiH2eJMLIHo2ko+ccVFBC0zwqD+Gmm20C74DZwvycoINDoVjSadzPRiaQlmxJD+3Sk0gDijB6A8821XuO/2CBDaFECHMc0JAL5JLsPTnuZkHNG/SISagEzwm+QyPO1pTsYR/YtEqAnIBO8NCRD1mmUCD7QBjUUCwGAwEIMyIhOGWAsDAAAAAIARDCIouBt3CATAHK9cc8zjAJhD0AUAADciKIAKiyCj9C/BRP8aG80QvypM7EuAaTfiVidj7R/v+w2EGiA82cFAXDUifw+0HelnmKDfYa4SILuYFI9eyKEHurXKkZk1gFLNzEQ0aJoIAHQ6RCejAkBNIq0C42T038ek0CoAfgn2w9NZc4r7SfoXCZMJ7hLsh6ez5hT3k/QvEiYTnDcSQGYVJqzFYGgyRTQuwxCXYQAAAAAAFNw4qigqxj3m8bkgf9BxPR5PoFSavQiIXHNkicyMShDKa/a4goT9BhpfKxlVGtbJKQKglQkZygQNUJVOxhjIBwE9QoAnF716HwhG7wOiRe1BbVPIw29jlKBRMgAmU9NhpmEAaYaO+R0zW1MKAB061gwUPiWnlXQyswAArgAAPvlNg3Ef2mG85fk/0mOXzSa6yW8ajPvQDuMtz/+RHrtsNtH5QACoZQnIsoakG5qWCYCsZzBoRKG6yICYIQUAAAAAAABRdwMIKg4gAIq4Cxh1N8YoIKoiSIQ0IxcAVSpknKqcfyco2RsE4jWB0+JuOqt9CaBODoAFxIeoVvHVflJdRBvketbKpPlqDVyfQAv8ryIrhBCAIJJcm5FLtAhEEhqAtHICAAAZh2QypIDnWkMAc01iUAAA/tj1w+ueranum/SMREyiwSj1seuH1z1bU9036RmJmESDUao3MgFkBTaEblQ0AoDqoojBQBSqgCEuBQAAAAAAAEUQ1A0obszxuICZVzgEHVyNQQFRHEIbkZvsAQAIebG8RK4l5MgihLaEiSs+tKYZf1+03uPfLwE+HYDQpjQVgB4B5mWuWDXedVh3FgA2MNq2AAJNgLaizZbdNGMDEkPjEYHQM0CTGKdtGYCvai3QzGgCAN5npRupI5+X+cQ3/IgHo3f7rHQjdeTzMp/4hh/xYPSua0HGsGF1IyvVAEBmKCiDkSIFGRAzYAAAAAAAAMwJSIa5Qn7H73oIuuA6DobHDYAYd1cAFNIQzZKRTRRUm9A000Fjej2CUAEQNdJEphUlKLFM6hDRUj7eqw/7LwyBOAH6Jt7gHotcQsullK9WMKkDyAfYFnAU8J3POJnZQjsYRke1AKUAADBOxhonldRA7tUs8IWMCwDeN8XDfDGsTx4/lGfEIatRWt8UD/PFsD55/FCeEYesRmneUiaAohGQHgggGiIAYFAGg1KKkB6GEEkBAACAAQDAICKiioI7pqAr4ZrjNTMLCCEPOACAgHFVQUVBSEdlfjLAxTCkEuEajlUuy1JDV3g1GLWhCUFyQs4bQxVe7iFaT+7SX9tFGWBNWtIU0wQApFoAAPnOiazZFCGaZIYyT5wcUP3d7YvrODNA38O0YwMAB95H1UNmG/uotpvwF3Hswmf0qI+qh8w29lFtN+Ev4tiFz+iRAxiXAdoBZAUzg9K4ggyIGTAAAAAMAIBMQU8Qw8zA4xiAEXRkAGBuMIAQICDXyJqRQdrsuU0qW1VQwRQ4GUuGKZFC/f6goq/YsGQnGCNmjNDZupQ9xzIO4BFh1A9px2XFMBXsrAbQI3+EWGUcaGWIAWh0yETodFRIk4jPwNdqZQBA00zGYATMP0uwcH8xQgEwnifFg+7J5mf1w/gJm+YaPZYnxYPuyeZn9cP4CZvmGj3mDUQEyApsSqMNoIgoRShikgEhgwwAAAAQAABVBOMKCohx5PrNMBGQiw9cXzBoAsAMqGbktgV0CK0mYyaNGxQV0p8uw8a239sBzNzbzYxuKfIU2Q+AeC32peqrt1SDMPAdxKD3wiMKkKOnAAD663NeYAIxTRsI2gcAgOv6tTgA7I8U4BKncgkAZAC+JsUbMyPV80ib9COuMbtGD9ekeGNmpHoeaZN+xDVm1+ihF5lkCERUXSRoATKDkUEZFFEYYkQGAAAADAAAYgwG3DGgDsKMAIYLAHjAMTCBrJlJIrQ5c0RmmjVSLQN0SorhRLheK/qjSIA7HuYfmaHa6netW/8EztcuAW4T0PBF8DSFPdqB2liCdmIrwIio8MikAEAoeX4KRP/eUf5mATB0MpMMChZiggGuyC9EAAcAvjdlw/qS59C+Srsj7jQPRo/2pmxYX/Ic2ldpd8Sd5sHokZcAQBQ1S5YZlB5nwBAqpAAAAIAAAOAOggKqqOSMZraakS23OdPMJEGTXJtFgGiSMzdZkhaiRKUaGc1gbeJqHZOYhgoikckNMWrztebQjkaId3qVxv3FdM0fn1tJel2iLaY2cmfhXEx4iwwJRDcVoAIgSYdkkg0MresBUH4E4N36CgBJtRPRAHLEMBlTANAAvjcVw8sZz9XNt9K+kYqrvKRIRml7UzG8nPFc3Xwr7RupuMpLimSU5g1JAlkLTGIkgKzQGIimEMswxFQKAAAwCAIACoAxCqi7H59cDFy/4/ViOB4JE8KQEURzNqNpC0aJasMUWtvtkDJMEwralcF7WqBAiqYxTINKXBiQGkfnWTrs+lQCtRsi44QN/NxVtYL0cMJDl4n1Lw0IYJg2mdkZGlIIv8s+zwCImZMhFKC/Tk0hzcwGAAcAGTCeJzVDfth5dXMz/kUi2nw2HZ8nNUN+2Hl1czP+RSLafDYd7w2RAFmHSWHUB2TKQCMQKWAIGTAAwCAIAICguCCgiDHu8/p9GCLow1zz4AoHAYAwjco1yQhACCjTyZiPLvuUfF5ByE8xnRKR4JbJl74kmHWeInAI9V1aMalkEJc3MMXqpk/fTN68LgFerE0WAICwoo+TAkj0FbRlOhaAzOOTBGJDlwZAlZUNgDYAMJ4nFbm6ZeeS3k2DoTbdCWyiy5OKXN2yc0nvpsFQm+4ENtFZHgigqCcAKIOBIkQhZsAQogAAgjAAAELgesyRAYC6iIACOCJERrYGFbkk2TKbLTM7TXJkz5mGrKYNBxXt1VVwtaTETYf0GV8AIESrok57G6WnTJiKvv2Ih2o0jFghRj6R6Ho+oRWhcam7293QQQEkyTjNcwshVF0gLV0AENfZTqvV1zfQ0WFVGAjAwQEGAF4n1QOl6zl40v5FnMpqOq5OqgdK13PwpP2LOJXVdJw3JECUtRgQFgNpDJTGGTDEjAAAgCAAAKgIIqIIrupBgVeGOa7HdYIeoLmNgqTNmuaMlGoRpzN3Q4e48JX+rB/IzqN7GhoISEQ6NJMQTjAX3dXvbkk6+xYEqbYUzVeMqZb79o1cIfJJrRzfQJw3FgBoOmOqrr+NZKkiEOIhAErGTDQZAeD3AkQ8L5kTAHAcAL4njUHZx3l03tL8H5nFt4luTxqDso/z6Lyl+T8yi28TnRchEiAajTaBzGQwUESRDEPMJAOAYRAEAQB1UYMCAurgCXpck4FkkK05MjRptma0GVnSEDRblgggEYAZiuYfVas+KEDpMApT7kUg3BGU374lmKkeRK6fQc0gfUcVXsV3mxzsFL2wkp40V67eIzLQwQtCRQBETzNGSJFq3PhqvwwQMUzpWGGAUt2ggHby7jTQQACaAHAoAF739AP+GfrDuybDms1XrHv6Af8M/eFdk2HN5isac5DCaBIwKKWMKS7DEDIoEAQBAADM4/EKyYMHfH4wjwe5ACChmkUqR1PN2uwRyMhN9gC0WcnzrQYpEmzIIRS2C3unw9AOZv4kdi+EkT6rCPi6EIwIvnZGa8HQXf+/U0u3jsn6JGZ4tYajzwNIKh1mSkGTYchkDEK6AsCPllVAm1/AgK/UE2hRADIGwAAZAE9nZ1MAAEC5AAAAAAAAjZ1leAMAAABUQ0gLGaekqKyqq6usqKippaypqKysq5mgqKekrqi+Jy35ejIfNu1/ZJYnw7EnLfl6Mh827X9klifD4QUCoKhZVKFADEoRojCEpQAgCAIAAIAKrqhBBciZRSpCs+eaNkvOrFGa5JYCjeYmZ5IGaIJE8T8Tra/XU9BxRBOUdMM3UwuANsI1mKHwH4lCCXqNrk3jJv3LzCdNUkFiBCuzjqglwRr1FYavsw1EATo+7WkLRFXY+EaBRuQ2cpXVcWHIpAUAkEEBGr4nLdn6NevqvKspYqvh2JOWbP2adXXe1RSx1XAYQWI0ARSIgRgoxRkwhAgGQBAAAADweZyAhDxBmeH6EI7jkQCEEE0aGZVE0izZcxQRORIBSCFEZioAo8hPm498xg2jucNihECv3WXcxLLxfcpbdJgOTMXI5bqTCSpk5XHhyQa2Hj3w2qGuI8YhKGrSvDd6TCxA91EFwFV/GUHi4jewV7cHIKIAfict2XEza+Km/I8wzWo47qQlO25mTdyU/xGmWQ2HC+hLwGgDKFAGpTTOgEGZDACGYQAAAIQFcQDMdeUVjjw4UiBoyGfI6/d6BQBggSZpzgCkAklNh/pDqhH7PhLXEtLOq+ZB/HyaUEZAHBU+E65zLYDx4vQf+WTp0KyabklZuPDS+gbVJU+T0CcfGiCiMUPXTTxOAkC+fgGKHwANnYoSWqLMIQCgAAocviedwrLl/eiaah6ZIZPh2pNOYdnyfnRNNY/MkMlweSElQCVcDGgBKSNCGRDLIMTJAEAYhgEAAAxGERVEDBggx3EEAMIVkgEgyNrIjFZmLhkhi5x6TbTNqb6q/xOE1K0+1iC6lPjl6ap97hfvaO29Dd6SHCvKe+f/KrDUEQgnJbNvIZ65pAVaBQCQZNpmGIZhBiidDJNxTtMqDCA6dhqhXBt6DBilASADHAAGOL4nLeH0iDOxm4ZHajAYyJ60hNMjzsRuGh6pwWAgLjBtkNJiyDhKEcUZMIRhOAjDAACAcDyGgcyP3/ESkElGwIvreNJAtoxcAZqRPSMjQKCKRahFTHwsIJOMoY1KSM7unNVqBnTKWMzEBjZQ/DVz97/SJcEvrSE1sw1lcqc/BS395rpsAaDpKSAA6aTjND4gzv7UAaQ9AOSUbaElVkX4VWKDATBKBNQAgAABnicdg/oe+sS3mkdcbDZgnnQM6nvoE99qHnGx2YDeIAA0LhC6oZ4AkBkKRNO4AgYpDA8DAACgiLsgBnEQHB8+ZK7XDTjeoNRdFIMoouIQRM4MgKQ0hUzEsDCC4SFE+S6Vbq7JqEADzIaK2lP45P6GdDCBxRcirWppMFrvBSMKJMTl5ielzodiUAChnZjOMAGpoaUZWowDmDbSAFuXSHj2xi0wQABYk4IGBsABviftYb/yfarzp5IiPew2kD1pD/uV71OdP5UU6WG3gTiAltEmoDgD0ZQiPQwyyACCYQAAkEleBxmSEF4Hj4MBSEYa2bJKKyKXrNGMRttIcmRGgYbo/luphNiBJCJTKLQ6CzR7/3nqZnEUlY7YSFWgw6qAW9dcc5sDSoTrCCdVlye9dwTox0gFDGBiXybZsmWCCI0ssQlTAGjNA/o/bP8CDX4AADCAU0AA4EABniftwXRmZ/XzXUmRCj0baJ60B9OZndXPdyVFKvRsoA6g7Q3UAYgElIEzEKJxGYYwGXAYhAEAQMgxEIBHDqhRQUAAwMzjgBAGRo6MLFlIyE2WSlMXpkd1Ybw+BdTFRKgNjPxBKDGV0FwEMNiN6tip19VtBrVLlpmCaOmLoi8EYruYPFThgmD34QIAlbEzZw4zC2IIeVF2HQDEre5AK7HgW74BAHAOQCHgB5AAAJ4nHZXxY8/q3B1JEaZblfKkozJ+7FmduyMpwnSrkgvIAEKqNiBTBqVRXIYhTEY4DAIAAObgcWWGGfJ6fHgdOfjNDK9XuOZ3cAADMxI1mlZASpHqJAZV7W1x24ewskSbUIFZgjetoEYRlhk789gIgUTsryc/oy6STr5af2sA6rLUBbhRbQBAOs7IjGlGkKaG9pisAQDJcxlaiM+01F0A0ADgCEAGMBAACJ4nnZX2GdbiXc0jTDcr50lnpX2GtXhX8wjTzcouoBcQGLUABQMhSlGoHoAQwXAYBAAAAFzXxZAhPAELeE0S+IM+5DG8QTdgQgBmBGTNbSKAUYHKtMhKZ1/hRpOAthaB4LlLMpB3ENxUEwDeYQA/61rr7vnpFvoGn8nbXGocREtEJ4ucpnHgANBmRLZsSRRA2iRW22LC8ltK67x3G0JhrIIRwEEgQ1YABR4nnZTyH9biruHSXKU46aSU/7AWdw2X5ioZB2AxcDwjI6JkQBiGwSAIAIBjwYAZ+C3gxfEZ2qzNyMgQaY4ksw1ym5EjACJrllzS0EKQiqepySbOXrqmb7+2gkCnX1Fn2pEYTTuE/o+bnHqP9UkL8mGg5s3eTvp7V81A7QbZMCDiW/r6ZQCteTESQIeVXRrkeJTpEgAA9326IURqnMtVkAAsI2SzxQA4OACeJ52V5ZPNwhHSX4TzaoA86awsn2wWjpD+IpxXA3gDgLKe2iwsKjMQpSmiMEjhgyAAAABGAETViPEYfoG5AROSk4jKmksmQDTNNXJtoUD6nGgBk4KYMagG26fzfHVQDbGCh2v9tAcmBhSrGMLLb7GB5iZMjW9fKN3/WtuD1k1E9zDRdh89gJ1TQgdL7TfJ2w7AFIyBbzIB1w3gADjQeoCjGUBQAAGeJ13t5S1OMm7KXySi+yblPOlqL29xknFT/iIR3Tcpu4CeZFPPSAIqM2SahliGIWTAMBwEAAAA8DsyAAVdl2AAD4AT8ODzBjDzyDWBIRPQ3DYRgFQ08ct6ENvSkHaYFHF0mjLCRAPRotCMYZqgpS/QKTDfU0p+63eh5VU5qFJChDPPbPzdTKReapRQjNN2mBiGEpUaa2GaD1LAfxgAsjiqBeDxAA5ACzgwzQACnifdrfXLTGx8wy88KOZJd2v9MhMb3/ALD4oOMC1TgZgyoigkOcRheBgAAAAw8wsDOUE3mD07SVvZc8nSjKwgMnOTJQCGYTpzhtKMCUkVakqDgp5LBkJ8wiXZirSRpsrYaQJpQqagGZozy5/YCy66EKwC8iYjGJf2z7gNfjAwLh2DcxYtaGSGNPuYYapFWklaP/oHKKCNNp2OFeDeheCGGaAAh8IBZK4BHJ4nXcnlm620eLJ/wk+DUp50JZdvttLiyf4JPw1KDiBdBOgDsowQAzEiGQaTAQdhAAAAAHldyTAXVwJw8AoACXM8AgAkWZasWXIkpG2WrGRtSpUahwkOrU1HkFQLkdmbjc2pbvrwEhnG14IrLxrConnQVoCtF2Q4UnU8w8kTiFGoJo3PNsRHIg4NA/Tc2jQz0wBoArMewPMGWJzVFuUXUCAABRoOIBswAJ4nXfn9O96pji/lG36oKOZJV37/jneq40v5hh8qig6gZ7QJKCNiMCiFUngyBmEAAADA8CEBMrxYIBhAGIAJaZasWSqVkbOVLWmRm1xEANEV49cSskN3rxBwAchTT3C+tNcktXx/y1XdlPUgkdj/QFPpkXu3t0sjWkD1EiL8ub90dKJHqNuPPa0HAAWhGWk2BWd+L8TfVmkwIAA1DLbl4FJVAcgAEBrAiiMQIAMeJ92DReKmh6V8aV9hUYyT7sEicdPDUr60r7AoOoBxmQWTgDIUFMkpoiGmMAyHYQAAAMwck8dFPplAuJ6AAAAI4HFcMwOAVI5MjVRuM5NG1rQbl9+utSdh+5+k+f1J8g3TQQFQ9C0KjUO1kXO+kpJdZy5mgihjalJU2wrm2kw98WHfyO92VLQ54CJEs/jPsw1+jG3fGioCgBozLREDb2MlV3dsCIBmwAEIEAAynie9K/0/tNSNL+0balydW4XzpHel/4eWuvGlfUONq3OrsAtowwYuAwwgU0XGy1N4EAYAAACQK0zCzA0GHHDMvB68AsM1QEEEACCvcAwAZCQAalK0cS81qm0d38BNx5EWVIUGtyr0De//k1mfQGjVhHydwVM7DHWSQXxt0/cXCeiCm7XPVNs9CBXhydOOqajKKLHwlAHgDIAXEwHkjjI890vgADDmaAqn0DIH/iY97FVC091q4wm8SQ97ldB0t9p4Ag6g5zIJBKCU+QcRojAIgwAAAIAJL0iOgz8IQNDBwADAgi6OQJjMJFlyajQjMzKlOTMQD/GjOg+CJqRzSQZVABGBikameaE6s8ppnZOr0r8CH6ZMvlDfWaB5zJTDmcnA8fMCF5dSN7KjLGIYgNaisLmSLvbndlrA6ugQpgtgABhQCEADHic97VUi07HxdKghTnraq0SmY+PpUIMLTDshsahMKaV0RpSMYRgAAAAAj/kUNOEGgvLhAq4jvGY+ExVyRgpoEjmylUIbRGfGYw+JHyZIDIm2wtfYJEmF6khNiAcNCVro99RJ7kpdz/GwNxBowi1AR69aSm8v3lwLCg8k28ofATP9JChty2gGlwMfk6WqTi7x8QdM9tu9BoIDMcAJNFDAAP4m3e31n82gPbXyFBrepLu9/rMZtKdWnkKDNwCIbACJizYYgDIQopSOohQOwyAAAAA4LmAQUQv4/TJMrgIAMmFG0AQAYPK5ACCDME0o41q01s63xC44+kUT++QQi4wizcc3g+WyEv3DeMrG3fOBRFdt2m7zQHqg5qaKno83aHMNjQiBjc3Gz9kOllG4YKAxKCOLat/L1vWYk4ryT0DAyqMCQOAAoAGGDP4mPZX9n09nvAVHaHiTnsr+z6cz3oIjNDjAMOoDCsRAFJ1GlIIgDAIAAABgrisZmMfF5HNcFxMyIFtG9sxWk6y5Ec2ZKSqyZk8jgLQomI6owNMRgf01qSJDuNXohiCc8OUcUrsagVwiXFDxTjS+1X0Wca0FfDhCs89oxrN5qxtOmOY1FVrI7lXtWmqdEjUEpIMw8zAY3ltpvfktLjcS+OcqgCFDA6ABPie9covErDsObmBOeuUWiVl3HNyAC0gJGC0gMxCDUjSiiD4IAAAAIEeGg/nlNV/Q62AOUsCPiyPzOF4ZACCCNmtuMwAkJTSdaDp8Ro/H5bBJFSJyhBPZFV0UIkHgA8CDwhfdH6Ky3wefQIjPP9PMwKObpi6Ish5SnnEGJt5KPg76v1qh4RPAYKAvAxCfBgEQokxbEPdp0sDhIwA0lMM4wQEI4AD+Jr0qyz91x4/OrS0t4E16VZZ/6o4fnVtbWoADGIvKCgaliCLG6GEAAAAAV8iQ5A9Yjqxp2iZpkiNrJpFqiJw5sgGQPWeSFEoS348srhGdem9UmDIk8EzoZYoAAEN+YiYUV8SgbtkS+iJcRJfd/3BfDqMRsCOOOFEBwfVCILMw+ZvJBlr61cvcyGV4xDDOfKwGwEdu+PfwmNHJcBmmxzM+E7srwQDAGgHA4MCvADg+J32Qk6SxO27ZbYI56YOcJI3dcctuE3gDAFnvDaAbUQcABWIgxh8x4GAYAAAAHEERMBIMeMwxkBuUSRJxV1cBBdBSzZEGIEkiJcaJCj2ey3pTVaif0G5VFkjI0EVTZm5J9IOK+5ddHKGMESC+mtn3Z38sb6WW5yMQ4EtFzBwWgHxtL9KK0kweR8Jr8kU/FuCampjaDwAAchipJxuIEg4CkAkgwAGBAwBPZ2dTAABAHQEAAAAAAI2dZXgEAAAA2J+1qxmkrK+eqa2praGyrK2mpaKlp5+pqaamoZ+lHid9cLPEvJzzxBYqxEkf3CwxL+c8sYUKXgCAutEkoBkMxPiMKBwGAAAAQBRAVcWRzwkgABCWNXubNGSTNUkiM2dSSciemQCWMNo3UbeO2yjSLjSZlfNlGOjrQmssB20JMiPmBu35I8APCDwWyRZQhUHGBBOOWggMRyWtJPhytsfjVtESR/2TypAzLID4IwyNLpmKJYa1GiKClfhiAaTRAAyAAQceJ73zu6S8K+OrszUhiJPe+V1S3pXx1dmaELiAlkBgNAADMVAmmj4MwjAAAAAADsgArzcQlOsFA59fMq9PHo+DYYCQUUGaIwdA4hO5koKu0eJK1IBCeKxsA8An0kDUP7OmJVVX/TMfUbPWdVsZbGiqganK3kzrWzoH+f63LP7Ly6r6tnFGGal0L53Ribx3aQuxZzSkqGyc7EfX5q/7GUvoWvDXiNM/DAB+A2QAPid9glVSaqZ44sjYwZz0CVZJqZniiSNjB1INVjgIoAyEKOOIIooOAwAAuAFcjwEOHg9BP4B88goAgBpGI2NmkiFb2obSaHxUwA/PwvC6daD4cMBnj2+eCGsF2JmatrvRe4U4q/NJ7YG8kbUgaTo+TMTWxf6tsybbpDKd1MlC3ljXS8PKCAJ8oiUtAUnYr4zZ/nfJt+FqnB+zGxm2l9sRvshziweLQQgICDhoBAAUBB4nfROzhANGajgpwRAnfROzhANGajgpwWC0gNEAMoP+KWWEgzAAAIDf8Zsw83hdjymIgRtEAIAZaJA0ojkyA82Ra04AADSTxnwB3Roo8MUEyAuADIZ+FYZrpc2UwzNSV67rcaT02p06OpnzmC9j2nUHPya7262qR03zhxZLy4cEYXgWeZAFG58jEcxnRSpgYc8KnTZnuiWgiJgM4AgAHid9EaPEoTvjiVusGcRJX8QocejOeOIWawZeAICa0QCUMlKaph8MAgAAAIAKRlXcBTw+czAAmavISLK3aURWEUluQoqMNBcCIBj/LaWrXjxWvM2ZdbeWo0SJSCWlxsuI4BWPDmh6pT/rRvdWlkLLL6L9xe/RV1wlBrUHsO7jH3LYa3RbQHxtJZQOGBRS5InXTbahDqvSl8e3pOcr2Eh/ChRgDRw8EAADAB4nvcFVop2GH8FxvbOAOOkNrhLtNPwIjuudBTiAvlKmDMRAlEZHMAyDMAAAAOaYhGPIYxmRPSNtQ9aUJNdKGSYNAc2ZNVsCVCMhSaET9P46JwHiS1IV3ibC0P4IXbG1kFgdoEjD5WajXCJx/61zbuUrT4UAWwbeydUGbnNNsaYyQiTXzFvOPomm5IMoyZfVyvLa2A6z9VhJYb10mWHAvyLx4mhaAqcPGYIABhAAPid901nSZRjtLdhiG8Oc9E1nSZdhtLdgi20MUnNBOEigDEoZDDqdgYIwDAAAEDCvXJBwPY55fSDkk2EAAG1KBhlnStPcZksCqtVtzCdy0bskGkuAIoiJPRtxSWw6tyC8iRs0iJZWiSUVQ3eKQoBH8mIkERUifeHP718NkrzPdMyHUcEeyVYhNut7QqtL6rCTkJGLfwwQ8kUEXGbwyt6DC2JIe4AC0ICGAV4n/YCz5FTGvHHEZTjUST/gLDmVMW8ccRkODmCUMoOBKELTo0EQAAAAAMNwDSkQyGxGkrXVJFumyJ494zg0kxlVEE1yzRYBCFRbwrQ4dNXNy6B9yR0W0KNXiuH9HizC8xYJlGYERQVkoJP4y4ut2HeMSBNGi5plMQ81+FWp3ai0kpz6RMwnDEVMqd610bgHTG/2rxdTdZFGtutPHma8wi4y8gR0gBxaDgYEgACgPid90lUSzXAUx2ENc9InXSXRDEdxHNbgAiYgUcoog/GP4CAMAAAAgDCB4fidoGN4ZeARyOdrMJkQIJIszSEpRERoAUwC/LDfswdbEiG66r+UYbc+VUuU2oNFKNWA/bNC+ECkZFuYWZ/J041ppnlqTdU37rx0Wj8eRRsj2/qka89S3I6T2PAqNbfFKsulksxSyPeCrGTfKyZqQODAYGg0UAA+J/3Ak2RRhrfhyPiDOekHniSLMrwNR8YfOIC+UmZQBmLQU/phGAAAAEA4YF4LZCHQzJyRoxmZ2dNqpgWQ5DYjMksEhTASMm3K1gyUAFnH2U2lTEolfbz6P9RH9nuaDtId4c8Lf7H2I/vW26EigWrYePjimi7oFmErz9dzPqN9y87vBf4i3b2at86d2ZgNmo+QPiMRv1C5/oUcXyH9UluW/d2lX66EQg2QCQDQIMMBDiADPif9oLPkTRnlT3M01TAn/aCz5E0Z5U9zNNXgAgIWLhJsAspAlFIUPR0EQAAAAACZZI7rWNCEYa6ZBF4fAszrGgAAkscLGBiARS7ufLsk830vYs3M9n5RJXNmBo/KtiOqlXkKtlm2HSEniWmjzC0dA5+5AWaXLSTektIiF3p+29mfmZujbGAJdGXpi5hru5VmXE1XEu8+0Uho1WlLo6FH1KmCgQA0lw2cAeAUAB4n/YajxI0q5QdTMMRJv+EocaNK+cEUDF4AILLBRQtIgBgZiJHx0TAIAAAAAICK4EZA4DW/AQAQQA4AAGRIs6AZuU2RpYsztYLPcsWMzCF481lHICMKLV23vI1wlCXP1mC/h1rLnyZAkcCNQknnNaKf3g3SDJ8S0tHIftnSJcviFhbYtOaul73W1x84a8avpTF1vxd8dZPyRUZpIdUfHu3F3/RWKQ0FAygBB3AAHif9oF3CrJzyxj0vECf9oF3CrJzyxj0v4A0AVDOwsBgMSjMpfTQcBAAAAABAFXDHHBfMCLiO68GoyJLmWkAjzSUTShAGEb9s5kNAwtZZW2gHcR3iQCDZKIhFRv70xQ7kIl/aR3jbllBqaVBIMQkUAap0WX//k8CQxteWuS+OtiCE0VSlnfqdrtODM9bqSP+uWrqm9AXtjsDa9zLclq0BYAIGwAECBh4n/WbtP7rhH47cA8RJv1n7j274hyP3AF4AIItGiyJKEWKgjw4CAAAAACoARkQzsiDkzIxUQdNcsxRAc5MhQOm9TfXXkKr0RqdZW4eglsehSMRAV+sJjdJiXiY3O7pI+gpfRGq8uWhaBIXzi8pGkFTb/0G6pc6iaXFdclS03y46KstO5HJiBpNPN7MLPXBYfl+fmQqc90ko0gM4AwEcOBDI1IEAAD4n/dSTJBuGL450MCf91JMkG4YvjnRgWQqKMhBCpwgNAwAAAAAlRI5ccma0Idpc5UYkVSJrNgUa5CaXAlpBMYph0mCLgKZylFkG9fuMV74d4DiRb5ms2kZp0c7jWYLuj8ompEbpWMcncZbug9pg7h+WOtKEWfnPjXquOjkGFa30pla4H3Upf9EfkDxxnu5WRqMR4aEtfbn5gzG3AiCQUQJCAF4n/ZFNSi6M9oMjujnUSX9kk5ILo/3giG4OLqANC0umGRno0YMwAAAAAAIwAyfo8zh+wHAcr+RRRGjOrA0A2bNmKaCkjUjbmLL3yvdS/mNt7zpcL7cx5kMnRHS+EtAzGiECP+2neCONF0Jo+fvbXe4hdIhIMx37yRM9mrO7V8dH13P97nnFIjFMOUn80Ubt4ePmtIxXv46xnupprQI4RQAHegAZAF4n/ZajJOOm+RMdi5g66bccJRk3zZ/oWMS4gAWJkkEpZTAY6YfDIAAAAAAgwPCa3+dxHcA8LpgcN8U4IwGIHLmtQKFw5YXeUVEfHc0X3ZlVUrG1dGPCuNjW0Wi/CZG6lRFHt4EOLQdIVROjQNtGFAPBpdLNgPYkfkRs4gh6Ut29VYukVitjSG8TddkUcdW1uK6YWmcQpgs97T3XWvZ9Z1YABsABBHAAXif97aqkDMPBAeqkv12VlGE4OIBRMrBkBs3IoHQUhWEQAAAgiGOOixQ0n4srUCAil0wglxQQErlJkoQgGiIaTWMCqc/pUhMT1GxJXMXpiBCyOnSZDqHTnzYvIuDPSIu+pUDrvHG3hMtBAGZ9F9vBh5/lOHLSy6TtGR91KaKhaepeeq1HSPW5uo4b4GxWrhJRQdL1bkdsmCgEAoBPD+AAPif91qOExlVpX2zROZiTfutRQuOqtC+26Bw4gLFkBqWIMj7jMAgDAAAAAIDP64vMppnVNEcuRJYKJHIVCiJ7cwmgRFBJ0SkmkudO9ScsxGe3NwSAP/KpWZ9gB1uFKpWviizAi9Qbulu2b04tXB2Ffa2wtuvamqlUBtONHdM6Ra3b+fQndPlJzuTeT7bPRZJ40+y37m6HrFpR28rbZdHgB8AFHIAag3BgAF4n/RW7xEEY5Z/iiPaDOumv2CUOwij/FEe0H1hGCzAQYkQ0YjwMwyAIAAAgxwwAAABEk1wzs+WMHJnStNJqzmqRmywB0Kvcb90y960ssnO7i7nkGmA+9vWy8wuSkrAeYtShJOS97DGoDSzzU3uZTQAtEeECS441xLXIanSAO08+8Q5K3HgRPuDoBhuixoqeeClN9N3uzLq1y32Rjk+wHsyrGIJREDgg4wBeJ/1Jk6SNK57YQJ30J02SNq54YgOWxUApg3EGHcEwCIIAAAAo5JJrZtZsZEaT7EkGSVJCRrYCiCy55gQQJa6AA4RgDvk9LsgxZuu/b+nnE5O1jvbQG9kYVOTZOBEWDdKrt0zPIosW09hc762S58ELvx7/7+lrbxDofzVWukeKhkcco0IxW91TTO95WRar68vRVKdXzPSie9GP3enOLzXQjkYGMJABPif9a+o/WVUcbNk8mJP+NfWfrCoOtmweuIARgNEAlMFgoPT0wyAAAAAAAADmelyZ6xrmMZ9Jrh9wvQAAwkC2ZhbALwIPneIpFSm/JQ73JGpTl1m1yaRL8aQuosY/DX3SVIfsOIGKdTGSiTOONq9VqFdg8NfLz+9aJBUYtR63ECKVrgUuB7QSwSzk5IIvhyLdv8idG5ZBX/Ddze16iQXADwhIAAuFUz4n/THjz6CGH2xpYE76Y8afQQ0/2NKAZTEYlFJK0Q/DMAgAAAAAmmvOJElyqIgsuQnNTECSPQRA5Jq1FVQw8ashr5RvQFFZWXCEWpaX0X2J8dv0feFr3d0dWhusbRh5d+OnKtZqhoGx2wyEFiHLbcrI7Hw6ddCC/285N+QxbOuiu9nv7X3jz5G6X7+ZN0w5hMbQlpEhRNK7bgQ00CAgDjIAPif9if2XCTPGH47QMCf9if2XCTPGH47QYFkZKUVHCNFBGAYBAACAkJucuWaRXYWMHFllliCSXDNbQDMysidA0+hf/qTdet1UALhQuwF+tqlSWn3XwFrUCk2I2JCzfHEr7QtiFFYjQnJ2xh6MoRBHvZx6O1Xw59ycxkwUEgqszLbpz9I80TNAt0ojQaUc7oV8F5OeDVckwIE0VCDQAGgAXif9E9vfCtUcbKBO+ie2vxWqOdiAFwCgwaQMBs1gPHoYBgEAAAAAAFQ2GVSSkStNQkCuSQHpZMYkGhgwTV/Ce0+iojBnUnEj+jTZFVKfO4JSNy5LvUBydG2i0fUKXyXphaIQNIKdd1gBQ8NfmQLrJNmYGfJibi077seJVVp5PNZv4iK5JKTUy3+xcQHxSSOd9dN5RleMrRm/1wCgJhAMtEwGaJABT2dnUwAE71wBAAAAAACNnWV4BQAAAMlv+DoQoKain6CcpaCZn5+YmpmaMl4n/Sn9r26ajSMVqJP+lP5XN83GkQoYIwElZaAMxij9IAgAAOA6HmQm8PiwoAFAm2vWKNMxBdpmRjaAVqjydIqMqe6tLBeKo30hFbW6ClJtnZR4a/Zax6bGyJRfOL5uBjgQYUf/6K1GwWo3z9MGnbhKDM6Oka9Wg07T50zbcHy6bYgAK9lFB84pK6Co9YySq+ZuzC6be5UWAggA5gCgYQA+J/3t6g9pxpg4wsKc9LerP6QZY+IIC94AgDoItBqDgVA0PRyEYQAAAAAAcCO4fgMkyZXXcRAzp8NYIOM0M8YEgmfp/61j6EUKNQ3SahDtTJTY+SdDSkZ+YL+DRCTiagmfc9GlBSN/drwppMbxbyMiVSUsToX0ePQXQUbU7GX3Y3nG6l/PVH43uLZx16jQCeBA4G0pRLummaHv8kc4mCAoEEBQAzQAXif9W+tPSjNaw5EY1En/1vqT0ozWcCQGlslgMBgZacbDAwAAAACguWTJmTVnJG00l2bVDEnQ7KkC0hkzWoC6MCcSfAFMS+RTJamxqln2l/ce0kh8XfDNzoT6jVrSVOVBWC9axo2N8JuqxahBFGnbW5IWN6iBLRvaVSA6ZSj/MZGIcNAG/IPyIJUtaOb9u/8nUPp+IamyYvzbPfKEgRWAAg04Pif91dsnx2xHcIA56a/ePjlmO4IDOIBRMhSIgein0SAMAAAAAAAAFkiyJpWmInJGZWSCmR0AKtfsASCkikGsNBExBUo1poij4wSmVdwgpIab2pfQqUkZ6O3JwKvHFZZ3d4y4v1zoYfuSvpWzVy4/felONhTPV12dzWbSdskaBTGyXFWWFpMHKeuKEIqOvt7B9aMvHTR8zQFAdpxmUBQAXif9nqf/4Iq3Zi+gTvo9T//BFW/NXoDlIAAxGAihpygdBgAAAABkrgMAAABkzTXJTCKpJCMze7ZEmpDkTDVokbjVYIAA9PWDaQ6J99XRQjWV/RaWjhdd7gQfD5UlQGuvTRimbT2WsK88Taau3pCz7UT1U5li2HWXuGaby9HUuTLowPmsSHzYal6TdJDasWTO2ZFAmlbxD3aagMkACAZAG14n/en9Z9VMP5oN1El/ev9ZNdOPZgNGgUDJyGCglD4KB0EAAICgG3RlILkSMgDQLLlVJDMBRJpLkiCIoEXESmzLVSpGWa9WO+T9Pa2oAn+IQ15Iytn2a+g/3EH9bWcCx6eanjGnaU24AGLXd5MoTiSkXa3TGUN9XLeuDcKWHMVR1WheTAh5r4XRmgBUF61nlw726H1vaRDADwCKA14n/TtWCQdptCeOEKiT/h2rhIM02hNHCLiAAYHFYDAYFKXp6DAIAAAAAAAAjrkSIMxcvxyzEiIzBwBpzgwAxKziHvPeC0tKSpQiASXIqJGCqD3LGxJf+ww1+tXYZ9DS+0Wz1BrX87IlWvBVXrWo1ZwdV7QjHP1zLi7FXS81NWsU6dzxo9uk7D6ZluuV/0kYyl95CQk+2d25mW3yCgUAVwFVIABgAF4n/TX2nxFmOjhAnfTX2H9GmOngAJZFFQwGZUwp/TAMAAAAAJVbGaRKpLlmbaQBIkcAqpE9U6NEqQLMerrqeUEm6SDVRnoJIiVNaFtUJ5FWRAa30mDLCl/XekJtj4tVEp3dohdR0lPKtF+kta1jc+rC4TUXJecOobKqIKDvv3EaRtSC7Q6nTaCgv2Liwkq5z3BVb9X12XQKgOKaAkIGHAA+J/3dy8dKsx0cYE76u5ePlWY7OIBSSRkMxhQ9pUEQBAAAAADjZFqikD23WZqoYjIdAcjIkj0aEHTCQX+yGTEqenimJbh6+Du8cjT+gs9y3K0TATTR18qROIdnZMc8Oih60ngjLTL9KZO+tS88iVsBDS4r1P+9wrkaUPk4Z5KlZz7Onfl14WyyQsTibwQHflpVNgAZWgAQQAFeJ/13Tv88MwocYaFO+u+c/nlmFDjCgmU0AGVQStGj6TAIAABgwjUBgGEAQERzNASNJLdJNHKNKpGZLRGgrmVTcOnvgnxWKjIlMkJRChP/ekp/4ggAa76F5b4EQT+d62tjnF3xS2mMRFYt4GUqWnorTCmpZ2vSrOfqud/rwqK344MvszPGtl6anJ2v1mnkDJSjRU34WmYUJTBxIGAAaABeJ/171u8ojTZwRIdDnfTvWb+jNNrAER0OCqWCwaDpfzAMAAAAADKT0hsvX6HW2M4YZg4AkZk9QIjAoC2SaWkjq1LrglHc767qlnZdnPvk/TVusjzq16TUQnrPv81duVKACjJxpr2uN7/tcy/hCSN0bSSeoaqebku/8o8rjhV19N/KbDdiZ2Oa9xXYvW3Mqha+njbw+424DBiAAICgCiheJ/1zlC/SAAeok/45yhdpgAOQtRCDwYhQ9IdBAAAAAOBARtHMZhclGpGRU9qghNw0FaoBGtFXNH2dF18GKWdzywgq2Zu6sBTsAVJIIn+8BTIW2yqXVkdrVNecOoiYNcvxHhbiagm+jv++RvUzaEDUG+mqpjWRqTe6WrVj0wTqLeUmKm2/4uBNY1Z27/E2HxoO4OCAARmgAV4n/b3tX6QCNlAn/b3tX6QCNkAmINEQg4GmlJ4ehmEAAJAXITweZLgA0HFVy0yaGFXG6SQMtKlg28TCVxFC1KfXt1CpWgiYzzT6B72Y1C5qv/116J/fJp/0yqv47HYRK6RIZKOVlalScSLrewBE2gX3J8HEZZ9bSaRq86vtGpPJ1/EZh/wdQrQy3CjMiBqfwwEoGBrguAYKAQBeJ/116R/UAAeok/669A9qgANoTAaliE7po2EYAAAAAOiMwTgzjU4Nowx77U3LiMmkEamWcCa0gHL+qCuLNv7DpTuLkXsiWvUvIj8jzHfQn4fu1V9bkezFjZsXU5KX+GLotdq4Hal6wPQ803Vv9kWAWIwsWfA3J8ucL0hUmknecvKfb56iE7vgxN2fr9H8ttAhoIDgIAfgAAReJ/19jl9QwAbqpL/P8QsK2ACZwAZMBgMhmY4QHQ2CAAAAjskDmOtxBWYAwLvFSpegM4cUERTIja8D4EwP0gWHqamjHwgpvSQ80V22bi9aMclURIuIJqNbg1R0H5hiZV3T1Qa9WCrC204odrpCpEOo7sP6EPwzRFVN53RrmkoZcq19inWq/YW1slwSWbbFoWwDzUHLgIBAA0AAXif97yxfugBuoE7631m+dAHcAAgAwAEABgEAAAAAAAAAAACKBKAcAAfAM5sAYMNBAAA=\"\r\n\r\nexport const base64PlaceholderAvatarImage = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPZSURBVHhe7Zs9aNVQGIZvioODQwdHCxUqdHBQtNihg4NLQdCigg6CoKKiNS4dnKRDcXBpEaHSggWFLg4WBBcHBwdLCzo4FBQs2NHBoYODcH2fnOQ2iUnvT27uvcnpA29Ozh3afG++85OTE6darVZyxXEP6XhSOiUNS4NSv1+G2ZR+++WGtCqtV6pzWypzIx8DHHdUx3PSRWmInzLwXXotrciMT94vbaR9Bjgud/WadEviTucBmfFcWpIZZEtmshtgAn8guRLnnYDg56TZrEZkM8Bxb+j4WDro1TvPL+mhTFg01eZpzQDHpV0vSKe9evf5IN2UEfQXTdHnl43juJd1XJN6JXjgWtb8a2uKxjPAcffp+ESivfcys9KUsuGvqe5OYwaY4JclhrUiwLB5pRET6htQvOAD3kiX6pmwex9Q3ODhvLTsx5BKvU6QNl/E4AO4dmJIJb0JmB6Vu18GrqopvPLPIyQbYMZ5hrpOzezyZls6njRPSGsCTHLKEjwckF6Y0yj/G2Cmt700yWkXY4rtnn9eI9oEzIPNN6lbc/u84dnhiJpC7QEqngHM8soaPBBbZCa7kwHm7v+QytT2k+DuHw6yIJwBLGaUPXggxtvmNGoAKzm2cN0vfQPMGl5ey1i9yJBiHuMkyAAWMG3jAofAgCLP91uFhyWNApX7rNv/pGIhA2QALy1sZRQDeGNjKycwwKbeP84wBsTf0dnEIAbYMPtLo38vA/wTa9kzwC+tBQPYkWErmxiQ6f16wdneywAdmn6nXiI2MIDdWLayigHr5txK1vsq1Tn6ABv7gU1iJwPgrV/ahBdzYMCKX9qEF3P4xQjLYiyP2cCW0n+AkyAD4Jlf2kAt1rAB85INs8I/ErF67Bhg3pUtmUqpmQ/eC0I4A2BaKnMWEBsx1ogaYJyZMZVSMhO++xDPAGCnZRlnh18kYouQtkmKpfLP0n6vXnzo+EZ097+a6g5JGUBT4MOESVMpBZNJwUOyAWD24Le8D7+HWPRjSSTdAMMdiY3HRYX5PjGkktwHhHFc9ti9k7wNBQXiozSuu88myVTqZQBNgT8wLhXpiZFrrRs81DcAzB+akIrQJ3CNE40ED/WbQByzk/Sp1GtDJEMdvX1TN6l5A8Bxj+r4Ujrm1bsPkxx2hCcOdbvRWBOIY/7RiDQldfPZgf/NNSROchqhtQwIY3aYPpLYfNipZhE80k4r8Ew3ILsBAcYITLgr5bWyxIfULGZEHmmz0D4DwjjuGR3Ze3hWyrr/gBVrhjU+nn7v/dJG8jEgjONiQPzzeSZXcWMIlKGLMvz5fI5L9pXKP+lVHvxHrr8zAAAAAElFTkSuQmCC\"","import ChatPreview from '../components/ChatPreview';\r\nimport ChatViewport from '../components/ChatViewport';\r\nimport ChatMessage from '../components/ChatMessage';\r\nimport ChatEventMessage from '../components/ChatEventMessage';\r\nimport Message from '../models/Message';\r\n\r\nimport Model from 'flarum/Model';\r\nimport evented from 'flarum/utils/evented';\r\n\r\nimport * as resources from '../resources';\r\n\r\nvar refAudio = new Audio();\r\nrefAudio.src = resources.base64AudioNotificationRef;\r\nrefAudio.volume = 0.5;\r\n\r\nvar audio = new Audio();\r\naudio.src = resources.base64AudioNotification;\r\naudio.volume = 0.5;\r\n\r\nclass ChatState\r\n{\r\n\tinit()\r\n\t{\r\n\t\tthis.chats = [];\r\n\t\tthis.chatmessages = [];\r\n\r\n\t\tthis.curChat = null;\r\n\t\tthis.evented = evented;\r\n\t\tthis.totalHiddenCount = 0;\r\n\r\n\t\tlet neonchatState = JSON.parse(localStorage.getItem('neonchat')) ?? {};\r\n\t\tthis.frameState = \r\n\t\t{\r\n\t\t\tbeingShown: neonchatState.beingShown ?? app.forum.attribute('pushedx-chat.settings.display.minimize'),\r\n\t\t\tbeingShownChatsList: neonchatState.beingShownChatsList ?? 0,\r\n\t\t\tisMuted: neonchatState.isMuted ?? false,\r\n\t\t\tnotify: neonchatState.notify ?? false,\r\n\t\t\ttransform: neonchatState.transform ?? {x: 0, y: 400},\r\n\t\t\tisActive: true,\r\n\t\t\tselectedChat: neonchatState.selectedChat ?? 0\r\n\t\t}\r\n\t\t\r\n\t\tthis.permissions =\r\n\t\t{\r\n            post: app.forum.attribute('pushedx-chat.permissions.chat'),\r\n            edit: app.forum.attribute('pushedx-chat.permissions.edit'),\r\n\t\t\tdelete: app.forum.attribute('pushedx-chat.permissions.delete'),\r\n\t\t\tcreate:\r\n\t\t\t{\r\n\t\t\t\tchannel: app.forum.attribute('pushedx-chat.permissions.create.channel'),\r\n\t\t\t\tchat: app.forum.attribute('pushedx-chat.permissions.create')\r\n\t\t\t},\r\n\t\t\tmoderate: \r\n\t\t\t{\r\n\t\t\t\tdelete: app.forum.attribute('pushedx-chat.permissions.moderate.delete'),\r\n\t\t\t\tvision: app.forum.attribute('pushedx-chat.permissions.moderate.vision')\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.viewportState = {};\r\n\t\tif(app.session.user) app.pusher.then(this.listenSocketChannels.bind(this));\r\n\r\n\t\tthis.evented.on('onClickMessage', this.onChatMessageClicked.bind(this))\r\n\t}\r\n\r\n\tinitViewportState()\r\n\t{\r\n\t\treturn {\r\n\t\t\tloadingSend: false,\r\n\t\t\tscroll: {autoScroll: true, oldScroll: 0, loading: {all: false, queries: {}}, needToScroll: false},\r\n\t\t\tinput: {messageLength: 0, rows: 1, content: ''},\r\n\t\t\tmessagesFetched: false,\r\n\t\t}\r\n\t}\r\n\r\n\tgetViewportState(model)\r\n\t{\r\n\t\treturn this.viewportState[model.id()]\r\n\t}\r\n\r\n    listenSocketChannels(socket)\r\n    {\r\n        socket.main.bind('neonchat.events', this.handleSocketEvent.bind(this));\r\n        if(socket.user) socket.user.bind('neonchat.events', this.handleSocketEvent.bind(this));\r\n\t}\r\n\t\r\n\thandleSocketEvent(r)\r\n    {\r\n\t\tconsole.log(r);\r\n\r\n\t\tlet message = r.response.message;\r\n\t\tif(message) message = app.store.pushPayload(message);\r\n\r\n\t\tlet chat = r.response.chat;\r\n\t\tif(chat) chat = app.store.pushPayload(chat);\r\n\r\n\t\t// Workaround for blocking events from a socket if we need it\r\n\t\tif((message && (message.chat().removed_at() || message.user() == app.session.user)) || (chat && chat.removed_at())) return;\r\n\r\n\t\tswitch(r.event.id)\r\n\t\t{\r\n\t\t\tcase 'message.post':\r\n\t\t\t{\r\n\t\t\t\tif(!app.session.user || message.user().id() != app.session.user.id())\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.insertChatMessage(message, true);\r\n\t\t\t\t\tm.redraw();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'message.edit':\r\n\t\t\t{\r\n\t\t\t\tlet actions = message.data.attributes.actions;\r\n\t\t\t\tif(actions.msg !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(!app.session.user || message.user().id() != app.session.user.id())\r\n\t\t\t\t\t\tthis.editChatMessage(message, false, actions.msg);\r\n\t\t\t\t}\r\n\t\t\t\telse if(actions.hide !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(!app.session.user || actions.invoker != app.session.user.id())\r\n\t\t\t\t\t\tactions.hide ? this.hideChatMessage(message, false, message.deleted_by()) : this.restoreChatMessage(message, false)\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'message.delete':\r\n\t\t\t{\r\n\t\t\t\tif(!app.session.user || message.deleted_by().id() != app.session.user.id())\r\n\t\t\t\t\tthis.deleteChatMessage(message, false, message.deleted_by())\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'chat.create':\r\n\t\t\t{\r\n\t\t\t\tif(!app.session.user || chat.creator() != app.session.user)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.addChat(chat, true);\r\n\t\t\t\t\tm.redraw();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'chat.edit':\r\n\t\t\t{\r\n\t\t\t\tthis.editChat(chat, true);\r\n\t\t\t\tlet range = r.response.eventmsg_range;\r\n\t\t\t\tif(range.length) this.apiFetchChatMessages(chat, range, {notify: true, withFlash: true, disableLoader: true});\r\n\r\n\t\t\t\tif(app.session.user && r.response.roles_updated_for && r.response.roles_updated_for.includes(app.session.user.id()))\r\n\t\t\t\t{\r\n\t\t\t\t\tlet role = app.session.user.chat_pivot(chat.id()).role();\r\n\t\t\t\t\tswitch(role)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tapp.alerts.show({type: 'error'}, app.translator.trans('pushedx-chat.forum.chat.edit_modal.moderator.lost', {chatname: <b>{chat.title()}</b>}));\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tapp.alerts.show({type: 'success'}, app.translator.trans('pushedx-chat.forum.chat.edit_modal.moderator.got', {chatname: <b>{chat.title()}</b>}));\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tm.redraw();\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'chat.delete':\r\n\t\t\t{\r\n\t\t\t\tif(!app.session.user || chat.creator() != app.session.user)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.deleteChat(chat);\r\n\t\t\t\t\tm.redraw();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetFrameState(key)\r\n\t{\r\n\t\treturn this.frameState[key];\r\n\t}\r\n\r\n\tsaveFrameState(key, value)\r\n\t{\r\n\t\tlet neonchatState = JSON.parse(localStorage.getItem('neonchat')) ?? {};\t\r\n\t\tneonchatState[key] = value;\r\n\t\tlocalStorage.setItem('neonchat', JSON.stringify(neonchatState))\r\n\r\n\t\tthis.frameState[key] = value;\r\n\t}\r\n\r\n\tgetPermissions()\r\n\t{\r\n\t\treturn this.permissions;\r\n\t}\r\n\r\n\tgetChats()\r\n\t{\r\n\t\treturn this.chats;\r\n\t}\r\n\r\n\tgetChatsSortedByLastUpdate()\r\n\t{\r\n\t\treturn this.getChats()\r\n\t\t\t.sort((a, b) => {\r\n\t\t\t\tif(b.last_message() && a.last_message()) {\r\n\t\t\t\t\treturn b.last_message()?.created_at() - a.last_message()?.created_at();\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t})\r\n\t}\r\n\r\n\tcomponentsChats()\r\n\t{\r\n\t\treturn this.getChatsSortedByLastUpdate().map(model => (\r\n\t\t\t<div onclick={this.onChatChanged.bind(this, model)}>\r\n\t\t\t\t<ChatPreview key={model.id()} model={model} />\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\taddChat(model, outside = false)\r\n\t{\r\n\t\tthis.chats.push(model);\r\n\t\tthis.viewportState[model.id()] = this.initViewportState();\r\n\r\n\t\tif(model.id() == this.getFrameState('selectedChat')) this.onChatChanged(model);\r\n\t\tif(outside) model.isNeedToFlash = true;\r\n\r\n\t\tapp.test = () => model.delete();\r\n\t}\r\n\r\n\teditChat(model, outside = false)\r\n\t{\r\n\t\tif(outside) model.isNeedToFlash = true;\r\n\t}\r\n\r\n\tapiReadChat(chat, message)\r\n\t{\r\n\t\tif(this.readingTimeout) clearTimeout(this.readingTimeout);\r\n\t\t\r\n\t\tlet timestamp;\r\n\t\tif(message instanceof Date) timestamp = message.toISOString();\r\n\t\telse if(message instanceof Message) timestamp = message.created_at().toISOString()\r\n\r\n\t\tthis.readingTimeout = setTimeout(() => chat.save({actions: {reading: timestamp}}), 1000);\r\n\t}\r\n\r\n\tdeleteChat(model)\r\n\t{\r\n\t\tthis.chats = this.chats.filter(mdl => mdl != model);\r\n\t\tif(this.getCurrentChat() == model) this.setCurrentChat(null);\r\n\t}\r\n\r\n\tisChatPM(model)\r\n\t{\r\n\t\treturn model.type() == 0 && model.users().length <= 2\r\n\t}\r\n\r\n\tisExistsPMChat(user1, user2)\r\n\t{\r\n\t\treturn this.getChats().some(model => {\r\n\t\t\tlet users = model.users();\r\n\t\t\treturn users.length == 2 && users.some(model => model == user1) && users.some(model => model == user2)\r\n\t\t});\r\n\t}\r\n\r\n\tcolorizeOddChatMessages()\r\n\t{\r\n\t\tlet odd = false;\r\n        $($('.message-wrapper').get().reverse()).each(function() {\r\n            let e = $(this)\r\n            if(!e.hasClass('deleted')) \r\n            {\r\n\t\t\t\todd = !odd;\r\n\t\t\t\todd ? e.removeClass('odd') : e.addClass('odd');\r\n            }\r\n        });\r\n\t}\r\n\r\n\tonChatChanged(model, e = {})\r\n\t{\r\n\t\te.redraw = false;\r\n\t\tif(model == this.getCurrentChat()) return;\r\n\r\n\t\tthis.setCurrentChat(model);\r\n\t\tm.redraw.sync();\r\n\r\n\t\tthis.evented.trigger('onChatChanged', model);\r\n\t}\r\n\r\n    comporatorAscButZerosDesc(a, b)\r\n    {\r\n        return a == 0 ? 1 : (b == 0 ? -1 : a - b);\r\n    }\r\n\r\n\tgetChatMessages(filter)\r\n\t{\r\n\t\tlet list = this.chatmessages.sort((a, b) => this.comporatorAscButZerosDesc(a.id(), b.id()));\r\n\t\treturn filter ? list.filter(filter) : list;\r\n\t}\r\n\r\n\tapiFetchChatMessages(model, query, options = {})\r\n\t{\r\n\t\tlet viewport = this.getViewportState(model);\r\n\t\tlet self = this;\r\n\r\n\t\tif(viewport.scroll.loading.queries[query]) return;\r\n\r\n\t\tviewport.scroll.loading.queries[query] = true;\r\n\t\r\n        return app.store.find('chatmessages', {chat_id: model.id(), query})\r\n            .then(r => {\r\n\r\n\t\t\t\tif(r.length)\r\n\t\t\t\t{\r\n\t\t\t\t\tr.map(model => {\r\n\t\t\t\t\t\tif(options.withFlash) model.isNeedToFlash = true;\r\n\t\t\t\t\t\tself.insertChatMessage(model);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(options.notify) this.messageNotify(r[0]);\r\n\r\n\t\t\t\t\tviewport.scroll.loading.queries[query] = false;\r\n\t\t\t\t\tm.redraw();\r\n\t\t\t\t}\r\n            });\r\n\t}\r\n\r\n\tcomponentChatMessage(model)\r\n\t{\r\n\t\treturn model.type() ? <ChatEventMessage key={model.id()} model={model} /> : <ChatMessage key={model.id()} model={model} />\r\n\t}\r\n\r\n\tcomponentsChatMessages()\r\n\t{\r\n\t\treturn this.getChatMessages().map(model => this.componentChatMessage(model));\r\n\t}\r\n\r\n\tisChatMessageExists(model)\r\n\t{\r\n\t\treturn this.chatmessages.find(e => e.id() == model.id());\r\n\t}\r\n\r\n\tinsertEventChatMessage(model, data, notify = false)\r\n\t{\r\n\t\tmodel.pushAttributes({message: JSON.stringify(data)});\r\n\t\tinsertChatMessage(model, notify);\r\n\t}\r\n\r\n\tinsertChatMessage(model, notify = false)\r\n\t{\r\n\t\tif(this.isChatMessageExists(model)) return null;\r\n\t\t\r\n\t\tthis.chatmessages.push(model);\r\n\t\tif(notify) \r\n\t\t{\r\n\t\t\tthis.messageNotify(model);\r\n\t\t\tmodel.isNeedToFlash = true;\r\n\r\n\t\t\tlet chatModel = model.chat();\r\n\t\t\tchatModel.isNeedToFlash = true;\r\n\t\t\tchatModel.pushAttributes({unreaded: chatModel.unreaded() + 1});\r\n\t\t}\r\n\r\n\t\tlet list = this.getChatMessages(mdl => mdl.chat() == model.chat());\r\n\t\tif((notify || model.chat().removed_at()) && model.id() && list[list.length - 1] == model)\r\n\t\t\tmodel.chat().pushData({relationships: {last_message: model}})\r\n\t}\r\n\r\n\trenderChatMessage(model, content)\r\n\t{\r\n\t\tlet element = model instanceof Model ?\r\n\t\t\tdocument.querySelector(`.neonchat .message-wrapper[data-id=\"${model.id()}\"] .message`)\r\n\t\t\t: model\r\n\r\n\t\tif(element)\r\n\t\t{\r\n\t\t\telement.innerText = content;\r\n\t\t\ts9e.TextFormatter.preview(content, element);\r\n\r\n\t\t\tif(this.executeScriptsTimeout) clearTimeout(this.executeScriptsTimeout);\r\n\t\t\tthis.executeScriptsTimeout = setTimeout(() => {\r\n\t\t\t\t$('.neonchat script').each(function() {\r\n\t\t\t\t\tif(!self.executedScripts) self.executedScripts = {};\r\n\t\t\t\t\tlet scriptURL = $(this).attr('src');\r\n\t\t\t\t\tif(!self.executedScripts[scriptURL])\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar scriptTag = document.createElement(\"script\");\r\n\t\t\t\t\t\tscriptTag.src = scriptURL;\r\n\t\t\t\t\t\tdocument.head.appendChild(scriptTag);\r\n\t\r\n\t\t\t\t\t\tself.executedScripts[scriptURL] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t}\r\n\r\n\tonChatMessageClicked(eventName, model)\r\n\t{\r\n\t\tswitch(eventName)\r\n\t\t{\r\n\t\t\tcase 'dropdownHide':\r\n\t\t\t{\r\n\t\t\t\tthis.hideChatMessage(model, true);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'dropdownRestore':\r\n\t\t\t{\r\n\t\t\t\tthis.restoreChatMessage(model, true);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'dropdownDelete':\r\n\t\t\t{\r\n\t\t\t\tthis.deleteChatMessage(model, true);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpostChatMessage(model)\r\n\t{\r\n\t\treturn model.save({message: model.content, created_at: new Date(), chat_id: model.chat().id()})\r\n        .then(\r\n            r => {\r\n\t\t\t\tmodel.isTimedOut = false;\r\n\t\t\t\tmodel.isNeedToFlash = true;\r\n\t\t\t\tmodel.isEditing = false;\r\n\t\t\t\tmodel.chat().pushData({relationships: {last_message: model}});\r\n            },\r\n            r => {\r\n                model.isTimedOut = true;\r\n            }\r\n        );\r\n\t}\r\n\r\n\teditChatMessage(model, sync = false, content)\r\n\t{\r\n\t\tmodel.content = content;\r\n\t\tmodel.isNeedToFlash = true;\r\n\t\tmodel.pushAttributes({message: content, edited_at: new Date()});\r\n\t\tif(sync) model.save({actions: {msg: content}, edited_at: new Date(), message: content});\r\n\r\n\t\tm.redraw();\r\n\t}\r\n\r\n\tdeleteChatMessage(model, sync = false, user = app.session.user)\r\n\t{\r\n\t\tmodel.isDeletedForever = true;\r\n\t\tif(!model.deleted_by()) model.pushData({relationships: {deleted_by: user}});\r\n\t\tlet list = this.getChatMessages(mdl => mdl.chat() == model.chat() && !mdl.isDeletedForever);\r\n\t\tif(list.length) \r\n\t\t\tmodel.chat().pushData({relationships: {last_message: list[list.length - 1]}})\r\n\r\n\t\tthis.chatmessages = this.chatmessages.filter(mdl => mdl != model);\r\n\t\tif(sync) model.delete();\r\n\r\n\t\tm.redraw();\r\n\t}\r\n\r\n\ttotalHidden()\r\n\t{\r\n\t\treturn this.totalHiddenCount\r\n\t}\r\n\r\n\thideChatMessage(model, sync = false, user = app.session.user)\r\n\t{\r\n\t\tmodel.pushData({relationships: {deleted_by: user}});\r\n\t\tif(sync) model.save({actions: {hide: true}, relationships: {deleted_by: app.session.user}});\r\n\r\n\t\tthis.totalHiddenCount++;\r\n\t\tm.redraw();\r\n\t}\r\n\r\n\trestoreChatMessage(model, sync = false)\r\n\t{\r\n\t\tif(!this.isChatMessageExists(model))\r\n\t\t{\r\n\t\t\tthis.insertChatMessage(model);\r\n\t\t\tmodel.isNeedToFlash = true;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tmodel.pushAttributes({deleted_by: 0});\r\n\t\t\tmodel.isNeedToFlash = true;\r\n\t\t\tdelete model.data.relationships.deleted_by;\r\n\t\t}\r\n\t\tif(sync) model.save({actions: {hide: false}, deleted_by: 0});\r\n\r\n\t\tm.redraw();\r\n\t}\r\n\r\n\tsetCurrentChat(model)\r\n\t{\r\n\t\tthis.curChat = model;\r\n\t\tthis.saveFrameState('selectedChat', model ? model.id() : null);\r\n\t}\r\n\r\n\tgetCurrentChat()\r\n\t{\r\n\t\treturn this.curChat;\r\n\t}\r\n\t\r\n\r\n    apiFetchChats()\r\n    {\r\n\t\tlet self = this;\r\n\r\n        return app.store.find('chats').then((chats) =>\r\n        {\r\n\t\t\tchats.map(model => self.addChat(model));\r\n            m.redraw();\r\n        });\r\n    }\r\n\r\n\tcomponentCurViewport()\r\n\t{\r\n\t\tlet model = this.getCurrentChat();\r\n\t\treturn model ? <ChatViewport model={model} /> : null;\r\n\t}\r\n\r\n    messageNotify(model)\r\n    {\r\n        if((!app.session.user || (model.user().id() != app.session.user.id()))) \r\n            this.notifyTry(model);\r\n    }\r\n    \r\n    notifyTry(model)\r\n    {\r\n        if(!(\"Notification\" in window)) return;\r\n\r\n        if(this.messageIsMention(model)) this.notifySend(model)\r\n        this.notifySound(model);\r\n    }\r\n\r\n    messageIsMention(model)\r\n    {\r\n        return app.session.user && (model.message().indexOf('@' + app.session.user.username()) >= 0);\r\n    }\r\n\r\n    notifySend(model)\r\n    {\r\n        let avatar = model.user().avatarUrl();\r\n\t\tif(!avatar) avatar = resources.base64PlaceholderAvatarImage;\r\n\r\n        if(this.getFrameState('notify') && document.hidden)\r\n            new Notification(model.chat().title(), {\r\n\t\t\t\tbody: `${model.user().username()}: ${model.message()}`, \r\n\t\t\t\ticon: avatar, \r\n\t\t\t\tsilent: true, \r\n\t\t\t\ttimestamp: new Date()\r\n\t\t\t});\r\n    }\r\n\r\n    notifySound(model) \r\n    {\r\n        if(!this.getFrameState('isMuted')) \r\n        {\r\n            let sound = this.messageIsMention(model) ? refAudio : audio;\r\n            sound.currentTime = 0;\r\n            sound.play();\r\n        }\r\n\t}\r\n\t\r\n\t/**\r\n\t * https://github.com/flarum/core/blob/7e74f5a03c7f206014f3f091968625fc0bf29094/js/src/forum/components/PostStream.js#L579\r\n\t * \r\n\t * 'Flash' the given post, drawing the user's attention to it.\r\n\t *\r\n\t * @param {jQuery} $item\r\n\t */\r\n\tflashItem($item) {\r\n\t\t$item.addClass('flash').one('animationend webkitAnimationEnd', () => $item.removeClass('flash'));\r\n\t}\r\n}\r\n\r\nexport default new ChatState;","export default function extendGlobalStore(models) \r\n{\r\n\tapp.store.models = Object.assign(app.store.models, models);\r\n}","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['components/HeaderPrimary'];","module.exports = flarum.core.compat['components/Link'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Search'];","module.exports = flarum.core.compat['components/Separator'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/fullTime'];","module.exports = flarum.core.compat['helpers/highlight'];","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['models/Group'];","module.exports = flarum.core.compat['models/User'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/Stream'];","module.exports = flarum.core.compat['utils/SubtreeRetainer'];","module.exports = flarum.core.compat['utils/classList'];","module.exports = flarum.core.compat['utils/computed'];","module.exports = flarum.core.compat['utils/evented'];","module.exports = flarum.core.compat['utils/extractText'];","module.exports = flarum.core.compat['utils/humanTime'];"],"sourceRoot":""}